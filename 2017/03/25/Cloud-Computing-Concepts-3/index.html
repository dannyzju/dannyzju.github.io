<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dannyzhang.run","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Peer-to-Peer Systems is important because it is a precursor to today’s cloud computing. What will be covered in this chapter:  Unstructured p2p systems, e.g., Gnutella, Napster, etc. Structured p2p sy">
<meta property="og:type" content="article">
<meta property="og:title" content="P2P Systems">
<meta property="og:url" content="http://dannyzhang.run/2017/03/25/Cloud-Computing-Concepts-3/index.html">
<meta property="og:site_name" content="D.Z. Notes (Beta)">
<meta property="og:description" content="Peer-to-Peer Systems is important because it is a precursor to today’s cloud computing. What will be covered in this chapter:  Unstructured p2p systems, e.g., Gnutella, Napster, etc. Structured p2p sy">
<meta property="og:image" content="https://lh3.googleusercontent.com/1xUO2uOVFcxMrRtxu5aPHmaYQ0ki5OurLTb6V_vKHhbxqYKWpDgkmlU4F0C1UwdMJ81HNdW44B5FFKR5H9dx6bTJOGFCky1rQTQWjh9juN0J3sYQtjMOeLA21cjEVoPH4Tr1B-EXkrxR6X3QaJJg-HWGj6_EaJKhle0v7JfLLLRKlwDHclNUIgwpQl10KLTKsLKpEALbl7uDpLI2oiaTrKCgiwiWftBO_9lEiargpxg3kaFSZZaLjy1q1H8J9aGYBM-XffE3BOpSPLWiS88Mf9TbBvbBtwOv1z-8uh59auq2_Hj67JOjcCxZE6oAhhdpa7Eu_GOlXieOY6JyPCYq1vfi94fVMjUgitYejNV3UlnRKHtyh0DDhKSP49hsd02llPToYiqZQQf2TcsOz1cXTpbrJAObAxdw2omyEjQCOvY3kTZ4BBfScGnGefcykyIU5l9nlkOyivRzwgtl-6HgqT7xsMrIi6mB9MqAvYMh2ynpA0-06nBHfDpjmIFLvRVGlgPL0r73i47_FsWmy82yXCCDv2EHAlPmhXxKhrphs675t0rmDLCNyJE3WHNcqPB_RZoOrbHjTLvfFn1Y8xTpbjmEgZf9tgxGbrGqoKYDn46088PdDONgPjK3S9UMsw3GCtYO39CCrC06xPzgaqMe_mKsKbMAG37HOE8gedc8Nw=w993-h624-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/nEPVln8yqe-XrB9M5K1QfFfJdEYL-zmtFAJhmr28YFUBttMqHuI2kdejhh4Xd24KTEO2anFMrz-NA0v5X-5QPsx7t6-Vzs_TdwTyvqrL1yFjSamzQ5fbmIkw4TH1zlSyEM8MLiFnoW_VzGZ0IFb0mE1ptrp_cFfxh83Y7wJv-uVyhQj5hDceBpPEwI3LZ94wfgIOV1PA2NxytgsIHwnD6pHRtYqwvJkCn-0ovsx8RCvpeCqSuTmyrfq8-LbSEMg1r54EJqnlEFMbXiGjpTIoQSzV-QwvhIjPGMLPdqM8bGwhZdSJGb_9T-LEboMyKGlm_8rL-2yTEJD52qBeUriUFZn_pc5nX2WAvgrU1Gu0h0_osotM1xDwpzJpv9eam_hXr40b-s5AUubAk1CDgVEn1SluDNZ4zNiB1iJmQVu2-jakCfpE1541CI6QeAWuk48vraUNSq4JiJF67x9UvcvW4sf3si1Zcx-RfdkdldFKcL-tr7RwFdbYh6NelgUve29Z2x0WwxfmNDwWV9jf8IkiklflvFc3Ft2EjRBukMU6aIvnYy7NLAoLuw3mtFycdZjGh-up0MhFlcBtYfskopuZQVaABbCM0I5vtGfAH3JtFO6eNausAOUOTPGYeRg_NZMFL-1CFKmgQTuYi4_-De2HSBnOHx0rRN01GMvP21TW_w=w997-h622-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/E-oSzLcIcVVpqK35ox8bgJQZU3zjNy5KjII_RJTR8BgxYFTE6AfNrEUxLIOt8neXcd7nC8gqq3Rk4oBwwUlfFk7QMN9pM1dVQ2lv47IPfT41vcHh7K_TWt0taRgK8Akst4AMdXAG_jUUrUJmT1Xh4dKpkSzi9CrDf2rM_cAh9QY69bOe_GUyOKRLJbie5t6rgx3GlRSmbdctSZk9zxiYJlN1xuXVWvIAFjZBhu4iTbkfwiLnxcKK2YaZfuVoA_ZesWiH013IY1qD4LGHYN6wH9i7IgfDgx9nh53NZeO3YD4wttMlV29t2B6hQdkzkU6Jq33TPsT4IuUwEep2iUQdPl0RNrOBVxe3ktsbetRIFBfI8hxcLV40Rg-vftCKL44C8fyxkJJ-ZsJaG_fPodNpcTujRq8i7EukE9J6qpk3i8-3ClYTuTWNbT0XMVEz14hZXzO0UDVdm74ukSXmCjTW-EP2ZnrsMFWTzNFP04Z9auPnSN0af2ziNZh2YOwHBEx28VI0jwImzSwU6HAv_OxVL9LBfKQbSzwf6Q8eaNuay9B8aabfgWuIsWC-FRLG8_9GXabh4RuSWSZibvsbwcKxTOEISit4CbGDxTi2xSbF-UigZyS6dl8tsdiGCaP4j0QMBockuc1cp2CA2qZJjxbVfAJCkTdRyC16ljWZo07dEA=w1136-h737-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/LRSsbshjeCTQPD269zVh2vqZ3BLohu1StylZ35qPyTGHMMh2loNAMf2439lKocqGJ9fcGvhA42tu7abahe5miRGhJJAdcF4qsftmPYkzEHg6tbl3kRuhdVzQi3MobJTvYxiClf2Kp9IkaaW_LN37i-Yb-r9kEASk2GHHJM78xIzSCH402nX17YYXamRFn9HJAyzPygXwjqpT8rGNzJM17S9kismQI9lMzrVyJ4C_6ENPDzvzOLxz2FKNWNLWIPccrsy_clqIf8i6O04ljmvcJy7KfFEy_QCvFam10h6KNKUPflBIb7JXFol-ELG9QSUSai87TkpM2hZ2cw04pdq-jdj-iGbPNyDOTkTeQqi4Q3tBbeM8_sBGtbQXGPdeQuItodGCRRs87mie-HVSw0vn_KvFqqwHZ8PzecYHof24PY1RpgxawCsm-H7szc4Wp5EoxM5vtbYzhQwmyAniq6ruJlhzCfcAz4qu_b7Hb7au3jXl7L-9H-hj-V3okA1bcUZUMctO9LSGO95Y79GngeSodywmp60HmyNrWMRdoQjF-FDfnA5dp6jzWIPDmb75DVBc3cuv7kCmVInR72MbLodURPem3ryJCKQfg16ZnyXprA5tpM9x_lVr0MSC0p0VxzQbwpl5ZaxSeRLLa_GqoOsTb6eAgsH3PhrDhdErsiCf-g=w1199-h545-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/t5DT0ws6785AzmBtbTxfZ_Evm5Me8GehCp8A64fsfxg6agC2y1W1tSUjt7z7pf5YGsD4fjGvMfvHuwtD_1pJ2-moc3w8eWm5j43_eiOZDvlKfQoNrHx3aTfZbCLFhSEBAbi5U7MHinRGill2qS1KERb7dXEW0DfAOCKvcEPrlyj1-uGGazcHAO4sKTI-0Ns_p7Qz9NGmIVs5IKqAMLCFPlX6btZsSdyoJ0jgLiojFBiugr12W9YOvygzHjO4jJL-C-SEOWN_Diat1Z1FOl8K1A1qpDOmAxXIKTpVvlH8Xy3aF7onZ7QCIBGt51ysVG1iXS44UffoB5dTAJRwkLd5SLPv8f6Sv6k6qJT21LYdCcZGejxf6U1JflMgEYURDllqp24GjmCvOWz5u_7Fm_i8IWUg_Sx9D07kT3XN-gyYkjtJcCvRKnCDp328Zyj_mHjnH8CJ2x3C7bx7Osufp0AQSku5Le9EdHLqFcQ4GYHyWAHqC21MOVuG82zgk0qg3ul8qBwol2xu9LczhN5qqwawtVSpT2FhzwT0yyD8kKsKePS8gzVw1ULH_Nrb6_AqOt6gxypYVYLuUHgEH5U7Fe8VT9SKNCFGQYRv67UTjD3OOm8Cn0iLYm5_-vaUmVopnUR2jRo8nSbn3q3xyzFWhPBOF7z7LFDrh2N1x5TulxPTAA=w1131-h610-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/WL2uOCLMOsYsv9N9x5O_nQbFWiDWARQ0OzzXMlKXJoUybULNqltEP8F_Hy3WNZsx-Zh_S8D4xQKKNtDnXZJUlY3uMoJYrvA59qW-tLcuhsTe_bUd2c4otsAojchZwAzoMORqjWQGHLbAwKMVnJ8RZ2oh3knh8xU7m83vES3HpDs7O_MLn2QDmcsn7MbJri3-SyjUq1myzz9Mhd5AB_bqMIaKMc5iMvn_LnUclVdXcAUyKLrrc9ZwODrfaS5Cieh9Owhgoq8tt3vdwkB7bqMGudIsx4eZDIoc20grYpA1XruiDIxS3fpWEKw7xzTqd7N7SgMlfY3ANhL1eAjkIFgVLVqT5mZTP2PuT3ndbyQ6ILKhQOBxDfXLYCTTR0znYEurJLb5fJwQndyTO7swvufZQ1GSeXL7EwK52rbHDb4X0yVhFKLqOYyctQXlSnCXkGPhMGWCZ6_xXWLC1mSzXPrR_02wpexhLHWfuE7sCDmsweKOSA1JZ6JVJUoEjPtBql25XXPJU9U7Mlc2NaLKQ8LvmdKQvus3k_D2h1Gwu1SShBLNfFZotIWFKzTZuez2ZSxAn055WCeoWmvNRMgQ8CckFQZ2OqckljVtIEdwpZVxY3_3Ip5CPYiTuTwpluLTr7Pr_9ERAFUyCXixr472GFJt1bgTXfQeRmREY_jTpIeQGQ=w1161-h733-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/c911jczEQAMunfIYehuINIsTa2wHqstosXDE_dWzalq_mnBlouQ9qixr_1vhIsk6fjdP1IPsW3BYrKYjmf5WyWS8uWoOD-eWo6oBD4DhHpcWeXFergI4BEylp7LBHLZvula6gw955_wnTWiPmuRvHQ6EBR_1v_-4J8cGUXUwFd5veVtrt7n0AUza4BcaroG9hMUVg-u7Yt4LHorWy9Mkyts5NGeEDF6R8zIvKFqY4Q7-uyzrauU5B4KCWNEFWMwhE58-zRIdLibhlSzlnYmMjo9tbEtUaNdzWmsW51tTxZXFdFL7QPGWXZPMUf8QZ2M46YXR1l5giKb6ey0HH78lcyAiwG3O31gvzgUIRNGyFWVtL_7q9_Ibx1vO1y86ZGhstrbDmcc8g4pUvw16t6Oz6ZWD7s4mvgfljLhBAqIfgnZ5sOHAvBiy-EmWnruRNHQ9sPqGx_0WBxScZwPnNdrfnkNgxGvopOAD-oEf98vFSi5cRSMww5mBVYKsOX5DbbBu5roU0GCzVzcz-bw8XbwMNVzmAGieCGFe8KqRJCVZhILZC2XTNJxD771VApTINguhNOROxcISHuU58IQO7vDzVWwar4ndBpboUbsIOyR3UT9T4279_m3n-xcwkoZtg3CB9qvTqABj-CKvRACcHHp8grvzV0EgeW03iaNwDXcyDA=w1199-h593-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/Yea7x5cEVn3Hz1emPWPwXXlG_FXayMCiUBcSLKNKfcug4uYQytFUCW4blH_ihu7ICna1lqlFQw8uw3bNf4obpaD78M4TJNy2V5l460Cepdr65VqWflZTgZ5yY05KgIRdunxSAvOUcnr89DsreJ2Ae9LhBH3H_7zjsRpej1NUIYKBSptY5MLkyQRGzI4ZWtnzBudtspCZR9tZyVfJUC-bHTfEg23uZqo8YZEQ3VIAs4SL679Y_UJefozibd54UPy6FoXQfCC23Lc2RN9sFONBzXVIsCcF3jBCa217rkeHkTGAKXV0bsnhsC6Sc0tRLd4LZwy-abX_k9Tee0Og2-HCia5QI3IMIlMO8vLhnreQbkix8XB_0iz-eM558g4aMLHdYyee2wNYOAvMqj-73ZMBwZQTLvamMOkgJXLDXY2FOsXu5QtMtRSDKN7AClIW_mPDm0dl_CCOv8HSKJgmykui-GGVeINBUHyxXM-fTdf6Iv6_-2PbIlC6_Q9PgCwSPxkLXG3xKQNZTkZ2X1nh4_9m4PB5eWeokVzF3Id0cfLiy2WXJ5oV37NXFrpMqTLwkdIXBFbhKMdJU7Uj1FhBJm9Kx01RXXmhtpmaAzUbAquBURHtR1HRF8brlTyhTuZFPRDN722uwXvs44TyW8faBN51LoR9JguppmI_JRky9_UjmQ=w1170-h734-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/dmLEy0BDI4v-jvB5RwPOcfI-FPtwOKTPNekn5IuiHzmmeNV7F-BgEROc5lmKAcRafXj9Ke_HAiQ8C1jSAj9N-UzVNN5ynX1o8863DYTgwlqXdVrP2-zHhVUVm9CiRyKQKbwukRucefS1WAuyIhReR07tfhO8_QTSPY4YMkkkOAo4MGtnfjR3C_EuCZmMdUmpFPQX78Yq2RUVKdUXlXBjUkL64JJ0D5Vie0XIhxe8B-QBO4VYKoHPSTIAqnt1SUFyqgpmUoN73J8qXdLtC5fBZ5t43Dc3nj2zRP9Ho8cVTga_BO3p_bw1YFkjAIzAE25njMQWfLJGM8AVXb-O1vlHBd7ibDy8NPbJb-b8yVDOMk6KnwIckhi9_rqdTVk5Kx6fd9OGbX-y_gEWBlkwuLKRSZfXEK2TNYAnRoTSWQj05Gi4LHT_AIHtI7e_rgptjlKV-O5Dx0LtXDZzRudG2YC8DyeM_epis5pmiCCAv5YpQkjQRUb1ctHWIjVAQ4kqYnEZq5xY7_lSAs6DCPiPUL1Ul1KaDP9-oiyr-htcSESTF9FKKGSfK9N1jOEqk40EdxEaasKKaIBywaUOVLGUWimcMYi7hxyDJWM-jDIWiwHR4ca7MxNA04WS8TQ7MspttqP2fcKL9k_S79q27S-D804EoVNl35-5nz8ZYonpgd4PDg=w1199-h698-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/fl2Y1TR9pGUndWM2tcK4tBGHTipAP45fsusvV51v2yIvbOC4ozmDHO8MZNzOCQnJfYF9qzLRD6aRFWnbXVko20lsfUHbsUSZEFYgeYDjPnUAz1VhMf4pRewMvkpGgEysvpBOvYojmPSq-CfvMMxGC2e78lvTyt99_aDxJiZ5JIE2iSl15HHhaYUfS2tcjOrsUsasmcvK2xqOjQw1rn70yXu5Ut_brqHNnqE_VtPOZZARyVAIM-nxl1eQTe5nfn7OMMQsEJpNzXGhWXcA4Z8SROeXoQQKZ1ZYjD21ku15iiALdebmuGoGDOoQl8moMhH6tETfpYXN-VbZCZgm27CT6ZSVEk1uHb4N3wy-tbmYZk6hqjZoAY_8THjg39dqsKrp6tUIBHT-KlbHtqaDijz3bzD4XfpNOV5amMa3ZkBBki8TNC5k2SMSXiT9EHIrr4fsKM_nKS5p_Tn3U51e9E30G6P0IvVDNCJgryF0eXXPR6X1uEEKngkQ0-j8IVXRdqJCxdbGdQh5DVL7tjhBWA-DQaknLj4DZSVGSPh9ryMjUta6fu363_nki8C7b1V9h1fm_RfKslrVz3ucxBxE4crJImuzAuC7QPcpr62vp6a2EJWRbTpOKOwjKwS5a1I3h7V5t_T8kuMj-deQ5KYTeaqSTZd9QlCsYVpRUrxhMv7moQ=w695-h459-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/y0GASC1IUZFxTcmX0ax2rM6YZ4uKFeBwiVOxDQp8GA4BQUugzv2lanoUKklDahD3NBNLIX7BeRwlZooFWBaVf_W4w2EAC4hnP5J6WUAe2yX-d1Cwv5DcGQkx9XYuNqT__bfjK1mHDSllTZJ5E0MPRZjaJKWDKHZW7KBiS0X-eVDr0auI5eIqQokA5gPfNcEtbnyWbsJzQktceFPBhGCsrWpSRaB06716kGjw1JQGXVd3bJkizskJRq5tmRu6SULzeqWQdzt4FZWCpm7AYDGTRXBMVBbq-QgRj6tIDAj2c2f0xPmWzPMCVa8CMQnJJ70u15nX8KozUo8eQ27WfhtsAycetF-dFaIc3BYtVB4o8JEhWXbLyR30cgVoJc_RuGBM4TD4ScOrM6R2IoukKYMP7cUkGO8GqBk-f8XfmzxqVQNRnvmE92kbWEmuDvNp2IArPQpnGvVMbq57tSwUjPITblwDqphl7sFR-LzlKvERLPfN4E1B-HAiUG2fdSpWLa08rLd3r_2I_OGqxPGXfOBvBtOmmAIWrNIlQLX-xEP1dqufE8i_dxgrLSXyK2I4H_lrI05O9LGz5ggzhRzUq4egt2xYGDaKaA2gASAwcg4-NBrllfZovxX5wuye4oHdxo7GN4nWts8ljSTRLRsA77uiSOwAMQLESTmGdho2Me3vCg=w855-h262-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/APqwNhTcyx54MT62fS1Es7uE3-vP3wQpO_8RkPfy5x_Hg4R4SpBJYOl_S2HUXvfHXdgs4G4_Sf5f7cfVNUXCSosoxODs1f3_0VZZfn2-zyk4VFhtnXn980hNrXavYyPZaecNr3xRzKsj-hNKr9Av46e7rhro95OfwrmJ6zXL46yHPdJGbndsnjbR1hN-ICwtdSOCozX-HVUALGOu7L-vv7cXm3rAlhBdOtxhnd0I9Pb-iV01dVHjMm9j9yRdIHN9YSOhOfcgX7v6sQPpN0dS206Di1eGG2B-3BNXCAjDOZ5gEspP0vEocO3BIP706q_rkguuNddSq1jUMni7kNWTBWSlyv-RnuPaFlleFuvTGVBtj6mJ6M18KwLOMxEcrwP7hWzSAW-tweuGYUZg2xaiqcnNrgLswabE_7NT2mVB3HOnm33LbFxITrx-cHEi1-rPmGEMk3jsnry15-KWIUbc4BrFhN152UZkGu2pPm9IvFju_Qx7jrvWijK_hHtzlev2Pgd8zE_Hu89qq9D2NwQNDUkzE6r1YB-ZUKuix0uG4nFypUCud_uwcI-3L2rTmfviGqqq1C5ZtWD08f6-G6H5F8q8zEKpg42faVMmeQ6jIj7Ke_UK1iifch_MukWYAvAaV6fI0Dl938qBme7xqt2AxfLPGKEwvPn2ljiKNHOaCA=w824-h496-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/FZgdQchpi7QmQDH-I6al0PVvKYPdfCUghCGEo2HGQnKZaFZzO50CRHO5PeKXQd6LbFgsuNMI6DHr94sxODjVULnEI_3cHHkPZAZUrCSkQrvbtefFkq8c9TXm9c6DDU0VH_DIhBmH1QhK2PeueV4GSIqDw75Lin7NzKr_WQiS8-7y1JS0LImy-iwqJ8YHgLhrRWY4LFjVOVBDX20J5yv4D11ZTLC0IJEk63GnIMPIgbzX7UGAl0rHJzIBFBUf_GuuMj2HRuLbPQb6qytNeyM3sCD3MYvqJJO2K8L4Su2pRAw5qp06p6iNVoLgJvYZzHFWKBFXBj2JEoknQPuh98ONlkjpj747Q7D9dBwdJyj9e65f9dnsVnWL0HydPSvQje7qviobbRTFmimq5DK6BayUqTnMxLP8E0VsDrupXRAQQxckQQ5J7BdV6nTuW7BSbBgoNHrYdXUCwVRVxl8f0XRHcwdr7rQRp9vi6U5KN1DKrO_Gkw-DOwV5ButB030D4yelinbYZLQlZ5mKD9DDWRNJxoWW7b-QxTKT42tyNlqhNXAkjGPwsXntfieT7cxRN_VRNaaJo02Put--uaX6LvCec9doBEwuaW9NVCmVQuLnlgSHkKy2LRTAFAb6TB90-40oWvrPsvxP73Y7uI-BEecAHQfETLCS2Ok_Jajhg1lfKw=w824-h500-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/Q8mF1tb6uR4nCwOFDDvDJZS4eNH78zpW4g93MHEVQ7AWEb9LJuBzexJpoPJbOG3lXeV0kRxtwKz8y_ZX3UVOru1JXr577dL9Sr-CgJAqWQOWA31noCpWp49Iovz4XwQ-r1Q7ZzGt59lUolMHFZe3Gp-LDzTnk5nBRTYJdx63qQbPqA6DaaBdCk-iVUvooYNEn6b83dxH8sfJBeDYQ-yxRN8mfa2VjhcaKA-J70yYnPeTHQArw_lhl_mYItp1r6WBNyMhlVLig_8Hr7QKPjSHqBma23BQmCAcKCw9JcpMPTNFlMYUZy2hPzURL0sopE2ysXtIAH1KNCh56x4NK4NfuXedO1YRjftybt97sJOiX56V9FVlDQdm69Y36fv5cV4TeFS709v19X6qVPoL1XRgKDnHmhOv1Kj9BUExYGlpizN7v9NiappcUN216jlholoL-62YzfCFfvrL3snnINspSVRkv7tH3d_1o9YLiX31MARFTpX36NUQB415oNmNGQroYxHgbY0l1m3x8d50bxi0VadkXMiX74wGi-0x_pxMbNe2C89VzX-vSUX_VTIu9HmQarlPi-54eL0gTYiWLob5s1GNXAxV7IXED8kh6HU3rm1QJh_p6vPVVALuXtyEcFesXCl2R1oc0nfVNTJy0WwNASoz6GPqDXaictow-O2HRg=w1006-h558-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/WT623T_MCVdUxDTx_WV1adLWQLWGxhGao1nTzPnD3gURsPnV4Iw8ib-ghmAG0MGJucDMOpjuT8qnVJBxeUcNaMhn-eM5nS80TFU5CO89qtxDKSLNfhJCXeuzlGarFzRuNFR7YzVry5FkdUGJVqPZnI_MYsYFecgHoEEizntjDrdB5sVaIqV9bNVKcDwJ6gTItYss6PNIla0oE8RthL2LfvbQKdrrFPT-hP4FdEp1DXmSIgdZ2WG6SqmsIJnri-EqdLZEn-uZ4rwEF7Mtez6092zvjok9eaYqol7-BAmJCuxkhDDSm2eh2D3xSQDnGnLjCl4I4-plh5FamYuvO4mIL1J85mD8hi4HALqZxdN90tpn8pypZOahqegX6bSvZ2ZwEHT_OusC529Rs7W-b0Ys0eCtw_yVWh7Sz0EO3W76NVuLCpY8m9CeLMbTvlu6otu6dbaAomvCmb6mC4Ax-BgwRUVbchmBYpWtqu5HJjtvhLrTVnERFOw7fDlySOJEaFv0p8XnEQ9D5G6VI9KdWsdYPVKOg6vhN5nz3gPeEHXbDselbwIg7ATDTy_59QaOqX2LHmDbxMB7vfMIBHL0golwAnGUZhTCsI_kgmmQ14Jb7x09jw0FUGqUAt-WTkX8bGufQiKFc9fIOuEb7HgytQ2OnJznnSXP095oEpPu7d8BaQ=w1005-h575-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/RMfXjJem5R88pR5LOVEgc4mphhLbb-KE0in0Y0MLnnSYkIQgnvMuCfmlnihBdqkpW_L8hKqIDTJftG3xzKi-m6zS4H9KE-fDNymLTO77u7yGHyeTKU4ySzY6ODj0oRaW7n3ejPI1TxTtNdAwfR-O1Uv_4VIeQrDClOQP-VWHpiQJ-4cX2GG9hebTK8aSyEFUgMJwE3sj-fssGsMyMTBIZkkrhs2JR15tgO7OdsxAnuJRSkAOqnFMfpwt90XDkoMUgjQ8OKBCRQZtRkRhUXfCYPVImt8MOrIO0CMVz9IL08enopedI-HZEz3EyWhKkFwfTUfZmbisgNIIvI6ox4pJ6hESBedJMxGMYQ0bv3A5n19bjv_IVmO0_xQ7S04guoFaEgHbQaX9hG5QM95QGKWdQ6C5u9I3IQQYIUezIv5AiMXYLcIeIW-GStFsX3yJKkOTVhBBHkuXH1Ig0J0Lf8DmFJ9T_9CUI4H_1EBEh0YwBraE83ASEuzXNfSyBqJq7LNd7XsGvuZG_McxhYjSCaNWG4_XfI_P66B0FzWlEa59KpBuGMeItRfUX-LfpSaf9aLaSjV-pcAhmfRHeRqEZGZ3VtmOXZbTmXkxd2x5-oonpH-A7cSJd_VEMedAiRPeWnz99nlZmoWzPKPvCB_onE4UPoArQsOOsBVnOSMIOykWoA=w990-h517-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/q4flxQoXToWb4t--H_gn_He68mofaCISK4p-vrGi0jgsFrNY3xtIzsaACg8I9Rk-wmpim6PJ5LFoaNkMjWifxV2l0ahMDXT0jmBtf_Nr-xSuM4gw-ez-Q8_vo1ex4iWu-nmv539ykuWSJD5u8RE68KLNsB9ZcZR5ElODTgLWa_vqMP0f7iVDMf7L4GtAvsdVFABfblcA3hHG5PtNBt5h_KBxQ6KGmLHFs9QWmigr_bTURI77d4V_9Qw9xRM6RckupzzAXrYGnOwWDmA2VEdgtoKe_RUFY63suVd6O55IZgdw6pxSJWedtnUCZvSE8vnjfpXwi364fyVcKk-caWvT0O-dn_lli9E5YgxXsUKIapQkynXvefm36uShd3QnM_p0CJBP4sh5tQSABDgqrlUHv1UlIrw3cX51E2cobS64XQWewAviPJF6lfcbMzUsFaoMDRacVY_d2_BhmL0o7MnTUuOXYqGUGfqgc7LNJH57Aw3kOU7ZhCd2vBoS0LZjqBfS2X2-I_wMNrvHgCAHtBgfp2rhO-yzOiwNImNvV-uVWK1skjSuCz7xWOdIzuBhnBV4tfDu27UQkMzqSUqI8lMY6_rncRwC3eKkK1CU2z4a23kgwI-SJQyi9uDabihh-CXLX_TTql5Nb3_om3BC09b_bwrHjSVjWhhWbgAw5Np9HA=w1005-h430-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/qKpwgq3yOFazF2YkC3KlZa-DhA43KxSQrOWSgGg8a0ZFgs1-u1iJZ3AbBYiQqUjF1LZGtOoL3HG_YT_PtNqX8mJsWBtd8eliU6HzIgMcj3V1D1bjmnLHbYvZXw57IIZ6SpSktVjvvwJBQaGNfbCQQw79EvU5bFga0SaSkE9ALUVTIlVYqdi1Syy_0EoTnx5khdzrwgt33cnmb-AVJlE44wKmfQCqsBurl9l0kdaajOkgIE3-aE6nViyTuA5Bla1K8dIr68UmxIKm3kN6yzY_NdTOb6LNWhetGPKHldTZUuN-TYu6MHOE97uKsPUtsE8ZW6p8JQOp-ZugSRwZIPYHDqAiqJlCdRMh6-lWoyJ7m5r2h4LMfQp9I2ZrgeelHaiplhzsMCTFfVZM4uYDYBX0j14pErxHmd5d1nY5MYAxFY_KKkCO7W0JuykFEk--0duBlRQ6L3_pB5ayJvqtBzwS_BoyU_kK4PalzphazYfV4gpRUc3a-KrWHAzwoZvLicCeBPBFgYfousF3bXTiKuG_JrQsoO2OVMZDNv6XBNrdmMSxpIDtsh_erXMkApboeotwtxxS2DMinGzNcn1atbp8gbU-hdu8s1ACzeEOB_i_0dDphqEtE2cWR2_A4ubX40wCvFERLp0IvCUnFBkqsTMpNZuk3WKFFM-77SZRvGmi1A=w774-h472-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/hELVxi5XY2h-3Cw6fHVeZvKG__temY7lJrFUQcm4jd0zQF6JeM8A73lXIs7ANpVH-T2s2blF1GQpIuXHd2_NQdc9xHyoAVErpic2Kvpu890B3iUkMiJi8uTxOxh570PL49he0h1QbFTUdF-UMMYXvN9HKADK8SNdn4hoouf0WEZAIlb8W6G1RQYOX3zH26ButO5I38zJRSYqaPnOg7SucXFvIye3xuNlp3K4hvC1eMGJtcts93xB_-WlVyw_Y6GE-QdS54pU-DOitXKl0SQqm-gEgWeOw9wgAH3MU6-4YeU93_wcp0xo1Lzxs4a5iIVmTac4FVoW2oR9B23kJWnwUSD9GaGlE3lyH44xZK2COk_26KRD7TI71PlIQ-r6jTKtPMUtCRL8wc2ax7_kTX2aWoH6bAS5Qd-GVLZ9ETs8kkfXFh0KGmhFmGNqQ8bsKIcdV3LV2CNUAX4ASYCpek55unLzApucUW_p4t_8ReGbc6pDKTsqUgWGyxqSBMKC0c30FDbMtxcKO7hyZHMUVe7VmwSJYGY4n58RSLjVCj-NmsZKU7PL-SLn-YUB-YAGPoQyFhyVfOJPh52vyLaHY1QF6pGwIHl5McoFnQOTQ2WQTcSdHDFkx-xbsEHtKArXcN0mWLuy8HTVkiF8XMHJ_DkE8muWeZjvJfUp0EYdWNKCAA=w773-h458-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/Bg9E7h2kb7E5BaSAl-NYr61NGzJ6bXTMud6uB8bM6x6urzXHSQ1B7hcGQ8AEoYFK69Gmu5WHawEmuchvRCiQWlyaCoLg81DCGGd3QDp0P91GKLsRO2gpJ-TApbpvcdI_yEW7FcIOPGeJsupdL1FDmfZeejqYc0lCpC37rLL8cnl-aYW_veUAAKXtW8sOXuzyD6P68RVfju5r7ilyKYJCG8DhVPS_1lM42J_4ZSm-6P1W00HxksUKM6zn-Vhnhw-_M3-zAr1rXiTIjo5pDc57MPhXch9J-D5Hy5O6RgY29rLHvopf7-rpF7hlLnVB1XxCkIQA0IUg5pbyqtUAu-rBo2CN7TkBoAoudiE-F5NNPIU2ZDcsxKATTnl8TKu2bFRSK9UZVo2hPv1HK6AMufXFodAevwLUJktlrBraH1pTHretl-Lq4dG0lsVm8cgnhSuliM92Exx8BzU7fq_aS12Uw44FJfAG_gXY4DcP8Ga6Ktz2ZYJZhOQPEbuEyq_6bhH4QxxZeCFsQ0EB5WoICV1oiYB8HDBZOovkYsuaX-Iyb9iU0p1rC3Qo8DE32w5bfBodvyvDTGzbvc_CCT_Cg9zjRrryLdqyQJDzaCWxB0zz5kaRYMRaaxYvoCol_aEqpQtE0BjeGEULYdFuJh5ihRtX-xk5u-n3pJc9zNg_8oXHCg=w372-h207-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/7Z2y7Mv2SmncJND1eXX6NiZlUyujHSZjl3_FI3u65RLisUEhFGRhuIsh1_0DMFr_y0TOIL8BwI2EHLhxFlfxTesXb82cH3R_sgOgnqLJjDWNmu3_-QyVQy_B9p9yeJqCPQApBIX_BLW59_maSrAkECSpFG6HexVvTq7soZtvwPslaVAGFuqNNlf6g_rL3h8oi15ccS_qU4r2IC4gJvBEfUuApDz-DEK5ZSNrGGMkSctbQNn5ycj53gGH27XVw6VeetXR8TSs5U33e7wzEXhN9K5dAzesMz-kkfFcGC-6cuWhFWTjaJ-BJ1nYWaZ6JgB64S2pc0D7OjfHZDSJ8DolmjQwyBdDo40mFIUXgKkgM4_5QLTzkd3T3-ARIHedE601RtF_cUr-8dXpGHsoYNbI6Q-ltSsEdpsb62b_qz8tc63VZWr1AneY-SIqGav-FF0UaY-onYuZ5qJQMSIkoY1MvcxG47fGGDnhQCrZRHcH3h_9477AI-ZTbIxv1fLAXeWL7SDgc19GwEyI6x1Q_lQro2q4Gzc-dxLTQ8uyfWj-FPo_TyPp_4kNxdbrYui33aCzBSGp6y7SY2iLm4PpcjgRUaHLIY2hL_Fszo6sbse425MQ0h2qegpHqgJXvlvi7iQVvNJxSOQNAgu3iMllrLeRcGa1ZuPlb8m6Ip0LD2tiqw=w773-h443-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/fCrDcjBZLDvqRY4-BdjWxKlxbKazX7wl_kaOWgN2pO618eT3zY4uRKqT_iZWOFyBbJc2dnjvD6AA7_HnxBI5TvQ9xXDsCUoNo4_EVwm_jZIFiKpoE3ncuVXeNXmyP9O2wRKJx1xI3XYlRD5WsyE4fKPSOV-i_z5vfKwmzPuOWziHW9mhmcKRZhmIR0A8gcSaRUo9TNvxB-GqzJzl0KDD4KA75bBtqAvDYP9yprmmxnzIzWqdwYXwFQ5VFYWcwiaX3KxuusO9HtkO4X3LOEgMPMdTszBml9DgxK57MAfh0teZ5tnlHcj9Opb7lpMN_27CLqzWPaDI13VvBVqZH-aRL9Ncyb8oFUx9YH6hh3MybEjNfKyqbDIJ7--D5mgTTNCOlpsZ4kVMKaIz7_HXeZLa10jMHuFJ21x4JR55_b7R8NjFijZCnP2bV0EEC9Y5RGSamHqHT4AvT7_y1wu5V_Z2YvZ8fq80PKsfIMgN4OxBWjJeXMf3_l8c8Qut0601HXeSFBiXMpt4AZfYL6lkb_Jv6DpfUNQUlWsj4aY4CKuuOhTMroCYE2K3QBC0O7RSYntYe95g3AvCSuwzvCKivAFCKHA5J98KzSWySD3ydmc83rWHZQZVkBEQ3gJ_2EfANjVas3sTbkcadIbO_tSsgGH0pOm6ph-01HIpWuxmsHdIog=w774-h443-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/jcNJUPI5iLuGObCyRzDY1MgpcMrv-uJwX_uJsry0EKo-rntC9dJnJTMFtt7oLtlgfAduL3-cElzpgs_zyqSW2c3g7-4FEnCQMZg2ulXmlEccftogOZ7kCSiKgoJp441lGplWNtSq6jsNyCx5sXGHtIOHED2NGWJZAo1c71I0JhTOhO16XN6LduanhF6Bjfv3F9aldRbKEJd9o6ret1qzwqfQwCBZZ9ZR280dlNL1VOi6GCF8w4pcBWETPJq05h5EpbJWqKng1Eq_gRv7ES-o-FT0TaaKaXi83_HZQGg9ykz84LzN0Oep958oUPzzSHep28NxO3ZFyjQFBl2lSCflpRPhxiOiCK3NfaVRlzCEdAo6rPW_yjrU2WPKSEQC4Ywi0UB25yfjyV52UgXjxN1NRoUzu4mhT-1kCW-QQy5j_marRss_3zdDr2554t8-6Y1jnIbhKEiNynqiEN_H9VqfqHUJSstBlg5J6T711eBMjgBOapDITYOsV4_vU5_86X5W5Qw7WyjIBV1kRsgdAyie1SGanVEuGU8Eg6K7DUSJ5v5_wOVYtIb3UFHTkw4-m3ZOKmqh9IN1n0CUDuEAqtUx3I45Eo3BtHOH-h1GKiy2x0_4GF63rxHWrZ54sdS8s-VfenAL8NBTL-0DWgXfPmHSZRRPOLSGi39DfEECAlarOg=w774-h496-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/p5YBAqg8u_2YgNOtjghPjqU7kbfBhY9nbxoj81_WZ5EmLDTEM3nGyQalWfPw2oH8YjSTQF81U4UprThaLoLsr0IQFOof9h3kuzej5nP1aTW25TqSxkW9HoHcn2rTarkgOb2pq57Zxjt9Sj31A0n2pwzeyI8YJz6A8nWWNOFyKDAVCHPwrjU8aoffGRYMbK5Ph-lL32RNV19TI6fsnByIVR5MekOsDRGi_IFUlfFlN6vlEGasqY0m7ZiX1qCeusf-Zfu8Y9G-ERtlwOE1MMPBc3RlcNAXrE3n3ZxhKttlrMmtoyUADBzEoeuze2i4S6nOnNh0jx2AMRINGH_JU9ULvgf8C-Rpx7EEoioemoXZgsHiGu2CmA9WvpfonpZlQJOUMSeS6tIo4g9pRnMrQtCwQUknk-Pb-x1H2Eq2ph496Qz7T9k_8zqUVuISKjK_WrYBljQFainVjpNiUpY-2V7pBQ02I9vxxZJ6cZBZMZ3eeJ3wKi_z5r1PHxQ3FFDQU1wHBUFtDzG0Dr_l71axtmrzQdOchCaXFOEwbbQVpKK-u_oj40TzKshg8J-uYpf7YrFWQ47jT54Pob37ZGDXjeQBvw74mPXacWeq2k-5oeAZB6oyqHFC3CgjrbV2_cybkEOpLtzyYBz44utXG55Q6zUEtsIgY2tcvRs-NXSRKJb5ug=w773-h481-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/nQBrB7OpWiWRNfSWgWmLoguYYXdQfRoPlk5dg4ld3alwUUqMwJWdkzJt-Ilh1hYWmIBAhH1D2D4-wIp-BQtYJ4X2TY8dSW7IEJGsY6mX7l81Qmgr6h1KXq5AHuuSKU9dY9Tbg9l5KOS9bslaFVOQjrB8d3aSwRq9RQlgyzcU4fgv7EGUTINgJAd0o9TqnMLobI3PuGpyfHSNdg_RjG6ShDRJgPr0Pqmg7E0UGW62UDwZqMchwnf1nWnTLEKc3U27j7vcQWo3476UlYS5TL6yRUwRRh-irKj7ECB8J7CCDFCNUE1VzPhlqJpbpFfZCYyAPBq_UjO9ydtmeO0RjaXyps9qSZRLLdq1q4nZO50dmHuBgVeK-Gdzh6dYzyATWZWEoL1CMwfc1x3jq-pDIKqiQIfIxhRZfzBfPO_VLpB1QKOzejtNGaIVerCbFHWLVFwYPeJa21EWGXOsHdh5wyw1e9NLQkfD0CNPTDXc1LrFCb8qHZ575LtLof7Ws91IeWcsiGxn-vdl9wr-CUOkgr9i3erngUOxwZSL8AiUZCQh8bzQeEf26W7dJSDVbyyMPKw-8yO6D8xT7qm2cme0iUErHucZsqKxTVk9GX09ZgYpEHUh7y-cy1qOa1Q88cWgNyM0jNoiNIanU1LUhEyeAWb85UUIq680GMx8Oj5u4yNHiA=w773-h485-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/ar6rT0PG-tFxrdSSnWiKsxS82MLrhrMg7XX-KceL6YSRyr5WcXQBo-daxuHYXdF3Ol7jCFmJgW0XDn-MZYestCAW2OttxAzD2SBtHoOMVngWgGRtBw6I4vQB6ZYQP-ervSHpv5Ye3nJuZFnb4IBJ8Akm9brEkY_p8KrPQGXMCE1TE_UlY5q2odY7FBB07vQLdZWFbuOJFYFhH7pa44WWBvYIZxvGhsPY6xkcjcoCwFJVHzb6LlX5xCoszL3mgm0U05fp98g6GV1RWiG_P6_YTrC1E2nMEQwFie6wrf9pP-nLuHw4B8loN55deDllRoO6i7k399UQIk47RA5NsiMDTRqJy2C0RDdQnLkwO-isvlqHJpye65KYpsGJHydzgZboC7TpKt4HSzoZEe6T5efx6gWB0UGdhBOUnssKeKQjS2D1ULivhA9Pdv0NdArbdKHoEG8ligJXPO04kvzfuPUTc_8FWzFQ0qs4zEdiakatD_rWGBd8Cu4MDI-HzKrD0xlBtrSnDWX7R0WidcvEZSujr5va6g-lDMmHo8Reozqif3OnbTcRUCp-ErChHXHkFp2gIbKRmap1CYdrjw-psiIFd9Jg496r4-giI1-NJKeki9Obn4cpDHUIAQxSdYKuwe1UcMaH_aFz54G3Uxlb8GDYmyT2Xn6IB4Adp-MjgjEy0A=w685-h762-no">
<meta property="article:published_time" content="2017-03-25T22:19:10.000Z">
<meta property="article:modified_time" content="2017-03-25T22:19:10.000Z">
<meta property="article:author" content="Danny Zhang">
<meta property="article:tag" content="tech">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="Cloud Computing Concepts">
<meta property="article:tag" content="P2P Systems">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/1xUO2uOVFcxMrRtxu5aPHmaYQ0ki5OurLTb6V_vKHhbxqYKWpDgkmlU4F0C1UwdMJ81HNdW44B5FFKR5H9dx6bTJOGFCky1rQTQWjh9juN0J3sYQtjMOeLA21cjEVoPH4Tr1B-EXkrxR6X3QaJJg-HWGj6_EaJKhle0v7JfLLLRKlwDHclNUIgwpQl10KLTKsLKpEALbl7uDpLI2oiaTrKCgiwiWftBO_9lEiargpxg3kaFSZZaLjy1q1H8J9aGYBM-XffE3BOpSPLWiS88Mf9TbBvbBtwOv1z-8uh59auq2_Hj67JOjcCxZE6oAhhdpa7Eu_GOlXieOY6JyPCYq1vfi94fVMjUgitYejNV3UlnRKHtyh0DDhKSP49hsd02llPToYiqZQQf2TcsOz1cXTpbrJAObAxdw2omyEjQCOvY3kTZ4BBfScGnGefcykyIU5l9nlkOyivRzwgtl-6HgqT7xsMrIi6mB9MqAvYMh2ynpA0-06nBHfDpjmIFLvRVGlgPL0r73i47_FsWmy82yXCCDv2EHAlPmhXxKhrphs675t0rmDLCNyJE3WHNcqPB_RZoOrbHjTLvfFn1Y8xTpbjmEgZf9tgxGbrGqoKYDn46088PdDONgPjK3S9UMsw3GCtYO39CCrC06xPzgaqMe_mKsKbMAG37HOE8gedc8Nw=w993-h624-no">

<link rel="canonical" href="http://dannyzhang.run/2017/03/25/Cloud-Computing-Concepts-3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>P2P Systems | D.Z. Notes (Beta)</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">D.Z. Notes (Beta)</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Be insensitive, and keep a lifelong growth mindset.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/03/25/Cloud-Computing-Concepts-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          P2P Systems
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-03-25 15:19:10" itemprop="dateCreated datePublished" datetime="2017-03-25T15:19:10-07:00">2017-03-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/tech/" itemprop="url" rel="index"><span itemprop="name">tech</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>Peer-to-Peer Systems is important because it is a precursor to today’s cloud computing.</p>
<p>What will be covered in this chapter:</p>
<ul>
<li>Unstructured p2p systems, e.g., Gnutella, Napster, etc.</li>
<li>Structured p2p systems, e.g., Chord, Pastry, etc.</li>
<li>Latter is a pre-cursor to key-value/NoSQL storage systems (which comes in next chapter)</li>
</ul>
<h3 id="P2P-Systems-Introduction"><a href="#P2P-Systems-Introduction" class="headerlink" title="P2P Systems Introduction"></a>P2P Systems Introduction</h3><p>Why Study Peer to Peer Systems?</p>
<ul>
<li>First distributed systems that seriously focused on scalability with respect to number of nodes</li>
<li>P2P techniques abound in cloud computing systems<ul>
<li>Key-value stores (e.g., Cassandra, Riak, Voldemort) use Chord p2p hashing</li>
</ul>
</li>
</ul>
<p>A Brief History</p>
<ul>
<li>[06/1999] Shawn Fanning (Freshman Northeastern U.) releases Napster online music service</li>
<li>[12/99] RIAA sues Napster, asking $100K per download</li>
<li>[03/2000] 25% UWisc traffic Napster many Universities ban it</li>
<li>[2000] 60M users</li>
<li>[02/2001] US Federal Appeals Court: users violating copyright laws, Napster is abetting this</li>
<li>[09/2001] Napster decides to run paid service, pay % to songwriters and music companies</li>
<li>[Today] Napster protocol is open, people free to develop open nap clients and servers <a href="http://opennap.sourceforge.net" target="_blank" rel="noopener">http://opennap.sourceforge.net</a><ul>
<li>Gnutella: <a href="http://opennap.sourceforge.net" target="_blank" rel="noopener">http://www.limewire.com</a>(deprecated)</li>
<li>Peer to peer working groups: <a href="http://p2p.internet.edu" target="_blank" rel="noopener">http://p2p.internet.edu</a></li>
</ul>
</li>
</ul>
<p>What We Will Study</p>
<ul>
<li>Widely-deployed P2P Systems<ul>
<li>Napster</li>
<li>Gnutella</li>
<li>Fastback (Kazaa, Kazaalite, Grokster)</li>
</ul>
</li>
<li>P2P Systems with Provable Properties<ul>
<li>Chord</li>
<li>Pastry</li>
<li>Kelps</li>
</ul>
</li>
</ul>
<h3 id="Napster"><a href="#Napster" class="headerlink" title="Napster"></a>Napster</h3><h4 id="Napster-Structure"><a href="#Napster-Structure" class="headerlink" title="Napster Structure"></a>Napster Structure</h4><p><img src="https://lh3.googleusercontent.com/1xUO2uOVFcxMrRtxu5aPHmaYQ0ki5OurLTb6V_vKHhbxqYKWpDgkmlU4F0C1UwdMJ81HNdW44B5FFKR5H9dx6bTJOGFCky1rQTQWjh9juN0J3sYQtjMOeLA21cjEVoPH4Tr1B-EXkrxR6X3QaJJg-HWGj6_EaJKhle0v7JfLLLRKlwDHclNUIgwpQl10KLTKsLKpEALbl7uDpLI2oiaTrKCgiwiWftBO_9lEiargpxg3kaFSZZaLjy1q1H8J9aGYBM-XffE3BOpSPLWiS88Mf9TbBvbBtwOv1z-8uh59auq2_Hj67JOjcCxZE6oAhhdpa7Eu_GOlXieOY6JyPCYq1vfi94fVMjUgitYejNV3UlnRKHtyh0DDhKSP49hsd02llPToYiqZQQf2TcsOz1cXTpbrJAObAxdw2omyEjQCOvY3kTZ4BBfScGnGefcykyIU5l9nlkOyivRzwgtl-6HgqT7xsMrIi6mB9MqAvYMh2ynpA0-06nBHfDpjmIFLvRVGlgPL0r73i47_FsWmy82yXCCDv2EHAlPmhXxKhrphs675t0rmDLCNyJE3WHNcqPB_RZoOrbHjTLvfFn1Y8xTpbjmEgZf9tgxGbrGqoKYDn46088PdDONgPjK3S9UMsw3GCtYO39CCrC06xPzgaqMe_mKsKbMAG37HOE8gedc8Nw=w993-h624-no" alt="Napster Structure"></p>
<h4 id="Napster-Operations"><a href="#Napster-Operations" class="headerlink" title="Napster Operations"></a>Napster Operations</h4><p>Client</p>
<ul>
<li>Connect to a Napster server<ul>
<li>Upload list of music files that you want to share</li>
<li>Server maintains list of &lt;filename, ip_address, portnum&gt; tuples. <strong>Server stores no files</strong>.</li>
</ul>
</li>
<li>Search<ul>
<li>Send server keywords to search with</li>
<li>(Server searches its list with the keywords)</li>
<li>Server returns a list of hosts -&lt;ip_address, portnum&gt;<br>tuples - to client</li>
<li>Client pings each host in the list to find transfer rates</li>
<li>Client fetches file from best host</li>
</ul>
</li>
<li>All communication uses TCP (Transmission Control Protocol)<ul>
<li>Reliable and ordered networking protocol</li>
</ul>
</li>
</ul>
<h4 id="Napster-Search"><a href="#Napster-Search" class="headerlink" title="Napster Search"></a>Napster Search</h4><p><img src="https://lh3.googleusercontent.com/nEPVln8yqe-XrB9M5K1QfFfJdEYL-zmtFAJhmr28YFUBttMqHuI2kdejhh4Xd24KTEO2anFMrz-NA0v5X-5QPsx7t6-Vzs_TdwTyvqrL1yFjSamzQ5fbmIkw4TH1zlSyEM8MLiFnoW_VzGZ0IFb0mE1ptrp_cFfxh83Y7wJv-uVyhQj5hDceBpPEwI3LZ94wfgIOV1PA2NxytgsIHwnD6pHRtYqwvJkCn-0ovsx8RCvpeCqSuTmyrfq8-LbSEMg1r54EJqnlEFMbXiGjpTIoQSzV-QwvhIjPGMLPdqM8bGwhZdSJGb_9T-LEboMyKGlm_8rL-2yTEJD52qBeUriUFZn_pc5nX2WAvgrU1Gu0h0_osotM1xDwpzJpv9eam_hXr40b-s5AUubAk1CDgVEn1SluDNZ4zNiB1iJmQVu2-jakCfpE1541CI6QeAWuk48vraUNSq4JiJF67x9UvcvW4sf3si1Zcx-RfdkdldFKcL-tr7RwFdbYh6NelgUve29Z2x0WwxfmNDwWV9jf8IkiklflvFc3Ft2EjRBukMU6aIvnYy7NLAoLuw3mtFycdZjGh-up0MhFlcBtYfskopuZQVaABbCM0I5vtGfAH3JtFO6eNausAOUOTPGYeRg_NZMFL-1CFKmgQTuYi4_-De2HSBnOHx0rRN01GMvP21TW_w=w997-h622-no" alt="Napster Search"></p>
<h4 id="Joining-a-P2P-System"><a href="#Joining-a-P2P-System" class="headerlink" title="Joining a P2P System"></a>Joining a P2P System</h4><p>Can be used for any p2p system</p>
<ul>
<li>Send an http request to well-known url for that P2P service - http:<a href="http://www.myp2pservice.com" target="_blank" rel="noopener">www.myp2pservice.com</a></li>
<li>Message routed (after lookup in DNS = Domain Name System) to introducer, a well known server that keeps track of some recently joined nodes in p2p system</li>
<li>Introducer initializes new peers’ neighbor table</li>
</ul>
<h4 id="Problems"><a href="#Problems" class="headerlink" title="Problems"></a>Problems</h4><ul>
<li>Centralized server a source of congestion</li>
<li>Centralized server single point of failure</li>
<li>No security: plaintext messages and passwords</li>
<li>napster.com declared to be responsible for users’ copyright violation<ul>
<li>“Indirect infringement”</li>
<li>Next system: Gnutella</li>
</ul>
</li>
</ul>
<h3 id="Gnutella"><a href="#Gnutella" class="headerlink" title="Gnutella"></a>Gnutella</h3><h4 id="Gnutella-1"><a href="#Gnutella-1" class="headerlink" title="Gnutella"></a>Gnutella</h4><ul>
<li>Eliminate the servers</li>
<li>Client machines search and retrieve amongst themselves</li>
<li>Clients act as servers too, called <strong>servants</strong></li>
<li>[03/2000] release by AOL, immediately withdrawn, but 88K users by 03/2003</li>
<li>Original design underwent several modifications.</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/E-oSzLcIcVVpqK35ox8bgJQZU3zjNy5KjII_RJTR8BgxYFTE6AfNrEUxLIOt8neXcd7nC8gqq3Rk4oBwwUlfFk7QMN9pM1dVQ2lv47IPfT41vcHh7K_TWt0taRgK8Akst4AMdXAG_jUUrUJmT1Xh4dKpkSzi9CrDf2rM_cAh9QY69bOe_GUyOKRLJbie5t6rgx3GlRSmbdctSZk9zxiYJlN1xuXVWvIAFjZBhu4iTbkfwiLnxcKK2YaZfuVoA_ZesWiH013IY1qD4LGHYN6wH9i7IgfDgx9nh53NZeO3YD4wttMlV29t2B6hQdkzkU6Jq33TPsT4IuUwEep2iUQdPl0RNrOBVxe3ktsbetRIFBfI8hxcLV40Rg-vftCKL44C8fyxkJJ-ZsJaG_fPodNpcTujRq8i7EukE9J6qpk3i8-3ClYTuTWNbT0XMVEz14hZXzO0UDVdm74ukSXmCjTW-EP2ZnrsMFWTzNFP04Z9auPnSN0af2ziNZh2YOwHBEx28VI0jwImzSwU6HAv_OxVL9LBfKQbSzwf6Q8eaNuay9B8aabfgWuIsWC-FRLG8_9GXabh4RuSWSZibvsbwcKxTOEISit4CbGDxTi2xSbF-UigZyS6dl8tsdiGCaP4j0QMBockuc1cp2CA2qZJjxbVfAJCkTdRyC16ljWZo07dEA=w1136-h737-no" alt="Gnutella"></p>
<h4 id="Gnutella-Search"><a href="#Gnutella-Search" class="headerlink" title="Gnutella Search"></a>Gnutella Search</h4><ul>
<li>Gnutella routes different messages within the overlay graph</li>
<li>Gnutella protocol has 5 main message types<ul>
<li><code>Query</code> (Search)</li>
<li><code>QueryHit</code> (response to query)</li>
<li><code>Ping</code> (to probe network for other peers)</li>
<li><code>Pong</code> (reply to pong, contains address of another peer)</li>
<li><code>Push</code> (used to initiate file transfer)</li>
</ul>
</li>
<li>We’ll go into the message structure and protocol now<ul>
<li>All fields except IP address are in little-endian format</li>
<li>Ox12345678 stored as 0x78 in lowest address byte, then 0x56 in next higher address, and so on.</li>
</ul>
</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/LRSsbshjeCTQPD269zVh2vqZ3BLohu1StylZ35qPyTGHMMh2loNAMf2439lKocqGJ9fcGvhA42tu7abahe5miRGhJJAdcF4qsftmPYkzEHg6tbl3kRuhdVzQi3MobJTvYxiClf2Kp9IkaaW_LN37i-Yb-r9kEASk2GHHJM78xIzSCH402nX17YYXamRFn9HJAyzPygXwjqpT8rGNzJM17S9kismQI9lMzrVyJ4C_6ENPDzvzOLxz2FKNWNLWIPccrsy_clqIf8i6O04ljmvcJy7KfFEy_QCvFam10h6KNKUPflBIb7JXFol-ELG9QSUSai87TkpM2hZ2cw04pdq-jdj-iGbPNyDOTkTeQqi4Q3tBbeM8_sBGtbQXGPdeQuItodGCRRs87mie-HVSw0vn_KvFqqwHZ8PzecYHof24PY1RpgxawCsm-H7szc4Wp5EoxM5vtbYzhQwmyAniq6ruJlhzCfcAz4qu_b7Hb7au3jXl7L-9H-hj-V3okA1bcUZUMctO9LSGO95Y79GngeSodywmp60HmyNrWMRdoQjF-FDfnA5dp6jzWIPDmb75DVBc3cuv7kCmVInR72MbLodURPem3ryJCKQfg16ZnyXprA5tpM9x_lVr0MSC0p0VxzQbwpl5ZaxSeRLLa_GqoOsTb6eAgsH3PhrDhdErsiCf-g=w1199-h545-no" alt="Gnutella Message Header Format"></p>
<p><img src="https://lh3.googleusercontent.com/t5DT0ws6785AzmBtbTxfZ_Evm5Me8GehCp8A64fsfxg6agC2y1W1tSUjt7z7pf5YGsD4fjGvMfvHuwtD_1pJ2-moc3w8eWm5j43_eiOZDvlKfQoNrHx3aTfZbCLFhSEBAbi5U7MHinRGill2qS1KERb7dXEW0DfAOCKvcEPrlyj1-uGGazcHAO4sKTI-0Ns_p7Qz9NGmIVs5IKqAMLCFPlX6btZsSdyoJ0jgLiojFBiugr12W9YOvygzHjO4jJL-C-SEOWN_Diat1Z1FOl8K1A1qpDOmAxXIKTpVvlH8Xy3aF7onZ7QCIBGt51ysVG1iXS44UffoB5dTAJRwkLd5SLPv8f6Sv6k6qJT21LYdCcZGejxf6U1JflMgEYURDllqp24GjmCvOWz5u_7Fm_i8IWUg_Sx9D07kT3XN-gyYkjtJcCvRKnCDp328Zyj_mHjnH8CJ2x3C7bx7Osufp0AQSku5Le9EdHLqFcQ4GYHyWAHqC21MOVuG82zgk0qg3ul8qBwol2xu9LczhN5qqwawtVSpT2FhzwT0yyD8kKsKePS8gzVw1ULH_Nrb6_AqOt6gxypYVYLuUHgEH5U7Fe8VT9SKNCFGQYRv67UTjD3OOm8Cn0iLYm5_-vaUmVopnUR2jRo8nSbn3q3xyzFWhPBOF7z7LFDrh2N1x5TulxPTAA=w1131-h610-no" alt="Payload Format in Gnutella Query Message"></p>
<p><img src="https://lh3.googleusercontent.com/WL2uOCLMOsYsv9N9x5O_nQbFWiDWARQ0OzzXMlKXJoUybULNqltEP8F_Hy3WNZsx-Zh_S8D4xQKKNtDnXZJUlY3uMoJYrvA59qW-tLcuhsTe_bUd2c4otsAojchZwAzoMORqjWQGHLbAwKMVnJ8RZ2oh3knh8xU7m83vES3HpDs7O_MLn2QDmcsn7MbJri3-SyjUq1myzz9Mhd5AB_bqMIaKMc5iMvn_LnUclVdXcAUyKLrrc9ZwODrfaS5Cieh9Owhgoq8tt3vdwkB7bqMGudIsx4eZDIoc20grYpA1XruiDIxS3fpWEKw7xzTqd7N7SgMlfY3ANhL1eAjkIFgVLVqT5mZTP2PuT3ndbyQ6ILKhQOBxDfXLYCTTR0znYEurJLb5fJwQndyTO7swvufZQ1GSeXL7EwK52rbHDb4X0yVhFKLqOYyctQXlSnCXkGPhMGWCZ6_xXWLC1mSzXPrR_02wpexhLHWfuE7sCDmsweKOSA1JZ6JVJUoEjPtBql25XXPJU9U7Mlc2NaLKQ8LvmdKQvus3k_D2h1Gwu1SShBLNfFZotIWFKzTZuez2ZSxAn055WCeoWmvNRMgQ8CckFQZ2OqckljVtIEdwpZVxY3_3Ip5CPYiTuTwpluLTr7Pr_9ERAFUyCXixr472GFJt1bgTXfQeRmREY_jTpIeQGQ=w1161-h733-no" alt="Query"></p>
<p><img src="https://lh3.googleusercontent.com/c911jczEQAMunfIYehuINIsTa2wHqstosXDE_dWzalq_mnBlouQ9qixr_1vhIsk6fjdP1IPsW3BYrKYjmf5WyWS8uWoOD-eWo6oBD4DhHpcWeXFergI4BEylp7LBHLZvula6gw955_wnTWiPmuRvHQ6EBR_1v_-4J8cGUXUwFd5veVtrt7n0AUza4BcaroG9hMUVg-u7Yt4LHorWy9Mkyts5NGeEDF6R8zIvKFqY4Q7-uyzrauU5B4KCWNEFWMwhE58-zRIdLibhlSzlnYmMjo9tbEtUaNdzWmsW51tTxZXFdFL7QPGWXZPMUf8QZ2M46YXR1l5giKb6ey0HH78lcyAiwG3O31gvzgUIRNGyFWVtL_7q9_Ibx1vO1y86ZGhstrbDmcc8g4pUvw16t6Oz6ZWD7s4mvgfljLhBAqIfgnZ5sOHAvBiy-EmWnruRNHQ9sPqGx_0WBxScZwPnNdrfnkNgxGvopOAD-oEf98vFSi5cRSMww5mBVYKsOX5DbbBu5roU0GCzVzcz-bw8XbwMNVzmAGieCGFe8KqRJCVZhILZC2XTNJxD771VApTINguhNOROxcISHuU58IQO7vDzVWwar4ndBpboUbsIOyR3UT9T4279_m3n-xcwkoZtg3CB9qvTqABj-CKvRACcHHp8grvzV0EgeW03iaNwDXcyDA=w1199-h593-no" alt="Payload Format in Gnutella QueryHit Message"></p>
<p><img src="https://lh3.googleusercontent.com/Yea7x5cEVn3Hz1emPWPwXXlG_FXayMCiUBcSLKNKfcug4uYQytFUCW4blH_ihu7ICna1lqlFQw8uw3bNf4obpaD78M4TJNy2V5l460Cepdr65VqWflZTgZ5yY05KgIRdunxSAvOUcnr89DsreJ2Ae9LhBH3H_7zjsRpej1NUIYKBSptY5MLkyQRGzI4ZWtnzBudtspCZR9tZyVfJUC-bHTfEg23uZqo8YZEQ3VIAs4SL679Y_UJefozibd54UPy6FoXQfCC23Lc2RN9sFONBzXVIsCcF3jBCa217rkeHkTGAKXV0bsnhsC6Sc0tRLd4LZwy-abX_k9Tee0Og2-HCia5QI3IMIlMO8vLhnreQbkix8XB_0iz-eM558g4aMLHdYyee2wNYOAvMqj-73ZMBwZQTLvamMOkgJXLDXY2FOsXu5QtMtRSDKN7AClIW_mPDm0dl_CCOv8HSKJgmykui-GGVeINBUHyxXM-fTdf6Iv6_-2PbIlC6_Q9PgCwSPxkLXG3xKQNZTkZ2X1nh4_9m4PB5eWeokVzF3Id0cfLiy2WXJ5oV37NXFrpMqTLwkdIXBFbhKMdJU7Uj1FhBJm9Kx01RXXmhtpmaAzUbAquBURHtR1HRF8brlTyhTuZFPRDN722uwXvs44TyW8faBN51LoR9JguppmI_JRky9_UjmQ=w1170-h734-no" alt="QueryHit"></p>
<h4 id="Avoiding-Excessive-Traffic"><a href="#Avoiding-Excessive-Traffic" class="headerlink" title="Avoiding Excessive Traffic"></a>Avoiding Excessive Traffic</h4><ul>
<li>To avoid duplicate transmissions, each peer maintains a list of recently received messages</li>
<li>Query forwarded to all neighbors except peer from which received</li>
<li>Each Query (identified by DescriptorID) forwarded only once</li>
<li>QueryHit routed back only to peer from which Query received with same DescriptorID</li>
<li>For flooded messages, duplicates with same DescriptorID and Payload descriptor are dropped</li>
<li>QueryHit with DescriptorID for which Query not seen is dropped</li>
</ul>
<h4 id="After-Receiving-QueryHit-Messages"><a href="#After-Receiving-QueryHit-Messages" class="headerlink" title="After Receiving QueryHit Messages"></a>After Receiving QueryHit Messages</h4><ul>
<li><p>Requestor chooses “best” QueryHit responder</p>
<ul>
<li>Initiates HTTP request directly to responder’s ip + port<ul>
<li>GET: get/<File Index>/<File Name>/HTTP/1.0</li>
<li>Connection: Keep-Alive</li>
<li>Range: bytes=0</li>
<li>User-Agent: Gnutella</li>
</ul>
</li>
</ul>
</li>
<li><p>Responder then replies with file packets after this message:</p>
<ul>
<li>HTTP 200 OK</li>
<li>Server: Gnutella</li>
<li>Content-type: application/binary</li>
<li>Content-length: 1024</li>
</ul>
</li>
<li><p>HTTP is the file transfer protocol. Why?</p>
<ul>
<li>Because it’s standard, well-debugged, and widely used.</li>
</ul>
</li>
<li><p>Why the “range” field in the GET request?</p>
<ul>
<li>To support partial file transfers</li>
</ul>
</li>
<li><p>What if responder is behind firewall that disallows incoming connections?</p>
</li>
</ul>
<h4 id="Dealing-With-Firewalls-—-Push"><a href="#Dealing-With-Firewalls-—-Push" class="headerlink" title="Dealing With Firewalls — Push"></a>Dealing With Firewalls — Push</h4><p><img src="https://lh3.googleusercontent.com/dmLEy0BDI4v-jvB5RwPOcfI-FPtwOKTPNekn5IuiHzmmeNV7F-BgEROc5lmKAcRafXj9Ke_HAiQ8C1jSAj9N-UzVNN5ynX1o8863DYTgwlqXdVrP2-zHhVUVm9CiRyKQKbwukRucefS1WAuyIhReR07tfhO8_QTSPY4YMkkkOAo4MGtnfjR3C_EuCZmMdUmpFPQX78Yq2RUVKdUXlXBjUkL64JJ0D5Vie0XIhxe8B-QBO4VYKoHPSTIAqnt1SUFyqgpmUoN73J8qXdLtC5fBZ5t43Dc3nj2zRP9Ho8cVTga_BO3p_bw1YFkjAIzAE25njMQWfLJGM8AVXb-O1vlHBd7ibDy8NPbJb-b8yVDOMk6KnwIckhi9_rqdTVk5Kx6fd9OGbX-y_gEWBlkwuLKRSZfXEK2TNYAnRoTSWQj05Gi4LHT_AIHtI7e_rgptjlKV-O5Dx0LtXDZzRudG2YC8DyeM_epis5pmiCCAv5YpQkjQRUb1ctHWIjVAQ4kqYnEZq5xY7_lSAs6DCPiPUL1Ul1KaDP9-oiyr-htcSESTF9FKKGSfK9N1jOEqk40EdxEaasKKaIBywaUOVLGUWimcMYi7hxyDJWM-jDIWiwHR4ca7MxNA04WS8TQ7MspttqP2fcKL9k_S79q27S-D804EoVNl35-5nz8ZYonpgd4PDg=w1199-h698-no" alt="Dealing With Firewalls"></p>
<p><img src="https://lh3.googleusercontent.com/fl2Y1TR9pGUndWM2tcK4tBGHTipAP45fsusvV51v2yIvbOC4ozmDHO8MZNzOCQnJfYF9qzLRD6aRFWnbXVko20lsfUHbsUSZEFYgeYDjPnUAz1VhMf4pRewMvkpGgEysvpBOvYojmPSq-CfvMMxGC2e78lvTyt99_aDxJiZ5JIE2iSl15HHhaYUfS2tcjOrsUsasmcvK2xqOjQw1rn70yXu5Ut_brqHNnqE_VtPOZZARyVAIM-nxl1eQTe5nfn7OMMQsEJpNzXGhWXcA4Z8SROeXoQQKZ1ZYjD21ku15iiALdebmuGoGDOoQl8moMhH6tETfpYXN-VbZCZgm27CT6ZSVEk1uHb4N3wy-tbmYZk6hqjZoAY_8THjg39dqsKrp6tUIBHT-KlbHtqaDijz3bzD4XfpNOV5amMa3ZkBBki8TNC5k2SMSXiT9EHIrr4fsKM_nKS5p_Tn3U51e9E30G6P0IvVDNCJgryF0eXXPR6X1uEEKngkQ0-j8IVXRdqJCxdbGdQh5DVL7tjhBWA-DQaknLj4DZSVGSPh9ryMjUta6fu363_nki8C7b1V9h1fm_RfKslrVz3ucxBxE4crJImuzAuC7QPcpr62vp6a2EJWRbTpOKOwjKwS5a1I3h7V5t_T8kuMj-deQ5KYTeaqSTZd9QlCsYVpRUrxhMv7moQ=w695-h459-no" alt="Push"></p>
<ul>
<li>Responder then sends GET to responder (as before) and file is transferred as explained earlier</li>
<li>What if requestor is behind firewall too?<ul>
<li>Gnutella gives up</li>
<li>Can you think of an alternative solution?</li>
</ul>
</li>
</ul>
<h4 id="Ping-Pong"><a href="#Ping-Pong" class="headerlink" title="Ping-Pong"></a>Ping-Pong</h4><p><img src="https://lh3.googleusercontent.com/y0GASC1IUZFxTcmX0ax2rM6YZ4uKFeBwiVOxDQp8GA4BQUugzv2lanoUKklDahD3NBNLIX7BeRwlZooFWBaVf_W4w2EAC4hnP5J6WUAe2yX-d1Cwv5DcGQkx9XYuNqT__bfjK1mHDSllTZJ5E0MPRZjaJKWDKHZW7KBiS0X-eVDr0auI5eIqQokA5gPfNcEtbnyWbsJzQktceFPBhGCsrWpSRaB06716kGjw1JQGXVd3bJkizskJRq5tmRu6SULzeqWQdzt4FZWCpm7AYDGTRXBMVBbq-QgRj6tIDAj2c2f0xPmWzPMCVa8CMQnJJ70u15nX8KozUo8eQ27WfhtsAycetF-dFaIc3BYtVB4o8JEhWXbLyR30cgVoJc_RuGBM4TD4ScOrM6R2IoukKYMP7cUkGO8GqBk-f8XfmzxqVQNRnvmE92kbWEmuDvNp2IArPQpnGvVMbq57tSwUjPITblwDqphl7sFR-LzlKvERLPfN4E1B-HAiUG2fdSpWLa08rLd3r_2I_OGqxPGXfOBvBtOmmAIWrNIlQLX-xEP1dqufE8i_dxgrLSXyK2I4H_lrI05O9LGz5ggzhRzUq4egt2xYGDaKaA2gASAwcg4-NBrllfZovxX5wuye4oHdxo7GN4nWts8ljSTRLRsA77uiSOwAMQLESTmGdho2Me3vCg=w855-h262-no" alt="Ping-Pong"></p>
<ul>
<li>Peers initiate Ping’s periodically</li>
<li>Ping’s flooded out like Query’s, Pong’s routed along reverse path like QueryHit’s</li>
<li>Pong replies used to update set of neighboring peers<ul>
<li>To keep neighbor lists fresh in spite of peers joining, leaving and failing</li>
</ul>
</li>
</ul>
<h4 id="Gnutella-Summary"><a href="#Gnutella-Summary" class="headerlink" title="Gnutella Summary"></a>Gnutella Summary</h4><ul>
<li>No servers</li>
<li>Peers/servants maintain “neighbors”, this forms an overlay graph</li>
<li>Peers store their own files</li>
<li>Queries flooded out, tel restricted</li>
<li>QueryHit(replies) reverse path routed</li>
<li>Supports file transfer through firewalls</li>
<li>Periodic Ping-Pong to continuously refresh neighbor lists<ul>
<li>List size specified by user at peer: heterogeneity means some peers may have more neighbors</li>
<li>Gnutella found to follow <code>power law</code> distribution: P(#links = L) ~ L(-k), (k is a constant)</li>
</ul>
</li>
</ul>
<h4 id="Problems-1"><a href="#Problems-1" class="headerlink" title="Problems"></a>Problems</h4><ul>
<li>Ping/Pong constituted 50% traffic<ul>
<li>Solution: Multiplex, cache and reduce frequency of pings/pongs</li>
</ul>
</li>
<li>Repeated searches with same keywords<ul>
<li>Solution: Cache Query, QueryHit messages</li>
</ul>
</li>
<li>Modem-connected hosts do not have enough bandwidth for passing Gnutella traffic<ul>
<li>Solution: use a central server to act as proxy for such peers</li>
<li>Another solution:<ul>
<li>FastTrack System (soon)</li>
</ul>
</li>
</ul>
</li>
<li>Large number of <em>freeloaders</em><ul>
<li>70% of users in 2000 were freeloaders</li>
<li>Only download files, never upload own files</li>
</ul>
</li>
<li>Flooding causes excessive traffic<ul>
<li>Is there some way of maintaining meta-information about peers that leads to more intelligent routing?<ul>
<li>Structured Peer-to-Peer systems, e.g., Chord System (coming up soon)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="FastTrack-and-BitTorrent"><a href="#FastTrack-and-BitTorrent" class="headerlink" title="FastTrack and BitTorrent"></a>FastTrack and BitTorrent</h3><h4 id="FastTrack"><a href="#FastTrack" class="headerlink" title="FastTrack"></a>FastTrack</h4><ul>
<li>Hybrid between Gnutella and Napster</li>
<li>Takes advantage of “healthier” participants in the system</li>
<li>Underlying technology in Kazaa, KazaaLite, Grokster</li>
<li>Proprietary protocol, but some details available</li>
<li>Like Gnutella, but with some peers designated as <code>supernodes</code></li>
</ul>
<p><img src="https://lh3.googleusercontent.com/APqwNhTcyx54MT62fS1Es7uE3-vP3wQpO_8RkPfy5x_Hg4R4SpBJYOl_S2HUXvfHXdgs4G4_Sf5f7cfVNUXCSosoxODs1f3_0VZZfn2-zyk4VFhtnXn980hNrXavYyPZaecNr3xRzKsj-hNKr9Av46e7rhro95OfwrmJ6zXL46yHPdJGbndsnjbR1hN-ICwtdSOCozX-HVUALGOu7L-vv7cXm3rAlhBdOtxhnd0I9Pb-iV01dVHjMm9j9yRdIHN9YSOhOfcgX7v6sQPpN0dS206Di1eGG2B-3BNXCAjDOZ5gEspP0vEocO3BIP706q_rkguuNddSq1jUMni7kNWTBWSlyv-RnuPaFlleFuvTGVBtj6mJ6M18KwLOMxEcrwP7hWzSAW-tweuGYUZg2xaiqcnNrgLswabE_7NT2mVB3HOnm33LbFxITrx-cHEi1-rPmGEMk3jsnry15-KWIUbc4BrFhN152UZkGu2pPm9IvFju_Qx7jrvWijK_hHtzlev2Pgd8zE_Hu89qq9D2NwQNDUkzE6r1YB-ZUKuix0uG4nFypUCud_uwcI-3L2rTmfviGqqq1C5ZtWD08f6-G6H5F8q8zEKpg42faVMmeQ6jIj7Ke_UK1iifch_MukWYAvAaV6fI0Dl938qBme7xqt2AxfLPGKEwvPn2ljiKNHOaCA=w824-h496-no" alt="A FastTrack-Like System"></p>
<ul>
<li>A super node stores a directory listing a subset of nearby (&lt;filename, peer pointer&gt;), similar to Napster servers</li>
<li>Supernode membership changes over time</li>
<li>Any peer can become (and stay) a supernode, provided it has earned enough <em>reputation</em><ul>
<li>Kazaalite: participation level (=reputation) of a user between 0 and 1000, initially 10, then affected by length of periods of connectivity and total number of uploads</li>
<li>More sophisticated Reputation schemes invented, especially based on economics (See P2PEcon workshop)</li>
</ul>
</li>
<li>A peer searches by contacting a nearby supernode</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/FZgdQchpi7QmQDH-I6al0PVvKYPdfCUghCGEo2HGQnKZaFZzO50CRHO5PeKXQd6LbFgsuNMI6DHr94sxODjVULnEI_3cHHkPZAZUrCSkQrvbtefFkq8c9TXm9c6DDU0VH_DIhBmH1QhK2PeueV4GSIqDw75Lin7NzKr_WQiS8-7y1JS0LImy-iwqJ8YHgLhrRWY4LFjVOVBDX20J5yv4D11ZTLC0IJEk63GnIMPIgbzX7UGAl0rHJzIBFBUf_GuuMj2HRuLbPQb6qytNeyM3sCD3MYvqJJO2K8L4Su2pRAw5qp06p6iNVoLgJvYZzHFWKBFXBj2JEoknQPuh98ONlkjpj747Q7D9dBwdJyj9e65f9dnsVnWL0HydPSvQje7qviobbRTFmimq5DK6BayUqTnMxLP8E0VsDrupXRAQQxckQQ5J7BdV6nTuW7BSbBgoNHrYdXUCwVRVxl8f0XRHcwdr7rQRp9vi6U5KN1DKrO_Gkw-DOwV5ButB030D4yelinbYZLQlZ5mKD9DDWRNJxoWW7b-QxTKT42tyNlqhNXAkjGPwsXntfieT7cxRN_VRNaaJo02Put--uaX6LvCec9doBEwuaW9NVCmVQuLnlgSHkKy2LRTAFAb6TB90-40oWvrPsvxP73Y7uI-BEecAHQfETLCS2Ok_Jajhg1lfKw=w824-h500-no" alt="BitTorrent"></p>
<ul>
<li>File split into blocks (32KB - 256 KB)</li>
<li>Download <code>Local Rarest First</code> block policy: prefer early download of blocks that are least replicated among neighbors<ul>
<li>Exception: New node allowed to pick one random neighbor: helps in bootstrapping</li>
</ul>
</li>
<li><code>Tit for tat</code> bandwidth usage: Provide blocks to neighbors that provided it the best download rates<ul>
<li>Incentive for nodes to provide good download rates</li>
<li>Seed do the same too</li>
</ul>
</li>
<li><code>Choking</code>: Limit number of neighbors to which concurrent uploads &lt;= a number(5), i.e., the ”best” neighbors<ul>
<li>Everyone else chocked</li>
<li>Periodically re-evaluate this set (e.g., every 10s)</li>
<li>Optimistic uncheck: periodically (e.g., ~30s), unchoke a random neighbor - helps keep unchecked set fresh</li>
</ul>
</li>
</ul>
<h3 id="Chord"><a href="#Chord" class="headerlink" title="Chord"></a>Chord</h3><h4 id="DHT-Distributed-Hash-Table"><a href="#DHT-Distributed-Hash-Table" class="headerlink" title="DHT = Distributed Hash Table"></a>DHT = Distributed Hash Table</h4><ul>
<li>A hash table allows you to insert, lookup and delete objects with keys</li>
<li>A distributed hash table allows you to do the same in a distributed setting (objects = files)</li>
<li>Performance Concerns:<ul>
<li>Loading balancing</li>
<li>Fault-tolerance</li>
<li>Efficiency of lookups and inserts</li>
<li>Locality</li>
</ul>
</li>
<li>Napster, Gnutella, FastTrack are all DHTs (sort of)</li>
<li>So is Chord, a structured peer to peer system that we study next</li>
</ul>
<h4 id="Comparative-Performance"><a href="#Comparative-Performance" class="headerlink" title="Comparative Performance"></a>Comparative Performance</h4><p><img src="https://lh3.googleusercontent.com/Q8mF1tb6uR4nCwOFDDvDJZS4eNH78zpW4g93MHEVQ7AWEb9LJuBzexJpoPJbOG3lXeV0kRxtwKz8y_ZX3UVOru1JXr577dL9Sr-CgJAqWQOWA31noCpWp49Iovz4XwQ-r1Q7ZzGt59lUolMHFZe3Gp-LDzTnk5nBRTYJdx63qQbPqA6DaaBdCk-iVUvooYNEn6b83dxH8sfJBeDYQ-yxRN8mfa2VjhcaKA-J70yYnPeTHQArw_lhl_mYItp1r6WBNyMhlVLig_8Hr7QKPjSHqBma23BQmCAcKCw9JcpMPTNFlMYUZy2hPzURL0sopE2ysXtIAH1KNCh56x4NK4NfuXedO1YRjftybt97sJOiX56V9FVlDQdm69Y36fv5cV4TeFS709v19X6qVPoL1XRgKDnHmhOv1Kj9BUExYGlpizN7v9NiappcUN216jlholoL-62YzfCFfvrL3snnINspSVRkv7tH3d_1o9YLiX31MARFTpX36NUQB415oNmNGQroYxHgbY0l1m3x8d50bxi0VadkXMiX74wGi-0x_pxMbNe2C89VzX-vSUX_VTIu9HmQarlPi-54eL0gTYiWLob5s1GNXAxV7IXED8kh6HU3rm1QJh_p6vPVVALuXtyEcFesXCl2R1oc0nfVNTJy0WwNASoz6GPqDXaictow-O2HRg=w1006-h558-no" alt="Comparative Performance"></p>
<h4 id="Chord-1"><a href="#Chord-1" class="headerlink" title="Chord"></a>Chord</h4><ul>
<li>Developers: I. Stoica, D.Karger, F.Kaashoek, H. Balakrishnan, R. Morris, Berkeley and MIT</li>
<li>Intelligent choice of neighbors to reduce latency and message cost of routing (lookups/inserts)</li>
<li>Uses Consistent Hashing on node’s (peer’s) address<ul>
<li>SHA-1(ip_address, port) -&gt; 160 bit string</li>
<li>Truncated to m bits</li>
<li>Called peer id(number between 0 and 2^m - 1)</li>
<li>Not unique but id conflicts very unlikely</li>
<li>Can then map peers to one of 2^m logical points on a circle</li>
</ul>
</li>
</ul>
<h4 id="Peer-Pointers-1-Successors"><a href="#Peer-Pointers-1-Successors" class="headerlink" title="Peer Pointers (1): Successors"></a>Peer Pointers (1): Successors</h4><p><img src="https://lh3.googleusercontent.com/WT623T_MCVdUxDTx_WV1adLWQLWGxhGao1nTzPnD3gURsPnV4Iw8ib-ghmAG0MGJucDMOpjuT8qnVJBxeUcNaMhn-eM5nS80TFU5CO89qtxDKSLNfhJCXeuzlGarFzRuNFR7YzVry5FkdUGJVqPZnI_MYsYFecgHoEEizntjDrdB5sVaIqV9bNVKcDwJ6gTItYss6PNIla0oE8RthL2LfvbQKdrrFPT-hP4FdEp1DXmSIgdZ2WG6SqmsIJnri-EqdLZEn-uZ4rwEF7Mtez6092zvjok9eaYqol7-BAmJCuxkhDDSm2eh2D3xSQDnGnLjCl4I4-plh5FamYuvO4mIL1J85mD8hi4HALqZxdN90tpn8pypZOahqegX6bSvZ2ZwEHT_OusC529Rs7W-b0Ys0eCtw_yVWh7Sz0EO3W76NVuLCpY8m9CeLMbTvlu6otu6dbaAomvCmb6mC4Ax-BgwRUVbchmBYpWtqu5HJjtvhLrTVnERFOw7fDlySOJEaFv0p8XnEQ9D5G6VI9KdWsdYPVKOg6vhN5nz3gPeEHXbDselbwIg7ATDTy_59QaOqX2LHmDbxMB7vfMIBHL0golwAnGUZhTCsI_kgmmQ14Jb7x09jw0FUGqUAt-WTkX8bGufQiKFc9fIOuEb7HgytQ2OnJznnSXP095oEpPu7d8BaQ=w1005-h575-no" alt="Successors"></p>
<h4 id="Peer-Pointers-2-Finger-Tables"><a href="#Peer-Pointers-2-Finger-Tables" class="headerlink" title="Peer Pointers (2): Finger Tables"></a>Peer Pointers (2): Finger Tables</h4><p><img src="https://lh3.googleusercontent.com/RMfXjJem5R88pR5LOVEgc4mphhLbb-KE0in0Y0MLnnSYkIQgnvMuCfmlnihBdqkpW_L8hKqIDTJftG3xzKi-m6zS4H9KE-fDNymLTO77u7yGHyeTKU4ySzY6ODj0oRaW7n3ejPI1TxTtNdAwfR-O1Uv_4VIeQrDClOQP-VWHpiQJ-4cX2GG9hebTK8aSyEFUgMJwE3sj-fssGsMyMTBIZkkrhs2JR15tgO7OdsxAnuJRSkAOqnFMfpwt90XDkoMUgjQ8OKBCRQZtRkRhUXfCYPVImt8MOrIO0CMVz9IL08enopedI-HZEz3EyWhKkFwfTUfZmbisgNIIvI6ox4pJ6hESBedJMxGMYQ0bv3A5n19bjv_IVmO0_xQ7S04guoFaEgHbQaX9hG5QM95QGKWdQ6C5u9I3IQQYIUezIv5AiMXYLcIeIW-GStFsX3yJKkOTVhBBHkuXH1Ig0J0Lf8DmFJ9T_9CUI4H_1EBEh0YwBraE83ASEuzXNfSyBqJq7LNd7XsGvuZG_McxhYjSCaNWG4_XfI_P66B0FzWlEa59KpBuGMeItRfUX-LfpSaf9aLaSjV-pcAhmfRHeRqEZGZ3VtmOXZbTmXkxd2x5-oonpH-A7cSJd_VEMedAiRPeWnz99nlZmoWzPKPvCB_onE4UPoArQsOOsBVnOSMIOykWoA=w990-h517-no" alt="Finger Tables"></p>
<h4 id="What-about-the-files"><a href="#What-about-the-files" class="headerlink" title="What about the files?"></a>What about the files?</h4><ul>
<li>Filenames also mapped using same consistent hash function<ul>
<li>SHA-1(filename) -&gt; 160 bit using string(key)</li>
<li>File is stored at first peer with id greater than or equal to its key (mode 2^m)</li>
</ul>
</li>
<li>File <code>cnn.com/index.html</code> that maps to key K42 is stored at first peer with id greater than 42<ul>
<li>Note that we are considering a different file-sharing application here: <code>cooperative web caching</code></li>
<li>The same discussion applies to any other file sharing application, including that of mp3 files</li>
</ul>
</li>
<li>Consistent Hashing =&gt; with K keys and N peers, each pear stores O(K/N) keys. (i.e., &lt; c.K/N, for some constant c)</li>
</ul>
<h4 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h4><p><img src="https://lh3.googleusercontent.com/q4flxQoXToWb4t--H_gn_He68mofaCISK4p-vrGi0jgsFrNY3xtIzsaACg8I9Rk-wmpim6PJ5LFoaNkMjWifxV2l0ahMDXT0jmBtf_Nr-xSuM4gw-ez-Q8_vo1ex4iWu-nmv539ykuWSJD5u8RE68KLNsB9ZcZR5ElODTgLWa_vqMP0f7iVDMf7L4GtAvsdVFABfblcA3hHG5PtNBt5h_KBxQ6KGmLHFs9QWmigr_bTURI77d4V_9Qw9xRM6RckupzzAXrYGnOwWDmA2VEdgtoKe_RUFY63suVd6O55IZgdw6pxSJWedtnUCZvSE8vnjfpXwi364fyVcKk-caWvT0O-dn_lli9E5YgxXsUKIapQkynXvefm36uShd3QnM_p0CJBP4sh5tQSABDgqrlUHv1UlIrw3cX51E2cobS64XQWewAviPJF6lfcbMzUsFaoMDRacVY_d2_BhmL0o7MnTUuOXYqGUGfqgc7LNJH57Aw3kOU7ZhCd2vBoS0LZjqBfS2X2-I_wMNrvHgCAHtBgfp2rhO-yzOiwNImNvV-uVWK1skjSuCz7xWOdIzuBhnBV4tfDu27UQkMzqSUqI8lMY6_rncRwC3eKkK1CU2z4a23kgwI-SJQyi9uDabihh-CXLX_TTql5Nb3_om3BC09b_bwrHjSVjWhhWbgAw5Np9HA=w1005-h430-no" alt="Search"></p>
<h4 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h4><p><code>Search takes O(log(N)) time</code></p>
<p><strong>Proof</strong></p>
<ul>
<li>(Intuition): at each step, distance between query and peer-with-file reduces by a factor of at least 2</li>
<li>(Intuition): after log(N) forwarding, distance to key is at most (2^m) / (2 ^ log(N)) = (2 ^ m) / N</li>
<li>Number of node identifiers in a range of (2 ^ m) / N is O(log(N)) with high probability (why? SHA-1! and “Balls and Bins”)<pre><code>So using successors in that range will be ok, using another O(log(N)) hops</code></pre></li>
<li>O(log(N)) search time holds for file insertions too (in general for routing to any key)<ul>
<li>“Routing” can thus be used as a building block for<ul>
<li>All operations: insert, lookup, delete</li>
</ul>
</li>
</ul>
</li>
<li>O(log(N)) time true only if finger and successor entries correct</li>
<li>When might these entries be wrong?<ul>
<li>When you have failures</li>
</ul>
</li>
</ul>
<h3 id="Failures-in-Chord"><a href="#Failures-in-Chord" class="headerlink" title="Failures in Chord"></a>Failures in Chord</h3><h4 id="Search-Under-Peer-Failures"><a href="#Search-Under-Peer-Failures" class="headerlink" title="Search Under Peer Failures"></a>Search Under Peer Failures</h4><p><img src="https://lh3.googleusercontent.com/qKpwgq3yOFazF2YkC3KlZa-DhA43KxSQrOWSgGg8a0ZFgs1-u1iJZ3AbBYiQqUjF1LZGtOoL3HG_YT_PtNqX8mJsWBtd8eliU6HzIgMcj3V1D1bjmnLHbYvZXw57IIZ6SpSktVjvvwJBQaGNfbCQQw79EvU5bFga0SaSkE9ALUVTIlVYqdi1Syy_0EoTnx5khdzrwgt33cnmb-AVJlE44wKmfQCqsBurl9l0kdaajOkgIE3-aE6nViyTuA5Bla1K8dIr68UmxIKm3kN6yzY_NdTOb6LNWhetGPKHldTZUuN-TYu6MHOE97uKsPUtsE8ZW6p8JQOp-ZugSRwZIPYHDqAiqJlCdRMh6-lWoyJ7m5r2h4LMfQp9I2ZrgeelHaiplhzsMCTFfVZM4uYDYBX0j14pErxHmd5d1nY5MYAxFY_KKkCO7W0JuykFEk--0duBlRQ6L3_pB5ayJvqtBzwS_BoyU_kK4PalzphazYfV4gpRUc3a-KrWHAzwoZvLicCeBPBFgYfousF3bXTiKuG_JrQsoO2OVMZDNv6XBNrdmMSxpIDtsh_erXMkApboeotwtxxS2DMinGzNcn1atbp8gbU-hdu8s1ACzeEOB_i_0dDphqEtE2cWR2_A4ubX40wCvFERLp0IvCUnFBkqsTMpNZuk3WKFFM-77SZRvGmi1A=w774-h472-no" alt="Search Under Peer Failures"></p>
<p><code>One solution: maintain r multiple successor entries in case of failure, use successor entries.</code></p>
<p><img src="https://lh3.googleusercontent.com/hELVxi5XY2h-3Cw6fHVeZvKG__temY7lJrFUQcm4jd0zQF6JeM8A73lXIs7ANpVH-T2s2blF1GQpIuXHd2_NQdc9xHyoAVErpic2Kvpu890B3iUkMiJi8uTxOxh570PL49he0h1QbFTUdF-UMMYXvN9HKADK8SNdn4hoouf0WEZAIlb8W6G1RQYOX3zH26ButO5I38zJRSYqaPnOg7SucXFvIye3xuNlp3K4hvC1eMGJtcts93xB_-WlVyw_Y6GE-QdS54pU-DOitXKl0SQqm-gEgWeOw9wgAH3MU6-4YeU93_wcp0xo1Lzxs4a5iIVmTac4FVoW2oR9B23kJWnwUSD9GaGlE3lyH44xZK2COk_26KRD7TI71PlIQ-r6jTKtPMUtCRL8wc2ax7_kTX2aWoH6bAS5Qd-GVLZ9ETs8kkfXFh0KGmhFmGNqQ8bsKIcdV3LV2CNUAX4ASYCpek55unLzApucUW_p4t_8ReGbc6pDKTsqUgWGyxqSBMKC0c30FDbMtxcKO7hyZHMUVe7VmwSJYGY4n58RSLjVCj-NmsZKU7PL-SLn-YUB-YAGPoQyFhyVfOJPh52vyLaHY1QF6pGwIHl5McoFnQOTQ2WQTcSdHDFkx-xbsEHtKArXcN0mWLuy8HTVkiF8XMHJ_DkE8muWeZjvJfUp0EYdWNKCAA=w773-h458-no" alt="Search Under Peer Failures 2"></p>
<p><img src="https://lh3.googleusercontent.com/Bg9E7h2kb7E5BaSAl-NYr61NGzJ6bXTMud6uB8bM6x6urzXHSQ1B7hcGQ8AEoYFK69Gmu5WHawEmuchvRCiQWlyaCoLg81DCGGd3QDp0P91GKLsRO2gpJ-TApbpvcdI_yEW7FcIOPGeJsupdL1FDmfZeejqYc0lCpC37rLL8cnl-aYW_veUAAKXtW8sOXuzyD6P68RVfju5r7ilyKYJCG8DhVPS_1lM42J_4ZSm-6P1W00HxksUKM6zn-Vhnhw-_M3-zAr1rXiTIjo5pDc57MPhXch9J-D5Hy5O6RgY29rLHvopf7-rpF7hlLnVB1XxCkIQA0IUg5pbyqtUAu-rBo2CN7TkBoAoudiE-F5NNPIU2ZDcsxKATTnl8TKu2bFRSK9UZVo2hPv1HK6AMufXFodAevwLUJktlrBraH1pTHretl-Lq4dG0lsVm8cgnhSuliM92Exx8BzU7fq_aS12Uw44FJfAG_gXY4DcP8Ga6Ktz2ZYJZhOQPEbuEyq_6bhH4QxxZeCFsQ0EB5WoICV1oiYB8HDBZOovkYsuaX-Iyb9iU0p1rC3Qo8DE32w5bfBodvyvDTGzbvc_CCT_Cg9zjRrryLdqyQJDzaCWxB0zz5kaRYMRaaxYvoCol_aEqpQtE0BjeGEULYdFuJh5ihRtX-xk5u-n3pJc9zNg_8oXHCg=w372-h207-no" alt="Search Under Peer Failures 3"></p>
<p><img src="https://lh3.googleusercontent.com/7Z2y7Mv2SmncJND1eXX6NiZlUyujHSZjl3_FI3u65RLisUEhFGRhuIsh1_0DMFr_y0TOIL8BwI2EHLhxFlfxTesXb82cH3R_sgOgnqLJjDWNmu3_-QyVQy_B9p9yeJqCPQApBIX_BLW59_maSrAkECSpFG6HexVvTq7soZtvwPslaVAGFuqNNlf6g_rL3h8oi15ccS_qU4r2IC4gJvBEfUuApDz-DEK5ZSNrGGMkSctbQNn5ycj53gGH27XVw6VeetXR8TSs5U33e7wzEXhN9K5dAzesMz-kkfFcGC-6cuWhFWTjaJ-BJ1nYWaZ6JgB64S2pc0D7OjfHZDSJ8DolmjQwyBdDo40mFIUXgKkgM4_5QLTzkd3T3-ARIHedE601RtF_cUr-8dXpGHsoYNbI6Q-ltSsEdpsb62b_qz8tc63VZWr1AneY-SIqGav-FF0UaY-onYuZ5qJQMSIkoY1MvcxG47fGGDnhQCrZRHcH3h_9477AI-ZTbIxv1fLAXeWL7SDgc19GwEyI6x1Q_lQro2q4Gzc-dxLTQ8uyfWj-FPo_TyPp_4kNxdbrYui33aCzBSGp6y7SY2iLm4PpcjgRUaHLIY2hL_Fszo6sbse425MQ0h2qegpHqgJXvlvi7iQVvNJxSOQNAgu3iMllrLeRcGa1ZuPlb8m6Ip0LD2tiqw=w773-h443-no" alt="Search Under Peer Failures 4"></p>
<p><code>One solution: replicate file/key at r successors and predecessors</code></p>
<p><img src="https://lh3.googleusercontent.com/fCrDcjBZLDvqRY4-BdjWxKlxbKazX7wl_kaOWgN2pO618eT3zY4uRKqT_iZWOFyBbJc2dnjvD6AA7_HnxBI5TvQ9xXDsCUoNo4_EVwm_jZIFiKpoE3ncuVXeNXmyP9O2wRKJx1xI3XYlRD5WsyE4fKPSOV-i_z5vfKwmzPuOWziHW9mhmcKRZhmIR0A8gcSaRUo9TNvxB-GqzJzl0KDD4KA75bBtqAvDYP9yprmmxnzIzWqdwYXwFQ5VFYWcwiaX3KxuusO9HtkO4X3LOEgMPMdTszBml9DgxK57MAfh0teZ5tnlHcj9Opb7lpMN_27CLqzWPaDI13VvBVqZH-aRL9Ncyb8oFUx9YH6hh3MybEjNfKyqbDIJ7--D5mgTTNCOlpsZ4kVMKaIz7_HXeZLa10jMHuFJ21x4JR55_b7R8NjFijZCnP2bV0EEC9Y5RGSamHqHT4AvT7_y1wu5V_Z2YvZ8fq80PKsfIMgN4OxBWjJeXMf3_l8c8Qut0601HXeSFBiXMpt4AZfYL6lkb_Jv6DpfUNQUlWsj4aY4CKuuOhTMroCYE2K3QBC0O7RSYntYe95g3AvCSuwzvCKivAFCKHA5J98KzSWySD3ydmc83rWHZQZVkBEQ3gJ_2EfANjVas3sTbkcadIbO_tSsgGH0pOm6ph-01HIpWuxmsHdIog=w774-h443-no" alt="Search Under Peer Failures 5"></p>
<h4 id="Need-to-Deal-with-Dynamic-Changes"><a href="#Need-to-Deal-with-Dynamic-Changes" class="headerlink" title="Need to Deal with Dynamic Changes"></a>Need to Deal with Dynamic Changes</h4><ul>
<li>Peers fail</li>
<li>New peers join</li>
<li>Peers leave<ul>
<li>P2P systems have a high rate of churn (node join, leave and failure)<ul>
<li>25% per hour in Overnet(eDonkey)</li>
<li>100% per hour in Gnutella</li>
<li>Lower in managed clusters</li>
<li>Common feature in all distributed systems, including wide-area (e.g., PlanetLab), clusters (e.g., Emulab), clouds (e.g., AWS), etc.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>So, all the time, need to update successors and fingers, and copy keys.</p>
<h4 id="New-Peers-Joining"><a href="#New-Peers-Joining" class="headerlink" title="New Peers Joining"></a>New Peers Joining</h4><p><img src="https://lh3.googleusercontent.com/jcNJUPI5iLuGObCyRzDY1MgpcMrv-uJwX_uJsry0EKo-rntC9dJnJTMFtt7oLtlgfAduL3-cElzpgs_zyqSW2c3g7-4FEnCQMZg2ulXmlEccftogOZ7kCSiKgoJp441lGplWNtSq6jsNyCx5sXGHtIOHED2NGWJZAo1c71I0JhTOhO16XN6LduanhF6Bjfv3F9aldRbKEJd9o6ret1qzwqfQwCBZZ9ZR280dlNL1VOi6GCF8w4pcBWETPJq05h5EpbJWqKng1Eq_gRv7ES-o-FT0TaaKaXi83_HZQGg9ykz84LzN0Oep958oUPzzSHep28NxO3ZFyjQFBl2lSCflpRPhxiOiCK3NfaVRlzCEdAo6rPW_yjrU2WPKSEQC4Ywi0UB25yfjyV52UgXjxN1NRoUzu4mhT-1kCW-QQy5j_marRss_3zdDr2554t8-6Y1jnIbhKEiNynqiEN_H9VqfqHUJSstBlg5J6T711eBMjgBOapDITYOsV4_vU5_86X5W5Qw7WyjIBV1kRsgdAyie1SGanVEuGU8Eg6K7DUSJ5v5_wOVYtIb3UFHTkw4-m3ZOKmqh9IN1n0CUDuEAqtUx3I45Eo3BtHOH-h1GKiy2x0_4GF63rxHWrZ54sdS8s-VfenAL8NBTL-0DWgXfPmHSZRRPOLSGi39DfEECAlarOg=w774-h496-no" alt="New Peers Joining"></p>
<p><img src="https://lh3.googleusercontent.com/p5YBAqg8u_2YgNOtjghPjqU7kbfBhY9nbxoj81_WZ5EmLDTEM3nGyQalWfPw2oH8YjSTQF81U4UprThaLoLsr0IQFOof9h3kuzej5nP1aTW25TqSxkW9HoHcn2rTarkgOb2pq57Zxjt9Sj31A0n2pwzeyI8YJz6A8nWWNOFyKDAVCHPwrjU8aoffGRYMbK5Ph-lL32RNV19TI6fsnByIVR5MekOsDRGi_IFUlfFlN6vlEGasqY0m7ZiX1qCeusf-Zfu8Y9G-ERtlwOE1MMPBc3RlcNAXrE3n3ZxhKttlrMmtoyUADBzEoeuze2i4S6nOnNh0jx2AMRINGH_JU9ULvgf8C-Rpx7EEoioemoXZgsHiGu2CmA9WvpfonpZlQJOUMSeS6tIo4g9pRnMrQtCwQUknk-Pb-x1H2Eq2ph496Qz7T9k_8zqUVuISKjK_WrYBljQFainVjpNiUpY-2V7pBQ02I9vxxZJ6cZBZMZ3eeJ3wKi_z5r1PHxQ3FFDQU1wHBUFtDzG0Dr_l71axtmrzQdOchCaXFOEwbbQVpKK-u_oj40TzKshg8J-uYpf7YrFWQ47jT54Pob37ZGDXjeQBvw74mPXacWeq2k-5oeAZB6oyqHFC3CgjrbV2_cybkEOpLtzyYBz44utXG55Q6zUEtsIgY2tcvRs-NXSRKJb5ug=w773-h481-no" alt="New Peers Joining2"></p>
<ul>
<li>A new peer affects O(log(N)) other finger entries in the system, on average[why?]</li>
<li>Number of messages per peer join = O(log(N) * log(N))</li>
<li>Similar set of operations for dealing with peers leaving<ul>
<li>For dealing with failures, also need failure detectors (we’ll see these elsewhere in the course!)</li>
</ul>
</li>
</ul>
<h4 id="Stabilization-Protocol"><a href="#Stabilization-Protocol" class="headerlink" title="Stabilization Protocol"></a>Stabilization Protocol</h4><ul>
<li>Concurrent peer joins, leaves, failures might cause loopiness of pointers, and failure of lookups<ul>
<li>Chord peers periodically run a stabilization algorithm that checks and updates pointers and keys</li>
<li>Ensures non-looniness of fingers, eventual success of lookups and O(log(N)) lookups w.h.p.</li>
<li>Each stylization round at a peer involves a constant number of messages</li>
<li>Strong stability takes O(N^2) stabilization rounds</li>
<li>For more see [TechReport on Chord webpage]</li>
</ul>
</li>
</ul>
<h4 id="Churn"><a href="#Churn" class="headerlink" title="Churn"></a>Churn</h4><ul>
<li>When nodes are constantly joining, leaving, failing<ul>
<li>Significant effect to consider: traces from the Overset system show hourly peer turnover rates (churn) could be 25-100% of total number of nodes in system</li>
<li>Leads to excessive (unnecessary) key copying (remember that keys are replicated)</li>
<li>Stabilization algorithm may need to consume more bandwidth to keep up</li>
<li>Main issue is that files are replicated, while it might be sufficient to replicate only metal information about files</li>
<li>Alternatives<ul>
<li>Introduce a level of indirection (any p2p system)</li>
<li>Replicate metadata more, e.g., Kelps (later in this lecture series)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="Virtual-Nodes"><a href="#Virtual-Nodes" class="headerlink" title="Virtual Nodes"></a>Virtual Nodes</h4><ul>
<li>Hash can get non-uniform -&gt; Bad load balancing<ul>
<li>Treat each node as multiple virtual nodes behaving independently</li>
<li>Each joins the system</li>
<li>Reduces variance of load imbalance</li>
</ul>
</li>
</ul>
<h4 id="Wrap-up-Notes"><a href="#Wrap-up-Notes" class="headerlink" title="Wrap-up Notes"></a>Wrap-up Notes</h4><ul>
<li>Virtual Ring and Consistent Hashing used in Cassandra, Riak, Voldemort, DynamoDB , and other key-value stores</li>
<li>Current status of Chord project:<ul>
<li>File systems (CFS, Ivy) built on top of Chord</li>
<li>DNS lookup service built on top of Chord</li>
<li>Internet Indirection Infrastructure (I3) project at UCB</li>
<li>Spawned research on many interesting issues about p2p systems</li>
</ul>
</li>
</ul>
<h3 id="Pastry"><a href="#Pastry" class="headerlink" title="Pastry"></a>Pastry</h3><h4 id="Pastry-1"><a href="#Pastry-1" class="headerlink" title="Pastry"></a>Pastry</h4><ul>
<li>Designed by Anthony Rowstron (Microsoft Research) and Peter Druschel (Rice University)</li>
<li>Assigns ids to nodes, just like Chord (using a virtual ring)</li>
<li><code>Leaf Set</code> - Each node knows its successor(s) and predecessor(s)</li>
</ul>
<h4 id="Pastry-Neighbors"><a href="#Pastry-Neighbors" class="headerlink" title="Pastry Neighbors"></a>Pastry Neighbors</h4><ul>
<li><code>Routing tables</code> based prefix matching<ul>
<li>Think of a hypercube</li>
</ul>
</li>
<li>Routing is thus based on prefix matching, and is thus log(N)<ul>
<li>And hops are short (in the underlying network)</li>
</ul>
</li>
</ul>
<h4 id="Pastry-Routing"><a href="#Pastry-Routing" class="headerlink" title="Pastry Routing"></a>Pastry Routing</h4><ul>
<li><p>Consider a peer with id 01110100101. It maintains a neighbor peer with an id matching each of the following prefixes (* = starting bit differing from this peer’s corresponding bit)；</p>
<ul>
<li>*</li>
<li>0*</li>
<li>01*</li>
<li>011*</li>
<li>…0111010010*</li>
</ul>
</li>
<li><p>When it needs to route to a peer, say 01110111001, it starts by forwarding to a neighbor with the largest matching prefix, i.e., 011101*</p>
</li>
</ul>
<h4 id="Pastry-Locality"><a href="#Pastry-Locality" class="headerlink" title="Pastry Locality"></a>Pastry Locality</h4><ul>
<li>For each prefix, say 011*, among all potential neighbors with a matching prefix, the neighbor with the shortest round-trip-time is selected</li>
<li>Since shorter prefixes have many more candidates (spread out throughout the Internet), the neighbors for shorter prefixes are likely to be closer than the neighbors for longer prefixes</li>
<li>Thus, in the prefix routing, early hops are short and later hops are longer</li>
<li>Yet overall “stretch”, compared to direct Internet path, stays short</li>
</ul>
<h4 id="Summary-of-Chord-and-Pastry"><a href="#Summary-of-Chord-and-Pastry" class="headerlink" title="Summary of Chord and Pastry"></a>Summary of Chord and Pastry</h4><ul>
<li>Chord and Pastry protocols<ul>
<li>More structured than Gnutella</li>
<li>Balck box lookup algorithms</li>
<li>Churn handling can get complex</li>
<li>O(log(N)) memory and lookup cost<ul>
<li>O(log(N)) lookup hops may be high</li>
<li>Can we reduce the number of hops?</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Kelips"><a href="#Kelips" class="headerlink" title="Kelips"></a>Kelips</h3><h4 id="Kelips-A-1-Hop-Lookup-DHT"><a href="#Kelips-A-1-Hop-Lookup-DHT" class="headerlink" title="Kelips - A 1 Hop Lookup DHT"></a>Kelips - A 1 Hop Lookup DHT</h4><p><img src="https://lh3.googleusercontent.com/nQBrB7OpWiWRNfSWgWmLoguYYXdQfRoPlk5dg4ld3alwUUqMwJWdkzJt-Ilh1hYWmIBAhH1D2D4-wIp-BQtYJ4X2TY8dSW7IEJGsY6mX7l81Qmgr6h1KXq5AHuuSKU9dY9Tbg9l5KOS9bslaFVOQjrB8d3aSwRq9RQlgyzcU4fgv7EGUTINgJAd0o9TqnMLobI3PuGpyfHSNdg_RjG6ShDRJgPr0Pqmg7E0UGW62UDwZqMchwnf1nWnTLEKc3U27j7vcQWo3476UlYS5TL6yRUwRRh-irKj7ECB8J7CCDFCNUE1VzPhlqJpbpFfZCYyAPBq_UjO9ydtmeO0RjaXyps9qSZRLLdq1q4nZO50dmHuBgVeK-Gdzh6dYzyATWZWEoL1CMwfc1x3jq-pDIKqiQIfIxhRZfzBfPO_VLpB1QKOzejtNGaIVerCbFHWLVFwYPeJa21EWGXOsHdh5wyw1e9NLQkfD0CNPTDXc1LrFCb8qHZ575LtLof7Ws91IeWcsiGxn-vdl9wr-CUOkgr9i3erngUOxwZSL8AiUZCQh8bzQeEf26W7dJSDVbyyMPKw-8yO6D8xT7qm2cme0iUErHucZsqKxTVk9GX09ZgYpEHUh7y-cy1qOa1Q88cWgNyM0jNoiNIanU1LUhEyeAWb85UUIq680GMx8Oj5u4yNHiA=w773-h485-no" alt="Kelips"></p>
<ul>
<li><p>File can be stored at any (few) node(s)</p>
</li>
<li><p>Decouple file replication/location (outside Kelips) from file querying (in Kelips)</p>
</li>
<li><p>Each filename hashed to a group</p>
<ul>
<li>All nodes in the group replicate pointer information, i.e., &lt;filename, file location&gt;</li>
<li>Affinity group does not store files</li>
</ul>
</li>
<li><p>Lookup</p>
<ul>
<li>Find file affinity group</li>
<li>Go to your contact for the file affinity group</li>
<li>Failing that try another of your neighbors to find a contact</li>
</ul>
</li>
<li><p>Lookup = 1 hop (or a few)</p>
<ul>
<li>Memory cost O(N^(1/2))</li>
<li>1.93 MB for 100K nodes, 10M files</li>
<li>Fits in RAM of most workstations/laptops today (COSTS machines)</li>
</ul>
</li>
<li><p>Membership lists</p>
<ul>
<li>Gossip-based membership</li>
<li>Within each affinity group</li>
<li>And also across affinity groups</li>
<li>O(log(N)) dissemination time</li>
</ul>
</li>
<li><p>File metadata</p>
<ul>
<li>Needs to be periodically refreshed from source node</li>
<li>Times out</li>
</ul>
</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/ar6rT0PG-tFxrdSSnWiKsxS82MLrhrMg7XX-KceL6YSRyr5WcXQBo-daxuHYXdF3Ol7jCFmJgW0XDn-MZYestCAW2OttxAzD2SBtHoOMVngWgGRtBw6I4vQB6ZYQP-ervSHpv5Ye3nJuZFnb4IBJ8Akm9brEkY_p8KrPQGXMCE1TE_UlY5q2odY7FBB07vQLdZWFbuOJFYFhH7pa44WWBvYIZxvGhsPY6xkcjcoCwFJVHzb6LlX5xCoszL3mgm0U05fp98g6GV1RWiG_P6_YTrC1E2nMEQwFie6wrf9pP-nLuHw4B8loN55deDllRoO6i7k399UQIk47RA5NsiMDTRqJy2C0RDdQnLkwO-isvlqHJpye65KYpsGJHydzgZboC7TpKt4HSzoZEe6T5efx6gWB0UGdhBOUnssKeKQjS2D1ULivhA9Pdv0NdArbdKHoEG8ligJXPO04kvzfuPUTc_8FWzFQ0qs4zEdiakatD_rWGBd8Cu4MDI-HzKrD0xlBtrSnDWX7R0WidcvEZSujr5va6g-lDMmHo8Reozqif3OnbTcRUCp-ErChHXHkFp2gIbKRmap1CYdrjw-psiIFd9Jg496r4-giI1-NJKeki9Obn4cpDHUIAQxSdYKuwe1UcMaH_aFz54G3Uxlb8GDYmyT2Xn6IB4Adp-MjgjEy0A=w685-h762-no" alt="Kelip"></p>
<h4 id="Chord-vs-Pastry-vs-Kelips"><a href="#Chord-vs-Pastry-vs-Kelips" class="headerlink" title="Chord vs. Pastry vs. Kelips"></a>Chord vs. Pastry vs. Kelips</h4><ul>
<li>Range of tradeoffs available<ul>
<li>Memory vs. lookup cost vs. background bandwidth (to keep neighbors fresh)</li>
</ul>
</li>
</ul>
<h4 id="What-We-Have-Studied"><a href="#What-We-Have-Studied" class="headerlink" title="What We Have Studied"></a>What We Have Studied</h4><ul>
<li>Widely-deployed P2P Systems<ul>
<li>Napster</li>
<li>Gnutella</li>
<li>Fasttrack (Kazaa, Kazzalite, Grokster)</li>
<li>BitTorrent</li>
</ul>
</li>
<li>P2P Systems with Provable Properties<ul>
<li>Chord</li>
<li>Pastry</li>
<li>Kelips</li>
</ul>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/tech/" rel="tag"># tech</a>
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"># 学习笔记</a>
              <a href="/tags/Cloud-Computing-Concepts/" rel="tag"># Cloud Computing Concepts</a>
              <a href="/tags/P2P-Systems/" rel="tag"># P2P Systems</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/03/20/2017-weekly-1/" rel="prev" title="好久不见的周记君">
      <i class="fa fa-chevron-left"></i> 好久不见的周记君
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/03/27/AIToolKits/" rel="next" title="人工智能(AI)简明工具箱">
      人工智能(AI)简明工具箱 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#P2P-Systems-Introduction"><span class="nav-number">1.</span> <span class="nav-text">P2P Systems Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Napster"><span class="nav-number">2.</span> <span class="nav-text">Napster</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Napster-Structure"><span class="nav-number">2.1.</span> <span class="nav-text">Napster Structure</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Napster-Operations"><span class="nav-number">2.2.</span> <span class="nav-text">Napster Operations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Napster-Search"><span class="nav-number">2.3.</span> <span class="nav-text">Napster Search</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Joining-a-P2P-System"><span class="nav-number">2.4.</span> <span class="nav-text">Joining a P2P System</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Problems"><span class="nav-number">2.5.</span> <span class="nav-text">Problems</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Gnutella"><span class="nav-number">3.</span> <span class="nav-text">Gnutella</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Gnutella-1"><span class="nav-number">3.1.</span> <span class="nav-text">Gnutella</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Gnutella-Search"><span class="nav-number">3.2.</span> <span class="nav-text">Gnutella Search</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Avoiding-Excessive-Traffic"><span class="nav-number">3.3.</span> <span class="nav-text">Avoiding Excessive Traffic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#After-Receiving-QueryHit-Messages"><span class="nav-number">3.4.</span> <span class="nav-text">After Receiving QueryHit Messages</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Dealing-With-Firewalls-—-Push"><span class="nav-number">3.5.</span> <span class="nav-text">Dealing With Firewalls — Push</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Ping-Pong"><span class="nav-number">3.6.</span> <span class="nav-text">Ping-Pong</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Gnutella-Summary"><span class="nav-number">3.7.</span> <span class="nav-text">Gnutella Summary</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Problems-1"><span class="nav-number">3.8.</span> <span class="nav-text">Problems</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FastTrack-and-BitTorrent"><span class="nav-number">4.</span> <span class="nav-text">FastTrack and BitTorrent</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FastTrack"><span class="nav-number">4.1.</span> <span class="nav-text">FastTrack</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Chord"><span class="nav-number">5.</span> <span class="nav-text">Chord</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DHT-Distributed-Hash-Table"><span class="nav-number">5.1.</span> <span class="nav-text">DHT &#x3D; Distributed Hash Table</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Comparative-Performance"><span class="nav-number">5.2.</span> <span class="nav-text">Comparative Performance</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chord-1"><span class="nav-number">5.3.</span> <span class="nav-text">Chord</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Peer-Pointers-1-Successors"><span class="nav-number">5.4.</span> <span class="nav-text">Peer Pointers (1): Successors</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Peer-Pointers-2-Finger-Tables"><span class="nav-number">5.5.</span> <span class="nav-text">Peer Pointers (2): Finger Tables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#What-about-the-files"><span class="nav-number">5.6.</span> <span class="nav-text">What about the files?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Search"><span class="nav-number">5.7.</span> <span class="nav-text">Search</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Analysis"><span class="nav-number">5.8.</span> <span class="nav-text">Analysis</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Failures-in-Chord"><span class="nav-number">6.</span> <span class="nav-text">Failures in Chord</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Search-Under-Peer-Failures"><span class="nav-number">6.1.</span> <span class="nav-text">Search Under Peer Failures</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Need-to-Deal-with-Dynamic-Changes"><span class="nav-number">6.2.</span> <span class="nav-text">Need to Deal with Dynamic Changes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#New-Peers-Joining"><span class="nav-number">6.3.</span> <span class="nav-text">New Peers Joining</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Stabilization-Protocol"><span class="nav-number">6.4.</span> <span class="nav-text">Stabilization Protocol</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Churn"><span class="nav-number">6.5.</span> <span class="nav-text">Churn</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Virtual-Nodes"><span class="nav-number">6.6.</span> <span class="nav-text">Virtual Nodes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Wrap-up-Notes"><span class="nav-number">6.7.</span> <span class="nav-text">Wrap-up Notes</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pastry"><span class="nav-number">7.</span> <span class="nav-text">Pastry</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pastry-1"><span class="nav-number">7.1.</span> <span class="nav-text">Pastry</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Pastry-Neighbors"><span class="nav-number">7.2.</span> <span class="nav-text">Pastry Neighbors</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Pastry-Routing"><span class="nav-number">7.3.</span> <span class="nav-text">Pastry Routing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Pastry-Locality"><span class="nav-number">7.4.</span> <span class="nav-text">Pastry Locality</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Summary-of-Chord-and-Pastry"><span class="nav-number">7.5.</span> <span class="nav-text">Summary of Chord and Pastry</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Kelips"><span class="nav-number">8.</span> <span class="nav-text">Kelips</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Kelips-A-1-Hop-Lookup-DHT"><span class="nav-number">8.1.</span> <span class="nav-text">Kelips - A 1 Hop Lookup DHT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Chord-vs-Pastry-vs-Kelips"><span class="nav-number">8.2.</span> <span class="nav-text">Chord vs. Pastry vs. Kelips</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#What-We-Have-Studied"><span class="nav-number">8.3.</span> <span class="nav-text">What We Have Studied</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Danny Zhang</p>
  <div class="site-description" itemprop="description">Blogger/Software Engineer/Fitness Enthusiast</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">47</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Danny Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
