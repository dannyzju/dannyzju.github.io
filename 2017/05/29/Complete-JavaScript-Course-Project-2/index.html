<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dannyzhang.run","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="1. Project Planning and Architecture: Step 21.1. What We Just Completed 1.2. Panning: Step 2 2. Event Delegation2.1. Event Bubbling, Target Element and Event Delegation Event bubbling mean that when a">
<meta property="og:type" content="article">
<meta property="og:title" content="Put It All Together: The Budget App Project: Part II">
<meta property="og:url" content="http://dannyzhang.run/2017/05/29/Complete-JavaScript-Course-Project-2/index.html">
<meta property="og:site_name" content="D.Z. Notes (Beta)">
<meta property="og:description" content="1. Project Planning and Architecture: Step 21.1. What We Just Completed 1.2. Panning: Step 2 2. Event Delegation2.1. Event Bubbling, Target Element and Event Delegation Event bubbling mean that when a">
<meta property="og:image" content="https://lh3.googleusercontent.com/lWHSuBs8felsWHAkvqpV00aL1I16pvwOuyWJWBIGCKWBdNmKtZLINWu4kMviBUSfR8sqIWtXkYQXV89q6G3uuDFVZOEb1qHgoiP_XFbobM0MTD7QuKl2XYARjHQ2SMdNzOjTLOxHUQLFAsdFbOz1ZQjWx52FKDHblkfwA6nu9dIOSRoRm4e_KIsybUsWC2_3HWlL40M96YR6PFYoqbp7AGyr5jEvPBaByzglQtjN3Nqq5bQxSRqjSoZdt5LvRvpGSf5qiJ8CUlmWTN3bIASzu7QTNWuk2nPKAgKRSeI6lk1iP5s6SM3Q0-lDVfxUf9oYJLxtmQwKz2WDG9ZaF8dbJ5fOxUNArNaWEKH0UWGOkWIKCn0X0_S2nd-RBdRTBb5k0dsUTx9DifrNOjMTu-jj5gfKha6vUrkh0Sr-3-x_J2i8ZctWlOdf89DEMdmeZuaOoU4YefaFka0r5UoFiyxCl6YDn26JEOccMDPCsK_4laOExPeIle56252nE1AmdnpQkzGew95GnUPYsJBPYql4QQfMhHG3Jjs8i2FFJEeja56_8-q_Mj_9NBR5OjbLhExeCmzq7HXPKh0yY37j-WTbJkJRU_sL31w5AI9kv15FvyHFtUL8a5HN-Kv6uqnlCiQpsXOycBoH_0iMtKMm91v87Sa38PJ8duw7KubvV-cFTw=w1734-h1010-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/GE0EEABtsEXmgyU9mkcrKRA_8HCx9Ce0Aql32TGBRA3kvp3lK93plD9jxezzD1oQBfJnch59NZfYCBH4VJE41u1_p-496CSU-ilLb6sl9xcAaeLRUKyya8PL6aEdRguUj1yaJYltix4dFNtLzmz5kfsNdfDolbVj0TDq05U2GYQEyFWlC2DHILnWQ2C6gxCT5rOZ50E7d8pzEmLILfBD4VukS2Tju3Obail2Csd2mRV4ty6eFk7FtfVBj2Wqd2arQ7b36FICt_PKKwXiybATO1SF_ilm30l12ge58n5PVittFmI0fMBAVglKi7gNBwqTVqc8qMtIRr8jopHCDyBS6_zkw_NCoGzGAol8eQvR_MJirBeBhQEUI66mXDDUk-qmODARUteDvKSQgLdBDA0J2MwrMh_iEBYB8kcHMhAjVGtsXJo-WkGeiCaEwQ_MMLJAL2bvnqxrkgJ-39H84SDVMlfA_s1t7npm_AaIUmyWBWr7PtgaCzNSW_wiCOBoA4Ux5YPufYK36soW7GvTfvr2saHqFb4nv0-GT5vILIXNkyLgW7RDOMwjiYFaym79MJiWREGM6EaHQeWm4LVHwUJ9ezfM1DUHn9tBnE0ECT6oSWyQgCXOARZhkV-SJpZIsTPuecQtuV_km9g9DBdXCWgV793Nr5ABh-B1e9sqW1bo-g=w1734-h850-no">
<meta property="og:image" content="https://lh3.googleusercontent.com/--HVptQAUvm5pPbpqe3db6umeD2fiDOmNqVPk9IN40Hveu52sLVpUN7syCmeZChKc7-vv-rlcc7O3u-8Qu58L-psHxAPryPywwTaN1eSxTYUz8YCou1xrhIpcRG2udvNmp4jxuOT2pieJH68523eCjGOu8rG0M99FQu_PZqbte2PIGStrJxRyWoKr9GO5zaWzzHmbp_NvjJrRBF8c_tiiSIdhY_1ACeDu5vwJMmI7AwsahDiDJ2JYdYOZK0DdiJd3vMYJxWqQILsldxGmDllXiYT98peKz8LNKgyqKZqnp7HQtWU4qbnEw2y0kv6jsPyf71Hd44rsY1f2Mwlm2TSl9q7DGEVDlzlZ0oo82EhCNmF1Wr_RKdbMkgO-pMKh5iQp4OjPYdzY56YPblCOaw47JnOKXvCr36_RYiF-90HkEuT1tdrSF3nYIkFyaKIxfMxb9V1NXKocKdfz48aBiHW7UMVus-3fp4td61oyW66B3uG4QpJOg8fVpNvj59-CokV52UhcwGtajTwqpWdHNB5u7942I7mb0HwwxY7q4w1Z1snahSkZ_FuvamtjQ1MEmocxQPHFd4NrL71oMigqd2AqSy2mb3VW0Xq7LmhtshbrQrqhlWeG0ubgl4yYN4u8Hej2gOTvRNiUKGGbWMNXvUZHyx--imq2m5ydn2IzYHbNw=w819-h362-no">
<meta property="article:published_time" content="2017-05-29T22:36:44.000Z">
<meta property="article:modified_time" content="2017-05-29T22:40:36.000Z">
<meta property="article:author" content="Danny Zhang">
<meta property="article:tag" content="tech">
<meta property="article:tag" content="学习笔记">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/lWHSuBs8felsWHAkvqpV00aL1I16pvwOuyWJWBIGCKWBdNmKtZLINWu4kMviBUSfR8sqIWtXkYQXV89q6G3uuDFVZOEb1qHgoiP_XFbobM0MTD7QuKl2XYARjHQ2SMdNzOjTLOxHUQLFAsdFbOz1ZQjWx52FKDHblkfwA6nu9dIOSRoRm4e_KIsybUsWC2_3HWlL40M96YR6PFYoqbp7AGyr5jEvPBaByzglQtjN3Nqq5bQxSRqjSoZdt5LvRvpGSf5qiJ8CUlmWTN3bIASzu7QTNWuk2nPKAgKRSeI6lk1iP5s6SM3Q0-lDVfxUf9oYJLxtmQwKz2WDG9ZaF8dbJ5fOxUNArNaWEKH0UWGOkWIKCn0X0_S2nd-RBdRTBb5k0dsUTx9DifrNOjMTu-jj5gfKha6vUrkh0Sr-3-x_J2i8ZctWlOdf89DEMdmeZuaOoU4YefaFka0r5UoFiyxCl6YDn26JEOccMDPCsK_4laOExPeIle56252nE1AmdnpQkzGew95GnUPYsJBPYql4QQfMhHG3Jjs8i2FFJEeja56_8-q_Mj_9NBR5OjbLhExeCmzq7HXPKh0yY37j-WTbJkJRU_sL31w5AI9kv15FvyHFtUL8a5HN-Kv6uqnlCiQpsXOycBoH_0iMtKMm91v87Sa38PJ8duw7KubvV-cFTw=w1734-h1010-no">

<link rel="canonical" href="http://dannyzhang.run/2017/05/29/Complete-JavaScript-Course-Project-2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true
  };
</script>

  <title>Put It All Together: The Budget App Project: Part II | D.Z. Notes (Beta)</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-93834804-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-93834804-1');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?cf34824826b242e2f2924ceffd8bb1fb";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">D.Z. Notes (Beta)</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Be insensitive, and keep a lifelong growth mindset.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section">Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section">Archives</a>

  </li>
        <li class="menu-item menu-item-technical">

    <a href="/technical" rel="section">technical</a>

  </li>
        <li class="menu-item menu-item-essays">

    <a href="/essays" rel="section">essays</a>

  </li>
        <li class="menu-item menu-item-readings">

    <a href="/readings" rel="section">readings</a>

  </li>
        <li class="menu-item menu-item-workout">

    <a href="/workout" rel="section">workout</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section">Tags</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section">About</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/05/29/Complete-JavaScript-Course-Project-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Put It All Together: The Budget App Project: Part II
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-05-29 15:36:44 / Modified: 15:40:36" itemprop="dateCreated datePublished" datetime="2017-05-29T15:36:44-07:00">2017-05-29</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/05/29/Complete-JavaScript-Course-Project-2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/05/29/Complete-JavaScript-Course-Project-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="1-Project-Planning-and-Architecture-Step-2"><a href="#1-Project-Planning-and-Architecture-Step-2" class="headerlink" title="1. Project Planning and Architecture: Step 2"></a>1. Project Planning and Architecture: Step 2</h2><h3 id="1-1-What-We-Just-Completed"><a href="#1-1-What-We-Just-Completed" class="headerlink" title="1.1. What We Just Completed"></a>1.1. What We Just Completed</h3><p><img src="https://lh3.googleusercontent.com/lWHSuBs8felsWHAkvqpV00aL1I16pvwOuyWJWBIGCKWBdNmKtZLINWu4kMviBUSfR8sqIWtXkYQXV89q6G3uuDFVZOEb1qHgoiP_XFbobM0MTD7QuKl2XYARjHQ2SMdNzOjTLOxHUQLFAsdFbOz1ZQjWx52FKDHblkfwA6nu9dIOSRoRm4e_KIsybUsWC2_3HWlL40M96YR6PFYoqbp7AGyr5jEvPBaByzglQtjN3Nqq5bQxSRqjSoZdt5LvRvpGSf5qiJ8CUlmWTN3bIASzu7QTNWuk2nPKAgKRSeI6lk1iP5s6SM3Q0-lDVfxUf9oYJLxtmQwKz2WDG9ZaF8dbJ5fOxUNArNaWEKH0UWGOkWIKCn0X0_S2nd-RBdRTBb5k0dsUTx9DifrNOjMTu-jj5gfKha6vUrkh0Sr-3-x_J2i8ZctWlOdf89DEMdmeZuaOoU4YefaFka0r5UoFiyxCl6YDn26JEOccMDPCsK_4laOExPeIle56252nE1AmdnpQkzGew95GnUPYsJBPYql4QQfMhHG3Jjs8i2FFJEeja56_8-q_Mj_9NBR5OjbLhExeCmzq7HXPKh0yY37j-WTbJkJRU_sL31w5AI9kv15FvyHFtUL8a5HN-Kv6uqnlCiQpsXOycBoH_0iMtKMm91v87Sa38PJ8duw7KubvV-cFTw=w1734-h1010-no" alt="What We Just Completed"></p>
<h3 id="1-2-Panning-Step-2"><a href="#1-2-Panning-Step-2" class="headerlink" title="1.2. Panning: Step 2"></a>1.2. Panning: Step 2</h3><p><img src="https://lh3.googleusercontent.com/GE0EEABtsEXmgyU9mkcrKRA_8HCx9Ce0Aql32TGBRA3kvp3lK93plD9jxezzD1oQBfJnch59NZfYCBH4VJE41u1_p-496CSU-ilLb6sl9xcAaeLRUKyya8PL6aEdRguUj1yaJYltix4dFNtLzmz5kfsNdfDolbVj0TDq05U2GYQEyFWlC2DHILnWQ2C6gxCT5rOZ50E7d8pzEmLILfBD4VukS2Tju3Obail2Csd2mRV4ty6eFk7FtfVBj2Wqd2arQ7b36FICt_PKKwXiybATO1SF_ilm30l12ge58n5PVittFmI0fMBAVglKi7gNBwqTVqc8qMtIRr8jopHCDyBS6_zkw_NCoGzGAol8eQvR_MJirBeBhQEUI66mXDDUk-qmODARUteDvKSQgLdBDA0J2MwrMh_iEBYB8kcHMhAjVGtsXJo-WkGeiCaEwQ_MMLJAL2bvnqxrkgJ-39H84SDVMlfA_s1t7npm_AaIUmyWBWr7PtgaCzNSW_wiCOBoA4Ux5YPufYK36soW7GvTfvr2saHqFb4nv0-GT5vILIXNkyLgW7RDOMwjiYFaym79MJiWREGM6EaHQeWm4LVHwUJ9ezfM1DUHn9tBnE0ECT6oSWyQgCXOARZhkV-SJpZIsTPuecQtuV_km9g9DBdXCWgV793Nr5ABh-B1e9sqW1bo-g=w1734-h850-no" alt="Panning: Step 2"></p>
<h2 id="2-Event-Delegation"><a href="#2-Event-Delegation" class="headerlink" title="2. Event Delegation"></a>2. Event Delegation</h2><h3 id="2-1-Event-Bubbling-Target-Element-and-Event-Delegation"><a href="#2-1-Event-Bubbling-Target-Element-and-Event-Delegation" class="headerlink" title="2.1. Event Bubbling, Target Element and Event Delegation"></a>2.1. Event Bubbling, Target Element and Event Delegation</h3><p><img src="https://lh3.googleusercontent.com/--HVptQAUvm5pPbpqe3db6umeD2fiDOmNqVPk9IN40Hveu52sLVpUN7syCmeZChKc7-vv-rlcc7O3u-8Qu58L-psHxAPryPywwTaN1eSxTYUz8YCou1xrhIpcRG2udvNmp4jxuOT2pieJH68523eCjGOu8rG0M99FQu_PZqbte2PIGStrJxRyWoKr9GO5zaWzzHmbp_NvjJrRBF8c_tiiSIdhY_1ACeDu5vwJMmI7AwsahDiDJ2JYdYOZK0DdiJd3vMYJxWqQILsldxGmDllXiYT98peKz8LNKgyqKZqnp7HQtWU4qbnEw2y0kv6jsPyf71Hd44rsY1f2Mwlm2TSl9q7DGEVDlzlZ0oo82EhCNmF1Wr_RKdbMkgO-pMKh5iQp4OjPYdzY56YPblCOaw47JnOKXvCr36_RYiF-90HkEuT1tdrSF3nYIkFyaKIxfMxb9V1NXKocKdfz48aBiHW7UMVus-3fp4td61oyW66B3uG4QpJOg8fVpNvj59-CokV52UhcwGtajTwqpWdHNB5u7942I7mb0HwwxY7q4w1Z1snahSkZ_FuvamtjQ1MEmocxQPHFd4NrL71oMigqd2AqSy2mb3VW0Xq7LmhtshbrQrqhlWeG0ubgl4yYN4u8Hej2gOTvRNiUKGGbWMNXvUZHyx--imq2m5ydn2IzYHbNw=w819-h362-no" alt="Event Bubbling, Target Element and Event Delegation"></p>
<p><strong><code>Event bubbling</code></strong> mean that when an event is fired or triggered on some DOM element, for example,by clicking on our button here on the right side, then the exact same event is also triggered on all of the parent elements.</p>
<p><strong><code>Event delegation</code></strong> refers to the process of using event propagation (bubbling) to handle events at a higher level in the DOM than the element on which the event originated. It allows us to attach a single event listener for elements that exist now or in the future.</p>
<h3 id="2-2-Use-Cases-for-Event-Delegation"><a href="#2-2-Use-Cases-for-Event-Delegation" class="headerlink" title="2.2. Use Cases for Event Delegation"></a>2.2. Use Cases for Event Delegation</h3><ol>
<li><p>When we have an element with lots of child elements that we are interested in;</p>
</li>
<li><p>When we want an event handler attached to an element that is not yet in the DOM when our page is loaded.</p>
</li>
</ol>
<h2 id="3-Setting-up-the-Delete-Event-Listener-Using-Event-Delegation"><a href="#3-Setting-up-the-Delete-Event-Listener-Using-Event-Delegation" class="headerlink" title="3. Setting up the Delete Event Listener Using Event Delegation"></a>3. Setting up the Delete Event Listener Using Event Delegation</h2><ul>
<li><p><strong><code>What you will learn in this section:</code></strong></p>
<ul>
<li>How to use event delegation in practice;</li>
<li>How to use IDs in HTML to connect the UI with the data model;</li>
<li>How to use the parentNode property for DOM traversing.</li>
</ul>
</li>
<li><p>Action Items</p>
<ul>
<li>Add container in UI Controller DOMstrings;</li>
<li>Update setupEventListners in app controller;</li>
<li>Create ctrlDeleteItem method for event listener.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = obj.budget;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = totoalInc;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = totalExp;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.container).addEventListener(<span class="string">'click'</span>, ctrlDeleteItem);</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event.target);</span><br><span class="line">		<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">		itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">		<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">			<span class="comment">//inc-1</span></span><br><span class="line">			splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">			type = splitID[<span class="number">0</span>];</span><br><span class="line">			ID = splitID[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			UICtrl.displayBudget(&#123;</span><br><span class="line">				budget: <span class="number">0</span>,</span><br><span class="line">				totalInc: <span class="number">0</span>,</span><br><span class="line">				totalExp: <span class="number">0</span>,</span><br><span class="line">				percentage: <span class="number">-1</span></span><br><span class="line">			&#125;);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>



<h2 id="4-Deleting-an-Item-from-our-Budget-Controller"><a href="#4-Deleting-an-Item-from-our-Budget-Controller" class="headerlink" title="4. Deleting an Item from our Budget Controller"></a>4. Deleting an Item from our Budget Controller</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>Yet another method to loop over an array: map;</li>
<li>How to remove elements from an array using the splice method.</li>
</ul>
</li>
</ul>
<p>Add deleteItem Method in Budget Controller</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">	<span class="keyword">var</span> Expense = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> Income = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> calculateTotal = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">		data.allItems[type].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">			sum = sum + cur.value;</span><br><span class="line">		&#125;);</span><br><span class="line">		data.totals[type] = sum;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> data = &#123;</span><br><span class="line">		allItems: &#123;</span><br><span class="line">			exp: [],</span><br><span class="line">			inc: []</span><br><span class="line">		&#125;,</span><br><span class="line">		totals: &#123;</span><br><span class="line">			exp: <span class="number">0</span>,</span><br><span class="line">			inc: <span class="number">0</span></span><br><span class="line">		&#125;,</span><br><span class="line">		budget: <span class="number">0</span>,</span><br><span class="line">		percentage: <span class="number">-1</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		addItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, des, val</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> newItem, ID;</span><br><span class="line">			<span class="comment">//Create new ID</span></span><br><span class="line">			ID = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span> (data.allItems[type].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				ID = data.allItems[type][data.allItems[type].length - <span class="number">1</span>].id + <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				ID = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Create new item based on 'inc' or 'exp' type</span></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Expense(ID, des, val);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Income(ID, des, val);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Push it into our data structure</span></span><br><span class="line">			data.allItems[type].push(newItem);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Return the new element</span></span><br><span class="line">			<span class="keyword">return</span> newItem;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, id</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> ids, index;</span><br><span class="line">			<span class="comment">// id = 3</span></span><br><span class="line">			<span class="keyword">var</span> ids = data.allItems[type].map(<span class="function"><span class="keyword">function</span>(<span class="params">current</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> current.id;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			index = ids.indexOf(id);</span><br><span class="line">			<span class="keyword">if</span> (index !=== <span class="number">-1</span>) &#123;</span><br><span class="line">				data.allItems[type].splice(index, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		calculateBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="comment">// calculate total income and expenses</span></span><br><span class="line">			calculateTotal(<span class="string">'exp'</span>);</span><br><span class="line">			calculateTotal(<span class="string">'inc'</span>);</span><br><span class="line">			<span class="comment">// Calculate the budget: income - expenses</span></span><br><span class="line">			data.budget = data.totals.inc - data.totals.exp;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Calculate the percentage of income that we spent</span></span><br><span class="line">			<span class="keyword">if</span> (data.totals.inc &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				data.percentage = <span class="built_in">Math</span>.round((data.totals.exp / data.totals.inc) * <span class="number">100</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				data.percentage = <span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">				budget: data.budget,</span><br><span class="line">				totalInc: data.totals.inc,</span><br><span class="line">				totalExp: data.totals.exp,</span><br><span class="line">				percentage: data.percentage</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		testing: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>Call deleteItem method in App Controller ctrlDeleteItem:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(event.target);</span><br><span class="line">	<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">	itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">	<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">		<span class="comment">//inc-1</span></span><br><span class="line">		splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">		type = splitID[<span class="number">0</span>];</span><br><span class="line">		ID = <span class="built_in">parseInt</span>(splitID[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">		budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="5-Deleting-an-Item-from-the-UI"><a href="#5-Deleting-an-Item-from-the-UI" class="headerlink" title="5. Deleting an Item from the UI"></a>5. Deleting an Item from the UI</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>More DOM manipulation: how to remove an element from the DOM.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteListItem: <span class="function"><span class="keyword">function</span>(<span class="params">selectorID</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(selectorID);</span><br><span class="line">			el.parentNode.removeChild(el);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = obj.budget;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = totoalInc;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = totalExp;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>Call UICtrl.deleteListItem and updateBudget methods in App Controller ctrlDeleteItem:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(event.target);</span><br><span class="line">	<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">	itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">	<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">		<span class="comment">//inc-1</span></span><br><span class="line">		splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">		type = splitID[<span class="number">0</span>];</span><br><span class="line">		ID = <span class="built_in">parseInt</span>(splitID[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">		budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line">		UICtrl.deleteListItem(itemID);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">		updateBudget();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/tech/" rel="tag"># tech</a>
              <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag"># 学习笔记</a>
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/05/28/Complete-JavaScript-Course-Project-1/" rel="prev" title="Put It All Together: The Budget App Project Part I">
      <i class="fa fa-chevron-left"></i> Put It All Together: The Budget App Project Part I
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/06/25/Complete-JavaScript-Course-Project-3/" rel="next" title="Put It All Together: The Budget App Project: Part III">
      Put It All Together: The Budget App Project: Part III <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Project-Planning-and-Architecture-Step-2"><span class="nav-text">1. Project Planning and Architecture: Step 2</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-What-We-Just-Completed"><span class="nav-text">1.1. What We Just Completed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-Panning-Step-2"><span class="nav-text">1.2. Panning: Step 2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Event-Delegation"><span class="nav-text">2. Event Delegation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-Event-Bubbling-Target-Element-and-Event-Delegation"><span class="nav-text">2.1. Event Bubbling, Target Element and Event Delegation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-Use-Cases-for-Event-Delegation"><span class="nav-text">2.2. Use Cases for Event Delegation</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Setting-up-the-Delete-Event-Listener-Using-Event-Delegation"><span class="nav-text">3. Setting up the Delete Event Listener Using Event Delegation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-Deleting-an-Item-from-our-Budget-Controller"><span class="nav-text">4. Deleting an Item from our Budget Controller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-Deleting-an-Item-from-the-UI"><span class="nav-text">5. Deleting an Item from the UI</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Danny Zhang</p>
  <div class="site-description" itemprop="description">Blogger/Software Engineer/Fitness Enthusiast</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Danny Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://dannyzhang-run.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://dannyzhang.run/2017/05/29/Complete-JavaScript-Course-Project-2/";
    this.page.identifier = "2017/05/29/Complete-JavaScript-Course-Project-2/";
    this.page.title = "Put It All Together: The Budget App Project: Part II";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://dannyzhang-run.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
