<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"dannyzhang.run","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Blogger&#x2F;Software Engineer&#x2F;Fitness Enthusiast">
<meta property="og:type" content="website">
<meta property="og:title" content="D.Z. Notes (Beta)">
<meta property="og:url" content="http://dannyzhang.run/page/2/index.html">
<meta property="og:site_name" content="D.Z. Notes (Beta)">
<meta property="og:description" content="Blogger&#x2F;Software Engineer&#x2F;Fitness Enthusiast">
<meta property="article:author" content="Danny Zhang">
<meta property="article:tag" content="Danny Zhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://dannyzhang.run/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>D.Z. Notes (Beta)</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">D.Z. Notes (Beta)</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Be insensitive, and keep a lifelong growth mindset.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section">Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section">Archives</a>

  </li>
        <li class="menu-item menu-item-technical">

    <a href="/technical" rel="section">technical</a>

  </li>
        <li class="menu-item menu-item-essays">

    <a href="/essays" rel="section">essays</a>

  </li>
        <li class="menu-item menu-item-readings">

    <a href="/readings" rel="section">readings</a>

  </li>
        <li class="menu-item menu-item-workout">

    <a href="/workout" rel="section">workout</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags" rel="section">Tags</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section">About</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/07/31/build-web-with-react/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/07/31/build-web-with-react/" class="post-title-link" itemprop="url">Build Web App with React</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-07-31 21:24:12 / Modified: 21:33:11" itemprop="dateCreated datePublished" datetime="2017-07-31T21:24:12-07:00">2017-07-31</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/07/31/build-web-with-react/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/31/build-web-with-react/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Installing-React"><a href="#1-Installing-React" class="headerlink" title="1. Installing React"></a>1. Installing React</h2><p>Cd into the target folder, and run the following commands</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g create-react-app</span><br></pre></td></tr></table></figure>

<p>Create a new react app called compare-react</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create-react-app compare-react</span><br></pre></td></tr></table></figure>

<p>Build and launch the project</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd compare-react</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>

<h2 id="2-React-Components"><a href="#2-React-Components" class="headerlink" title="2. React Components"></a>2. React Components</h2><p>Initially, the app structure looks like this.</p>
<p><img src="https://lh3.googleusercontent.com/wCoAPYWpnClUXMZ_Krks8XM9n31EIeow-NR5Ak9JSn2h8dDKvQvDdq15hxXc9-AYnCZJ7gGv3Ypqj2x2FDyXf0zWGbLQ-clo_MDey_NkQDsWPD8wB_L1s3P2vXzV9QW1hdg0LEKHOHGI2I0GGWQ8zbJfXE96VEI8FiklqkjT7w4Fd-toqh5iIPwYdk9o3FyFUSh7N7E5Q9sR7LFgNZuYb2LQGNRs5sBqkegRDA6M2g_yV6Ldu5dqyltNcFjd31kv0jKuyOUoqbWE5SYC26iIjGiKyJDyP1SKGG1GaVd28yYv07bzTfSas7Vg1JKQLJ3Wr57v59Bo9wJp9HN7encIpkKgYavtDH4gXOIS6_3W7qQQUV3FH0CO64nI7Uk9_zgzJvNlB2y43xCLS7RvC095fiko_k50EX_0NhIN5iU4URC4ohwLJPn2VaF4sA5Y7KPVY1Bb9o2Btu30UAQoRorQLlfTVLXDnU_y8frmyciwaSCKNRQxBdwZgBDGQUeGd6PgaEt-4Blthd7NuF_oyR3cp_ZgBIwxYd0Kg-Yidl52Rq9OXOOSJE3xt7nFgUO1uJEXZxwpHVBgT4bFoLRtbAv0MUZezpf92ZtmCPPj5wPhKgPL7kNXHKmcvPiwXUNr-PrGqlZBkQa2181v2Q863quAY2qbkg8sCuKppU-Ws3QwIAN1Mg=w2036-h956-no" alt="Initial React Components"></p>
<p>To better organize the app components, create /src/components folder, and then create subfolders <code>Home</code>, <code>Header</code>, <code>Footer</code>, and <code>Faq</code> for each UI components.</p>
<p><strong>Header.js</strong></p>
<p>Same as the App.js, Header is also a stateful UI component. Create Header.js under /src/components/Header, copy and paste code from App.js, and edit it as follows:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Header</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        MY HEADER</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Header;</span></span><br></pre></td></tr></table></figure>

<p><strong>Footer.js</strong></p>
<p>Create Footer.js under /src/components/Footer, different with Header, Footer is a stateless UI component. Instead of creating a class extending Component, we need to create a const function. See the code below.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Footer = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className = <span class="string">"App"</span> &gt;</span><br><span class="line">      MY FOOTER</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Footer;</span></span><br></pre></td></tr></table></figure>

<p>At last, import Header and Footer in App.js like this.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./component/Header/Header'</span>;</span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./component/Footer/Footer'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        &lt;Header /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;Footer /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure>

<p>Eventually, the app structure looks like this.</p>
<p><img src="https://lh3.googleusercontent.com/eRWIVrMMJU8UtUABtAJbkQ7M6qit-Wmkk5VNEVAcwnKphNBPYKbGSAlA24XnDshYIDmvDR91rOGZ6MuAXcazFZhBagCVr3ip-aJ3OLNtKRoyzOvH2qxPWnuma3fZxBcQKRzPx_24ypk71KU8a8yOL_X7O6QEMhKVlCwoW2gX5MVAYtTYrQ8J2ImgyXFC5omNT7ZIR9F6-TIS9DHLv3PuzJnDN8qIbZGvjjuJQfmqdie0XH9unBup4EvvayBZmktAVO29HbZ0wqaGt65SPMPssy_KKArEmOm0led9hWMndrjfQ01LcEdmYYrjUm_I9N1M00kb4WCgPFSgCCuHoJwbXAQ-mTl1cdxXwEGvgOhsn60aOcQkYWRK-DVLwspuSSTJ1qgZT5JM0YeoX6J64tdSkbS_BuNTXPtJTrF4fhs_NqEiopzY1w45ZP4oktrmYyl_SLSJQgtjDmQORznm_46uvrDanmOcid799-uHbf-Rf-SceZqsfU_oHT1mMgslb5G2VIdx97SJke4CzoMTzEXKxXJ_sczXfYyDLRF0HiyT2hYvv8uXevdfuhsXr-Ehj5n_InYTpZR0H-Gp4ZO6v3bKcQsqUEVdJjhLKd9Ng1I80vSZ7J6ipF_IOHKttx5Go8uGDnVQn8yUEiEWnGJWgTuQ_sl0syiKzv4NJgIjUAH9VlZ6eA=w2204-h1246-no" alt="React Components"></p>
<h2 id="3-Integrating-a-CSS-Framework"><a href="#3-Integrating-a-CSS-Framework" class="headerlink" title="3. Integrating a CSS Framework"></a>3. Integrating a CSS Framework</h2><p>Cd project folder and install bulma</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd compare-react</span><br><span class="line">npm install bulma --save</span><br></pre></td></tr></table></figure>

<p>To add bulma to the project, we can reference <a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-a-css-preprocessor-sass-less-etc" target="_blank" rel="noopener">Adding a CSS Preprocessor (Sass, Less etc.)</a></p>
<p>Edit the “scripts” section in package.json as follows:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">	<span class="string">"build-css"</span>: <span class="string">"node-sass-chokidar src/ -o src/"</span>,</span><br><span class="line">	<span class="string">"watch-css"</span>: <span class="string">"npm run build-css &amp;&amp; node-sass-chokidar src/ -o src/ --watch --recursive"</span>,</span><br><span class="line">	<span class="string">"start-js"</span>: <span class="string">"react-scripts start"</span>,</span><br><span class="line">	<span class="string">"start"</span>: <span class="string">"npm-run-all -p watch-css start-js"</span>,</span><br><span class="line">	<span class="string">"build"</span>: <span class="string">"npm run build-css &amp;&amp; react-scripts build"</span>,</span><br><span class="line">	<span class="string">"test"</span>: <span class="string">"react-scripts test --env=jsdom"</span>,</span><br><span class="line">	<span class="string">"eject"</span>: <span class="string">"react-scripts eject"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Then run the following commands</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev npm-run-all</span><br><span class="line">npm install node-sass-chokidar --save-dev</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>Check the App.css file, and you can see that the content of App.sass has been compiled to App.css, so in our code, we can just import and reference to App.css.</p>
<p>The app is running with very basic header and footer now!</p>
<h2 id="4-Header-amp-Routing"><a href="#4-Header-amp-Routing" class="headerlink" title="4. Header &amp; Routing"></a>4. Header &amp; Routing</h2><h3 id="4-1-Header-UI"><a href="#4-1-Header-UI" class="headerlink" title="4.1. Header UI"></a>4.1. Header UI</h3><p>Copy and edit the header code from previous vue project to Header.js as follows.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Header</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">"nav has-shadow"</span>&gt;</span><br><span class="line">        &lt;div className=<span class="string">"container"</span>&gt;</span><br><span class="line">          &lt;div className=<span class="string">"nav-left"</span></span><br><span class="line">            &lt;a className=<span class="string">"nav-item"</span>&gt;MyCompany&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">          &lt;span className=<span class="string">"nav-toggle"</span>&gt;</span><br><span class="line">            &lt;span&gt;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">            &lt;span&gt;&lt;/</span>span&gt;</span><br><span class="line">            &lt;span&gt;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>span&gt;</span><br><span class="line"></span><br><span class="line">          &lt;div className=<span class="string">"nav-right nav-menu"</span>&gt;</span><br><span class="line">            &lt;div className=<span class="string">"nav-item"</span>&gt;</span><br><span class="line">              &lt;p className=<span class="string">"control"</span>&gt;</span><br><span class="line">                &lt;a className=<span class="string">"button is-primary is-outlined"</span>&gt;</span><br><span class="line">                  &lt;span className=<span class="string">"icon"</span>&gt;</span><br><span class="line">                    &lt;i className=<span class="string">"fa fa-download"</span>&gt;&lt;<span class="regexp">/i&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;/</span>span&gt;</span><br><span class="line">                  &lt;span&gt;Join Now&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>a&gt;</span><br><span class="line">              &lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">          &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Header;</span><br></pre></td></tr></table></figure>

<p>Copy the previous mq.sass file from vue project to /src, and create the Header.sass file under /src/components/Header with the following content.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;..&#x2F;..&#x2F;mq.sass&#39;</span><br><span class="line"></span><br><span class="line">.nav</span><br><span class="line">  background-color: #383838</span><br><span class="line">  a:hover</span><br><span class="line">    color: gray</span><br><span class="line"></span><br><span class="line">.nav-left a</span><br><span class="line">  color: #fff</span><br><span class="line">  font-weight: bold</span><br><span class="line"></span><br><span class="line">a.r-item</span><br><span class="line">  color: #C1C1C1</span><br><span class="line">  padding: 0.5rem 1.75rem</span><br><span class="line">  +mobile</span><br><span class="line">    color: gray</span><br><span class="line">    &amp;:hover</span><br><span class="line">      background-color: #F1F1F1</span><br><span class="line"></span><br><span class="line">.nav-toggle span</span><br><span class="line">  background-color: #C1C1C1</span><br></pre></td></tr></table></figure>

<p>Then import ‘./Header.css’ in Header.js</p>
<p>Besides, we need to change the order of “import ‘./App.css’” in App.js as follows to avoid the styling of Header and Footer got overridden by App.css</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.css'</span>;</span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./components/Header/Header'</span>;</span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./components/Footer/Footer'</span>;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="4-2-Header-Routing"><a href="#4-2-Header-Routing" class="headerlink" title="4.2. Header Routing"></a>4.2. Header Routing</h3><p>Install react-router-dom.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install react-router-dom --save</span><br></pre></td></tr></table></figure>

<p>Import Link in Header.js, and add links under nav-menu div as follows.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> &#123; Link &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">&lt;div className=<span class="string">"nav-right nav-menu"</span>&gt;</span><br><span class="line">	&lt;Link to=<span class="string">"/"</span> className=<span class="string">"nav-item r-item"</span>&gt;Home&lt;<span class="regexp">/Link&gt;</span></span><br><span class="line"><span class="regexp">	&lt;Link to="/</span>faq<span class="string">" className="</span>nav-item r-item<span class="string">"&gt;Features&lt;/Link&gt;</span></span><br><span class="line"><span class="string">	&lt;Link to="</span>/faq<span class="string">" className="</span>nav-item r-item<span class="string">"&gt;About&lt;/Link&gt;</span></span><br><span class="line"><span class="string">	&lt;Link to="</span>/faq<span class="string">" className="</span>nav-item r-item<span class="string">"&gt;FAQ&lt;/Link&gt;</span></span><br><span class="line"><span class="string">	&lt;div className="</span>nav-item<span class="string">"&gt;</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure>

<p>Then edit /src/index.js to add BrowserRouter as follows.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.css'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span>;</span><br><span class="line"><span class="keyword">import</span> registerServiceWorker <span class="keyword">from</span> <span class="string">'./registerServiceWorker'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;BrowserRouter&gt;</span><br><span class="line">    &lt;App /&gt;</span><br><span class="line">  &lt;<span class="regexp">/BrowserRouter&gt;</span></span><br><span class="line"><span class="regexp">, document.getElementById('root'));</span></span><br><span class="line"><span class="regexp">registerServiceWorker();</span></span><br></pre></td></tr></table></figure>

<p>Now, create /src/components/Home/Home.js and /src/components/Faq/Faq.js as placeholders for Home and Faq page for now.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        HOME</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Home;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Faq</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        Faq</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Faq;</span></span><br></pre></td></tr></table></figure>

<p>At last, import Home and Faq into App.js, and add Rout under Header.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./App.css'</span>;</span><br><span class="line"><span class="keyword">import</span> Header <span class="keyword">from</span> <span class="string">'./components/Header/Header'</span>;</span><br><span class="line"><span class="keyword">import</span> Footer <span class="keyword">from</span> <span class="string">'./components/Footer/Footer'</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./components/Home/Home'</span>;</span><br><span class="line"><span class="keyword">import</span> Faq <span class="keyword">from</span> <span class="string">'./components/Faq/Faq'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Route &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">"App"</span>&gt;</span><br><span class="line">        &lt;Header /&gt;</span><br><span class="line">          &lt;Route exact=&#123;<span class="literal">true</span>&#125; path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br><span class="line">          &lt;Route path=<span class="string">"/faq"</span> component=&#123;Faq&#125; /&gt;</span><br><span class="line">        &lt;Footer /&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default App;</span></span><br></pre></td></tr></table></figure>

<p>Now, the header navigation should just work!</p>
<h2 id="5-Footer-amp-Navigation"><a href="#5-Footer-amp-Navigation" class="headerlink" title="5. Footer &amp; Navigation"></a>5. Footer &amp; Navigation</h2><h3 id="5-1-Footer-UI"><a href="#5-1-Footer-UI" class="headerlink" title="5.1. Footer UI"></a>5.1. Footer UI</h3><p>Create /src/components/Footer/Footer.sass and copy the footer styling from previous VUE project.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;..&#x2F;..&#x2F;mq.sass&#39;</span><br><span class="line"></span><br><span class="line">footer</span><br><span class="line">  background-color: $primary !important</span><br><span class="line">  color: #fff</span><br><span class="line"></span><br><span class="line">  .icon</span><br><span class="line">    color: #fff</span><br><span class="line">    margin-left: 20px</span><br></pre></td></tr></table></figure>

<p>Copy and edit the footer code from previous vue project to Footer.js as follows.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./Footer.css'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Footer = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;footer className=<span class="string">"footer is-primary"</span>&gt;</span><br><span class="line">        &lt;div className=<span class="string">"container"</span>&gt;</span><br><span class="line">          &lt;div className=<span class="string">"columns"</span>&gt;</span><br><span class="line">            &lt;div className=<span class="string">"column"</span>&gt;</span><br><span class="line">              &lt;p&gt;And <span class="keyword">this</span> right here is a spiffy footer, where you can put stuff.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">            &lt;div className=<span class="string">"column has-text-right"</span>&gt;</span><br><span class="line">              &lt;a className=<span class="string">"icon"</span> href=<span class="string">"#"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">className</span>=<span class="string">"fa fa-facebook"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span>&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">              &lt;a className="icon" href="#"&gt;&lt;i className="fa fa-twitter"&gt;&lt;/i</span>&gt;&lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">          &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/footer&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Footer;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-Navigation"><a href="#5-2-Navigation" class="headerlink" title="5.2. Navigation"></a>5.2. Navigation</h3><p>In this section, we need to make the hamburger button work for mobile web.</p>
<p>Firstly, add the onClick listener for “nav-toggle” span.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">"nav-toggle"</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Then add constructor and handleClick methods in Header class.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">isToggleOn</span>: <span class="literal">false</span>&#125;;</span><br><span class="line">    <span class="keyword">this</span>.handleClick = <span class="keyword">this</span>.handleClick.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span><br><span class="line">      isToggleOn: !prevState.isToggleOn</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Besides, define a menuActive attribute in render() method.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">render() &#123;</span><br><span class="line">	<span class="keyword">let</span> menuActive = <span class="keyword">this</span>.state.isToggleOn ? <span class="string">'is-active'</span> : <span class="string">''</span>;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>


<p>Then modify the nav-toggle and nav-menu divs to render the menuActive attribute.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">	<span class="tag">&lt;<span class="name">span</span> <span class="attr">className</span>=<span class="string">&#123;</span>'<span class="attr">nav-toggle</span> ' + <span class="attr">menuActive</span>&#125; <span class="attr">onClick</span>=<span class="string">&#123;this.handleClick&#125;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>'<span class="attr">nav-right</span> <span class="attr">nav-menu</span> ' + <span class="attr">menuActive</span>&#125;&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="6-Home-Page"><a href="#6-Home-Page" class="headerlink" title="6. Home Page"></a>6. Home Page</h2><p>Create /src/assets folder, and download the clouds.jpg there.</p>
<p>Create Home.sass under /src/components/Home, copy and paste the styling contents from previous VUE project.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;..&#x2F;..&#x2F;mq.sass&#39;</span><br><span class="line"></span><br><span class="line">.hero</span><br><span class="line">  background: url(&#39;..&#x2F;..&#x2F;assets&#x2F;clouds.jpg&#39;)</span><br><span class="line">  background-size: cover</span><br><span class="line"></span><br><span class="line">  .title</span><br><span class="line">    +mobile</span><br><span class="line">      font-weight: bold</span><br><span class="line">    +tablet</span><br><span class="line">      font-size: 2.5rem</span><br><span class="line">    +desktop</span><br><span class="line">      font-size: 4rem</span><br><span class="line">      margin-top: 2rem</span><br><span class="line"></span><br><span class="line">h2</span><br><span class="line">  margin: 1.5rem 0 2rem 0 !important</span><br><span class="line"></span><br><span class="line">.fa-cog</span><br><span class="line">  font-size: 40px</span><br><span class="line"></span><br><span class="line">#learn</span><br><span class="line">  +desktop</span><br><span class="line">    margin-bottom: 2rem</span><br><span class="line"></span><br><span class="line">.pd</span><br><span class="line">  +tablet</span><br><span class="line">    padding: 2em 0</span><br></pre></td></tr></table></figure>


<p>Also, reference the html content from previous VUE project and update the Home.js as follows.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./Home.css'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Home</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">let</span> heading = <span class="string">'Soaring to new heights'</span>;</span><br><span class="line">    <span class="keyword">let</span> subheading = <span class="string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'</span>;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;section className=<span class="string">"hero"</span>&gt;</span><br><span class="line">          &lt;div className=<span class="string">"hero-body"</span>&gt;</span><br><span class="line">            &lt;div className=<span class="string">"container"</span>&gt;</span><br><span class="line">              &lt;h1 className=<span class="string">"title"</span>&gt;&#123; heading &#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div className="is-two-thirds column is-paddingless"&gt;</span></span><br><span class="line"><span class="regexp">                &lt;h2 className="subtitle is-4"&gt;&#123; subheading &#125;&lt;/</span>h2&gt;</span><br><span class="line">              &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;a className="button is-large is-primary" id="learn"&gt;Learn more&lt;/</span>a&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line">        &lt;<span class="regexp">/section&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;section className="section"&gt;</span></span><br><span class="line"><span class="regexp">          &lt;div className="container"&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div className="columns pd is-desktop"&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div className="column is-1 has-text-centered"&gt;</span></span><br><span class="line"><span class="regexp">                &lt;i className="fa fa-cog is-primary"&gt;&lt;/i</span>&gt;</span><br><span class="line">              &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div className="column is-one-third-desktop"&gt;</span></span><br><span class="line"><span class="regexp">                &lt;p className="title"&gt;&lt;strong&gt;We provide superior logistics so that your business can succeed in a crazy world.&lt;/</span>strong&gt;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>div&gt;</span><br><span class="line">              &lt;div className=<span class="string">"column"</span>&gt;</span><br><span class="line">                &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed <span class="keyword">do</span> eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>div&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">          &lt;div className=<span class="string">"columns pd"</span>&gt;</span><br><span class="line">            &lt;div className=<span class="string">"column"</span>&gt;</span><br><span class="line">              &lt;div className=<span class="string">"card"</span>&gt;</span><br><span class="line">                &lt;div className=<span class="string">"card-content"</span>&gt;</span><br><span class="line">                  &lt;p className=<span class="string">"title"</span>&gt;I think it<span class="string">'s an absolutely excellent tool for our business. I can'</span>t survive without <span class="keyword">this</span> thing.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;p className="subtitle"&gt;- Gary Simon&lt;/</span>p&gt;</span><br><span class="line">                &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>div&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;div className="column"&gt;</span></span><br><span class="line"><span class="regexp">              &lt;div className="card"&gt;</span></span><br><span class="line"><span class="regexp">                &lt;div className="card-content"&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;p className="title"&gt;I think it's an absolutely excellent tool for our business. I can't survive without this thing.&lt;/</span>p&gt;</span><br><span class="line">                  &lt;p className=<span class="string">"subtitle"</span>&gt;- Gary Simon&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">                &lt;/</span>div&gt;</span><br><span class="line">              &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line">            &lt;div className=<span class="string">"column"</span>&gt;</span><br><span class="line">              &lt;div className=<span class="string">"card"</span>&gt;</span><br><span class="line">                &lt;div className=<span class="string">"card-content"</span>&gt;</span><br><span class="line">                  &lt;p className=<span class="string">"title"</span>&gt;I think it<span class="string">'s an absolutely excellent tool for our business. I can'</span>t survive without <span class="keyword">this</span> thing.&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;p className="subtitle"&gt;- Gary Simon&lt;/</span>p&gt;</span><br><span class="line">                &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              &lt;/</span>div&gt;</span><br><span class="line">            &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>div&gt;</span><br><span class="line">        &lt;<span class="regexp">/section&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Home;</span><br></pre></td></tr></table></figure>

<p>At last, delete the content in index.css to avoid the front getting affected.</p>
<p>Now the home page should be the same as desinged!</p>
<h2 id="7-FAQ-Page"><a href="#7-FAQ-Page" class="headerlink" title="7. FAQ Page"></a>7. FAQ Page</h2><p>We still need to use the same module as previous Vue project, so  firstly install it.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br></pre></td></tr></table></figure>


<p>Create Faq.sass under /src/components/Faq, copy and paste the styling contents from previous VUE project.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@import &#39;..&#x2F;..&#x2F;mq.sass&#39;</span><br><span class="line"></span><br><span class="line">.pd</span><br><span class="line">  padding: 2.5em 0 1.5em 0</span><br><span class="line"></span><br><span class="line">.answer</span><br><span class="line">  margin-top: 10px !important</span><br><span class="line">  color: gray</span><br><span class="line"></span><br><span class="line">.columns</span><br><span class="line">  flex-wrap: wrap</span><br></pre></td></tr></table></figure>

<p>Then edit the Faq.js as follows. Data is fetched in componentDidMount() method and saved to faqs[], and then we use {this.state.faqs.map(faq =&gt; … )} to bind data to UI.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./Faq.css'</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Faq</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      faqs: []</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    axios.get(<span class="string">'https://jsonplaceholder.typicode.com/posts'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> faqs = res.data.slice(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">          <span class="keyword">this</span>.setState(&#123; faqs &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;div className=<span class="string">"container"</span>&gt;</span><br><span class="line">          &lt;section className=<span class="string">"section"</span>&gt;</span><br><span class="line">            &lt;h1 className=<span class="string">"title"</span>&gt;FAQ&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">            &lt;h2 className="subtitle is-4"&gt;Lorum ipsum and all of that jazz.&lt;/</span>h2&gt;</span><br><span class="line"></span><br><span class="line">            &lt;div className=<span class="string">"columns"</span> v-<span class="keyword">if</span>=<span class="string">"faqs &amp;&amp; faqs.length"</span>&gt;</span><br><span class="line">              &#123;<span class="keyword">this</span>.state.faqs.map(<span class="function"><span class="params">faq</span> =&gt;</span></span><br><span class="line">                &lt;div className=<span class="string">"column is-one-third"</span> v-<span class="keyword">for</span>=<span class="string">"faq of faqs"</span>&gt;</span><br><span class="line">                  &lt;div className=<span class="string">"card"</span>&gt;</span><br><span class="line">                    &lt;div className=<span class="string">"card-content"</span>&gt;</span><br><span class="line">                      &lt;p className=<span class="string">"title"</span>&gt;&#123; faq.title &#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">                      &lt;p className="answer"&gt;&#123; faq.body &#125;&lt;/</span>p&gt;</span><br><span class="line">                    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">                  &lt;/</span>div&gt;</span><br><span class="line">                &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">              )&#125;</span></span><br><span class="line"><span class="regexp">            &lt;/</span>div&gt;</span><br><span class="line"></span><br><span class="line">          &lt;<span class="regexp">/section&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>div&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">export default Faq;</span></span><br></pre></td></tr></table></figure>

<p>Now the FAQ page is also fully implemented!</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/07/30/build-web-with-vue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/07/30/build-web-with-vue/" class="post-title-link" itemprop="url">Build Web App with Vue.js</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-07-30 13:51:04 / Modified: 14:20:19" itemprop="dateCreated datePublished" datetime="2017-07-30T13:51:04-07:00">2017-07-30</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/07/30/build-web-with-vue/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/30/build-web-with-vue/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Installing-Vue-js"><a href="#1-Installing-Vue-js" class="headerlink" title="1. Installing Vue.js"></a>1. Installing Vue.js</h2><p>3 ways to install Vue.js</p>
<ul>
<li>CDN(Content Delivery Network): <script src="https://unpkg.com/vue"></script></li>
<li>NPM(Node Package Manager):<ul>
<li>npm install vue</li>
<li>sudo npm install –global vue-cli</li>
</ul>
</li>
<li>Visit nodejs.org and download an installer</li>
</ul>
<p>Start a New Project</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack compare-vue</span><br><span class="line">//webpack is the template name, and compare-vue is the project name.</span><br></pre></td></tr></table></figure>

<p>Project Configuration<br><img src="https://lh3.googleusercontent.com/mWCNpDtIKwQXIVEYdTwSEF_jnkvAgpQClm4_SX_FnmTD_Q1bq7ERYggNHLdehabW3DH_7eqb8l2dspTwSOtdwsJyBmxuHFJ7jvvUUwg0ChCZuSs33yV0ZYpEbzDK805pR3k3nCVPhhEth2QQ24PPE85FhNBWzPnouhbz_L9VesO20dfuf175OoWo2eg8eo_ZA3AHBfGh2DYiYI9S53K_0SeGMnuTpfUQvD_dXxeqyAK9lsDmKjsG7sKsvbelXUBWjwfFWtstqDt4_I3NrHhDLZIcqFrP86EDDC5SIiVeLTrJ2NIoMZQJHXAAgX6pO08-0wvAwKnNYuAAUZdrBgCFol0AvGh_rtW7JhTmGNHfoXQo1F5dAjjKqkGOj0DXTPFVnsl6Ou625knUBaUU2_WVoSCElCgwLGqi1DCO8nUJ9DCIBYmSd5T4tC_QSj8yw17SaZ04iP-d1REx3Dkvw3XtFNFQv_qrMYDLWWbhzecOWs4rnbJ4MTL6DWYOrE2jIloM37Dt-VZhxgE3AJ8EdfRBBthzWpa79B8mVrwepjPltLoTCNwYkUFVEpTTA2xP7QzHlZQSg4nz7fLFZ1vsvB_NbK0NHQGwJRAbIz8wAFBj8cbEJWSPYX_byG3oBeRwwep26MH7KzfiwC_-AuK2QLgz0i2bmUB_7On23jRBzkH9prYZZQ=w1274-h629-no" alt="Project Configuration"></p>
<p>CD into the project folder and run npm install to generate packages and jsons.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd compare-vue</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>Run a project</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<h2 id="2-Vue-Components"><a href="#2-Vue-Components" class="headerlink" title="2. Vue Components"></a>2. Vue Components</h2><p><strong>index.html</strong><br>Start point of the project, everything of the app will be inside the div with id “app”</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>compare-vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>src/main.js</strong><br>Imports and new Vue project start.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span>,</span><br><span class="line">  components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>App.vue</strong><br>The entry point of the app, including html, script and style</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"./assets/logo.png"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'app'</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-id">#app</span> &#123;</span></span><br><span class="line">  font-family: 'Avenir', Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span>;</span></span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>src/router/index.js</strong><br>Define the paths of the project.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'@/components/Home'</span></span><br><span class="line"><span class="keyword">import</span> Faq <span class="keyword">from</span> <span class="string">'@/components/Faq'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Router)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      name: <span class="string">'Home'</span>,</span><br><span class="line">      component: Home</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/faq'</span>,</span><br><span class="line">      name: <span class="string">'Faq'</span>,</span><br><span class="line">      component: Faq</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h2 id="3-Integrating-a-CSS-Framework"><a href="#3-Integrating-a-CSS-Framework" class="headerlink" title="3. Integrating a CSS Framework"></a>3. Integrating a CSS Framework</h2><p>Install bulma in the project folder (compare-vue)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install bulma --save</span><br></pre></td></tr></table></figure>

<p>Then import bulma in App.vue. To support sass, we have to add ‘lang=”sass”‘ in style tag, and also delete these “;” and “{}” under style tag.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"sass"</span>&gt;</span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'../node_modules/bulma/bulma.sass'</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#app</span></span></span><br><span class="line">  font-family: 'Avenir', Helvetica, Arial, sans-serif</span><br><span class="line">  -webkit-font-smoothing: antialiased</span><br><span class="line">  -moz-osx-font-smoothing: grayscale</span><br><span class="line">  text-align: center</span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span></span></span><br><span class="line">  margin-top: 60px</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Install additional packages to fully support sass.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install node-sass sass-loader style-loader --save-dev</span><br></pre></td></tr></table></figure>

<p>Create mq.sass file under src folder with the following contents.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$primary: #1EC9AC !default</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Responsiveness</span><br><span class="line">&#x2F;&#x2F; 960, 1152, and 1344 have been chosen because they are divisible by both 12 and 16</span><br><span class="line">$tablet: 769px !default</span><br><span class="line">&#x2F;&#x2F; 960px container + 40px</span><br><span class="line">$desktop: 1000px !default</span><br><span class="line">&#x2F;&#x2F; 1152px container + 40</span><br><span class="line">$widescreen: 1192px !default</span><br><span class="line">&#x2F;&#x2F; 1344px container + 40</span><br><span class="line">$fullhd: 1384px !default</span><br><span class="line"></span><br><span class="line">&#x3D;mobile</span><br><span class="line">  @media screen and (max-width: $tablet - 1px)</span><br><span class="line">    @content</span><br><span class="line"></span><br><span class="line">&#x3D;tablet</span><br><span class="line">  @media screen and (min-width: $tablet), print</span><br><span class="line">    @content</span><br><span class="line"></span><br><span class="line">&#x3D;tablet-only</span><br><span class="line">  @media screen and (min-width: $tablet) and (max-width: $desktop - 1px)</span><br><span class="line">    @content</span><br><span class="line"></span><br><span class="line">&#x3D;desktop</span><br><span class="line">  @media screen and (min-width: $desktop)</span><br><span class="line">    @content</span><br><span class="line"></span><br><span class="line">&#x3D;desktop-only</span><br><span class="line">  @media screen and (min-width: $desktop) and (max-width: $widescreen - 1px)</span><br><span class="line">    @content</span><br></pre></td></tr></table></figure>

<p>Then import ‘mq’ in App.vue.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"sass"</span>&gt;</span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'../node_modules/bulma/bulma.sass'</span></span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'mq'</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#app</span></span></span><br><span class="line">  font-family: 'Avenir', Helvetica, Arial, sans-serif</span><br><span class="line">  -webkit-font-smoothing: antialiased</span><br><span class="line">  -moz-osx-font-smoothing: grayscale</span><br><span class="line">  text-align: center</span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#2c3e50</span></span></span><br><span class="line">  margin-top: 60px</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Import mq in Home.vue and Faq.vue as well.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"sass"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'../mq'</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="4-Vue-js-Navigation"><a href="#4-Vue-js-Navigation" class="headerlink" title="4. Vue.js Navigation"></a>4. Vue.js Navigation</h2><p>Go to <a href="http://bulma.io/documentation/components/navbar/" target="_blank" rel="noopener">bulma-Doc-Navbar</a> to see the nav bar template.</p>
<p>Include <code>Font Awesome</code> in the project index.html.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>compare-vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Then edit App.vue template tag section as follows:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav has-shadow"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav-left"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span>MyCompany<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"nav-toggle"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav-right nav-menu"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"/"</span> <span class="attr">class</span>=<span class="string">"nav-item r-item"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"faq"</span> <span class="attr">class</span>=<span class="string">"nav-item r-item"</span>&gt;</span>Features<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"faq"</span> <span class="attr">class</span>=<span class="string">"nav-item r-item"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">"faq"</span> <span class="attr">class</span>=<span class="string">"nav-item r-item"</span>&gt;</span>FAQ<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"control"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"button is-primary is-outlined"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon"</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-download"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>Join Now<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Edit the App.vue style tag section as follows:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"sass"</span>&gt;</span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'../node_modules/bulma/bulma.sass'</span></span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'mq'</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.nav</span></span></span><br><span class="line"><span class="css">  <span class="selector-tag">background-color</span>: <span class="selector-id">#383838</span></span></span><br><span class="line"><span class="css">  <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span></span></span><br><span class="line">    color: gray</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.nav-left</span> <span class="selector-tag">a</span></span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>: <span class="selector-id">#fff</span></span></span><br><span class="line">  font-weight: bold</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-tag">a</span><span class="selector-class">.r-item</span></span></span><br><span class="line"><span class="css">  <span class="selector-tag">color</span>:<span class="selector-id">#C1C1C1</span></span></span><br><span class="line"><span class="css">  <span class="selector-tag">padding</span>: 0<span class="selector-class">.5rem</span> 1<span class="selector-class">.75rem</span></span></span><br><span class="line">  +mobile</span><br><span class="line">    color: gray</span><br><span class="line"><span class="css">    &amp;<span class="selector-pseudo">:hover</span></span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-id">#F1F1F1</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-Making-the-Navigation-Function"><a href="#5-Making-the-Navigation-Function" class="headerlink" title="5. Making the Navigation Function"></a>5. Making the Navigation Function</h2><p>Add <code>v-on:click</code> attribute to nav-toggle and <code>v-bind</code> to both nav-toggle and nav-menu as follows:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"nav-toggle"</span> <span class="attr">v-on:click</span>=<span class="string">"toggleNav"</span> <span class="attr">v-bind:class</span>=<span class="string">"&#123; 'is-active': isActive &#125;"</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav-right nav-menu"</span> <span class="attr">v-bind:class</span>=<span class="string">"&#123; 'is-active': isActive &#125;"</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>


<p>Edit the App.vue script tag content as follows:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">    name: <span class="string">'app'</span>,</span></span><br><span class="line"><span class="actionscript">    data: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">        isActive: <span class="literal">false</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="actionscript">      toggleNav: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">this</span>.isActive = !<span class="keyword">this</span>.isActive;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Add sass item in App.vue style section:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="selector-class">.nav-toggle</span> <span class="selector-tag">span</span></span><br><span class="line">	<span class="selector-tag">background-color</span>: <span class="selector-id">#F1F1F1</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h2 id="6-Footer-Integration"><a href="#6-Footer-Integration" class="headerlink" title="6. Footer Integration"></a>6. Footer Integration</h2><p>Add footer under router-view in App.vue template</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"footer is-primary"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"columns"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>And this right here is a spiffy footer, where you can put stuff.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column has-text-right"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-facebook"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"icon"</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-twitter"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>Add styling for footer in App.vue style content</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="selector-tag">footer</span></span><br><span class="line">  background-color: $primary !important</span><br><span class="line">  <span class="selector-tag">color</span>: <span class="selector-id">#fff</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.icon</span></span><br><span class="line">    <span class="selector-tag">color</span>: <span class="selector-id">#fff</span></span><br><span class="line">    <span class="selector-tag">margin-left</span>: 20<span class="selector-tag">px</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>


<h2 id="7-Hero-Section"><a href="#7-Hero-Section" class="headerlink" title="7. Hero Section"></a>7. Hero Section</h2><p>Go to <a href="http://bulma.io/documentation/components/navbar/" target="_blank" rel="noopener">bulma-Doc-Hero</a> to see the hero template.</p>
<p>Edit the template tag section in Home.vue as follows:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"home"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"hero"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hero-body"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&#123;&#123;heading&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"is-two-thirds column is-paddingless"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"subtitle is-4"</span>&gt;</span>&#123;&#123;subheading&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"button is-large is-primary"</span> <span class="attr">id</span>=<span class="string">"learn"</span>&gt;</span>Learn more<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Edit the script tag section to return the heading and subheading attributes as follows:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="actionscript">  name: <span class="string">'home'</span>,</span></span><br><span class="line">  data()&#123;</span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">      heading: <span class="string">'Soaring to new heights'</span>,</span></span><br><span class="line"><span class="actionscript">      subheading: <span class="string">'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>To add the background, firstly we need to add the clouds.jpg to <code>src/assets</code> folder.</p>
<p>Then add the sass stylings in Home.vue style tag section as follows:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Add "scoped" attribute to limit CSS to this component only --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"sass"</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="keyword">@import</span> <span class="string">'../mq'</span></span></span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.hero</span></span></span><br><span class="line">  background: url('../assets/clouds.jpg')</span><br><span class="line">  background-size: cover</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.title</span></span></span><br><span class="line">    +mobile</span><br><span class="line">      font-weight: bold</span><br><span class="line">    +tablet</span><br><span class="line"><span class="css">      <span class="selector-tag">font-size</span>: 2<span class="selector-class">.5rem</span></span></span><br><span class="line">    +desktop</span><br><span class="line">      font-size: 4rem</span><br><span class="line">      margin-top: 2rem</span><br><span class="line"></span><br><span class="line">h2</span><br><span class="line"><span class="css">  <span class="selector-tag">margin</span>: 1<span class="selector-class">.5rem</span> 0 2<span class="selector-tag">rem</span> 0 !<span class="selector-tag">important</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p>Now the home page looks much better!<br><img src="https://lh3.googleusercontent.com/HkHbkesYC2xjrcP_ZBC4x7DKQZ2vKNQmAEdyzWj_t6UwD59PqTW5RfSsW4mwoa6JfBG3zRBesb6XJ6ezVyF-SLEv87jNJc1_jZ4QvgZ5bEG5eTX1rMba0pVvydy8dafG4VzoM-pxAIpXYePzU37Y7JV47yako4sqW1hUb_n14cddcoCya-NuTpkqvNj84VU9CvZ0DloOhF68nFic9oMViPbcISruarLy4Fm3MkkZppgrzj6rPvX9wX2meY0NjCjdFC734nYshL9OGeGU4_0k00wB0xmnql0o5T2wqZAN2xpYHjc_MKcS6ccjbDJabfnpRDCDDXqvl_7tIj3COhUdd5ge5-vu_M1rOzyzg50UjPFImDMpUme8rjIhDcizIPVo310DTRpChgC91AkMBb8PpSZkjqd8jFtlDMwEehhW3t7U-Ho_400zoVTa96jERh8XYk85_wW6OJAkuCrDZ0mGMge94DHuafYZ7OkPzRTvX72BAf6GvYO9beK7e3wUX_Am8FNFBvm2YxtZ2Y7MpX-n3dPYb9orR341MNHAO43bo_ktcFX8NmcLESvwZPdqxS1_EODt-J2Fw-_2pD_kexHuogmPh9uqYZoa5JwrWtX7ENLim6nEFWrjGJmzn7NcX1huDfqcGPP-C-UOOReiodjkHaEO-VPfPmmpFEsI4WsiB61Nug=w528-h166-no" alt="Home Page"></p>
<h2 id="8-Supporting-Content"><a href="#8-Supporting-Content" class="headerlink" title="8. Supporting Content"></a>8. Supporting Content</h2><p>Add a new section below the “hero” section in Home.vue template tag section.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">...</span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"columns pd is-desktop"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column is-1 has-text-centered"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-cog is-primary"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column is-one-third-desktop"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>We provide superior logistics so that your business can succeed in a crazy world.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"columns pd"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-content"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>I think it's an absolutely excellent tool for our business. I can't survive without this thing.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"subtitle"</span>&gt;</span>- Gary Simon<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-content"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>I think it's an absolutely excellent tool for our business. I can't survive without this thing.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"subtitle"</span>&gt;</span>- Gary Simon<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-content"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>I think it's an absolutely excellent tool for our business. I can't survive without this thing.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"subtitle"</span>&gt;</span>- Gary Simon<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Then add additional css styling in Home.vue style tag section.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.fa-cog</span></span><br><span class="line">  <span class="selector-tag">font-size</span>: 40<span class="selector-tag">px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#learn</span></span><br><span class="line">  +<span class="selector-tag">desktop</span></span><br><span class="line">    <span class="selector-tag">margin-bottom</span>: 2<span class="selector-tag">rem</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pd</span></span><br><span class="line">  +<span class="selector-tag">tablet</span></span><br><span class="line">    <span class="selector-tag">padding</span>: 2<span class="selector-tag">em</span> 0</span><br></pre></td></tr></table></figure>

<h2 id="9-FAQ-Page"><a href="#9-FAQ-Page" class="headerlink" title="9. FAQ Page"></a>9. FAQ Page</h2><p>Install <a href="https://github.com/mzabriskie/axios" target="_blank" rel="noopener">axios</a> with the following command. (Axios is a promise based HTTP client for the browser and node.js)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios --save</span><br></pre></td></tr></table></figure>

<p>Edit the script tag section in FAQ.vue as follows:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'faq'</span>,</span><br><span class="line">  data: <span class="function"><span class="params">()</span> =&gt;</span> (&#123;</span><br><span class="line">    faqs: [],</span><br><span class="line">    errors: []</span><br><span class="line">  &#125;),</span><br><span class="line"></span><br><span class="line">  created() &#123;</span><br><span class="line">      axios.get(<span class="string">'https://jsonplaceholder.typicode.com/posts'</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.faqs = response.data.slice(<span class="number">0</span>, <span class="number">10</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.errors.push(e)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>Then edit the template tag section in FAQ.vue as follows:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"faq"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>FAQ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">"subtitle is-4"</span>&gt;</span>Lorum ipsum and all of that jazz.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"columns"</span> <span class="attr">v-if</span>=<span class="string">"faqs &amp;&amp; faqs.length"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"column is-one-third"</span> <span class="attr">v-for</span>=<span class="string">"faq of faqs"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-content"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>&#123;&#123; faq.title &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"answer"</span>&gt;</span>&#123;&#123; faq.body &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Now the FAQ page will be look like this.<br><img src="https://lh3.googleusercontent.com/tT0KMI_C2pFDShdc--lzNfBMSELx64a-SYrv2pmNYUrJ7xhffKzhPUX8KiQjnSOvxp55afV-kGRCyHCuh7rt3RLNegzIWGHxXzHC8KH23REY0qScddcHB8xUAYdkKMkxgSJsWd1E8BxGRe4rx0X8jZxP3_I2s85sVVyObNWTYB2nBBHiMujYAc2MPjch-rhwJQv4OBpaP2dI50Nd1_c_TgUs34upYnvJAtbNcsg8z4n6QLgEETT2ggX7zEPtkLdG0dllo0wiUyFOPWQ_o7glM9_47CzjJcnN6Z4ZFXh0oeQnqB7OWys6izvEcn3aFygcpnlsksXr7v7ZEMsKVwamclgRvhjR2PfB0Jz4LrOc8EEGqZXpDEHLwSTCIGqirVwHqIndvkJfQWJXH410PsRCHR96CDk-u8UT_odK3kZ_uk4wISUR9MjElucm0J6FNHQARIS-fLBoxXnlbbpnDJkVIfZf3F5GkiSp1OKNkirfOZ_KUx5Lc4OqaHZjAzO__cK-SX7IiiRd7_A4FbzymSSeA2-YcO-ZI9Mo83gKqMf-K5Pb06Eao9Q392hSEYfQdDBBAUqcuCcyeNMmoMArvdCEd98nHop8jnPjPgPv7I3zqBciaE0anVPTzNxiul9Wa4WtdlFzXhH6YjTaCDOoSprci6BlgHRDl0QOBLZoJIs1TZM6vw=w1086-h691-no" alt="FAQ page"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/07/22/Complete-JavaScript-Course-ES6-Code-Challenge/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/07/22/Complete-JavaScript-Course-ES6-Code-Challenge/" class="post-title-link" itemprop="url">ES6 Code Challenge and Solution</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-07-22 11:52:23 / Modified: 12:00:35" itemprop="dateCreated datePublished" datetime="2017-07-22T11:52:23-07:00">2017-07-22</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/07/22/Complete-JavaScript-Course-ES6-Code-Challenge/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/22/Complete-JavaScript-Course-ES6-Code-Challenge/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Problem-Statement"><a href="#1-Problem-Statement" class="headerlink" title="1. Problem Statement"></a>1. Problem Statement</h2><p>Suppose that you’re working in a small town administration, and you’re in charge of two town elements:</p>
<ol>
<li>Parks</li>
<li>Streets</li>
</ol>
<p>It’s a very small town, so right now there are only 3 parks and 4 streets. All parks and streets have a name and a build year.</p>
<p>At an end-of-year meeting, your boss wants a final report with the following:</p>
<ol>
<li>Tree density of each park in the town (formula: number of trees/park area);</li>
<li>Average age of each town’s park (formula: sum of all ages/number of parks);</li>
<li>The name of the park that has more than 1000 trees;</li>
<li>Total and average length of the town’s streets;</li>
<li>Size classification of all streets: tiny/small/normal/big/huge. If the size is unknown, the default is normal.</li>
</ol>
<p>All the report data should be printed to the console.</p>
<p><code>HINT: Use some of the ES6 features: classes, subclasses, template strings, default parameters, maps, arrow functions, destructuring, etc.</code></p>
<h2 id="2-Solution"><a href="#2-Solution" class="headerlink" title="2. Solution"></a>2. Solution</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Element</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span> (name, buildYear) &#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.buildYear = buildYear;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Park</span> <span class="keyword">extends</span> <span class="title">Element</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>(name, buildYear, area, numTrees) &#123;</span><br><span class="line">		<span class="keyword">super</span>(name, buildYear);</span><br><span class="line">		<span class="keyword">this</span>.area = area; <span class="comment">//km2</span></span><br><span class="line">		<span class="keyword">this</span>.numTrees = numTrees;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	treeDensity() &#123;</span><br><span class="line">		<span class="keyword">const</span> density = <span class="keyword">this</span>.numTrees / <span class="keyword">this</span>.area;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'$&#123;this.name&#125; has a tree density of $&#123;density&#125; trees per square km.'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Street</span> <span class="keyword">extends</span> <span class="title">Element</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>(name, buildYear, length, size) &#123;</span><br><span class="line">		<span class="keyword">super</span>(name, buildYear);</span><br><span class="line">		<span class="keyword">this</span>.length = length;</span><br><span class="line">		<span class="keyword">this</span>.size = size;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	classifyStreet() &#123;</span><br><span class="line">		<span class="keyword">const</span> classification = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">		classification.set(<span class="number">1</span>, <span class="string">'tiny'</span>);</span><br><span class="line">		classification.set(<span class="number">2</span>, <span class="string">'small'</span>);</span><br><span class="line">		classification.set(<span class="number">3</span>, <span class="string">'normal'</span>);</span><br><span class="line">		classification.set(<span class="number">4</span>, <span class="string">'big'</span>);</span><br><span class="line">		classification.set(<span class="number">5</span>, <span class="string">'huge'</span>);</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'$&#123;this.name&#125;, build in $&#123;this.buildYear&#125;, is a $&#123;classification.get(this.size)&#125; street.'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> allParks = [<span class="keyword">new</span> Park(<span class="string">'Green Park'</span>, <span class="number">1987</span>, <span class="number">0.2</span>, <span class="number">215</span>), <span class="keyword">new</span> Park(<span class="string">'National Park'</span>, <span class="number">1894</span>, <span class="number">2.9</span>, <span class="number">3541</span>), <span class="keyword">new</span> Park(<span class="string">'Oak Park'</span>, <span class="number">1953</span>, <span class="number">0.4</span>, <span class="number">949</span>)];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> allStreets = [<span class="keyword">new</span> Street(<span class="string">'Ocean Avenue'</span>, <span class="number">1999</span>, <span class="number">1.1</span>, <span class="number">4</span>), <span class="keyword">new</span> Street(<span class="string">'Evergree Street'</span>, <span class="number">2008</span>, <span class="number">2.7</span>, <span class="number">2</span>), <span class="keyword">new</span> Street(<span class="string">'4th Street'</span>, <span class="number">2015</span>, <span class="number">0.8</span>), <span class="keyword">new</span> Street(<span class="string">'Sunset Boulevard'</span>, <span class="number">1982</span>, <span class="number">2.5</span>, <span class="number">5</span>)];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calc</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">const</span> sum = arr.reduce(<span class="function">(<span class="params">prev, cur, index</span>) =&gt;</span> prev + cur, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">return</span> [sum, sum / arr.length];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reportParks</span>(<span class="params">p</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(----PARKS REPORTS----);</span><br><span class="line">	<span class="comment">// Density</span></span><br><span class="line">	p.forEach (el -&gt; el.treeDensity());</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Average age</span></span><br><span class="line">	<span class="keyword">const</span> ages = p.map(<span class="function"><span class="params">el</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - el.buildYear);</span><br><span class="line">	<span class="keyword">const</span> [totalAge, avgAge] = calc(ages);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'Our $&#123;p.length&#125; parks have an average of $&#123;avgAge&#125; years.'</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Which park has more than 1000 trees;</span></span><br><span class="line">	<span class="keyword">const</span> i = p.map(<span class="function"><span class="params">el</span> =&gt;</span> el.numTrees).findIndex(<span class="function"><span class="params">el</span> =&gt;</span> el &gt;= <span class="number">1000</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'$&#123;p[i].name&#125; has more than 1000 trees.'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reportStreets</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(---- STREETS REPORT ----);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Total and average length of the town's streets</span></span><br><span class="line">	<span class="keyword">const</span> [totalLength, avgLength] = calc(s.map(<span class="function"><span class="params">el</span> =&gt;</span> el.length));</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'Our $&#123;s.length&#125; streets have a total length of $&#123;totalLength&#125; km, with an average of $&#123;avgLength&#125; km.'</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Classify sizes</span></span><br><span class="line">	s.forEach(<span class="function"><span class="params">el</span> =&gt;</span> el.classifyStreet());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reportParks(allParks);</span><br><span class="line">reportStreets(allStreets);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/07/07/Complete-JavaScript-Course-Future/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/07/07/Complete-JavaScript-Course-Future/" class="post-title-link" itemprop="url">Get Ready for the Future: ES6 / ES2015</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-07-07 22:05:07" itemprop="dateCreated datePublished" datetime="2017-07-07T22:05:07-07:00">2017-07-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2017-07-22 11:58:32" itemprop="dateModified" datetime="2017-07-22T11:58:32-07:00">2017-07-22</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/07/07/Complete-JavaScript-Course-Future/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/07/07/Complete-JavaScript-Course-Future/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-What’s-new-in-ES6-ES2015"><a href="#1-What’s-new-in-ES6-ES2015" class="headerlink" title="1. What’s new in ES6 / ES2015"></a>1. What’s new in ES6 / ES2015</h2><h3 id="1-1-JavaScript-Today"><a href="#1-1-JavaScript-Today" class="headerlink" title="1.1. JavaScript Today"></a>1.1. JavaScript Today</h3><ul>
<li>ES 5:<ul>
<li>Fully supported in all modern browsers;</li>
<li>Ready to be used today(2016)</li>
</ul>
</li>
<li>ES6 / ES2015<ul>
<li>Partial supported in modern browsers, no support in older browsers;</li>
<li>Can’t use it in production today (2016).</li>
</ul>
</li>
<li>ES2016, ES2017, …<ul>
<li>Almost no support in modern browsers;</li>
<li>Can’t use it in production today (2016)</li>
</ul>
</li>
</ul>
<h3 id="1-2-New-ES6-Features-We’ll-Cover-in-This-Section"><a href="#1-2-New-ES6-Features-We’ll-Cover-in-This-Section" class="headerlink" title="1.2. New ES6 Features We’ll Cover in This Section"></a>1.2. New ES6 Features We’ll Cover in This Section</h3><ul>
<li>Variable Declarations with let and const</li>
<li>Blocks and IIFEs</li>
<li>Strings</li>
<li>Arrow Functions</li>
<li>Destructuring</li>
<li>Arrays</li>
<li>The Spread Operator</li>
<li>Rest and Default Parameters</li>
<li>Maps</li>
<li>Classes and subclasses</li>
<li>How to use ES2015 / ES6 today!</li>
</ul>
<p><a href="https://kangax.github.io/compat-table/es6" target="_blank" rel="noopener">ES6 Compatibility Table</a></p>
<h2 id="2-Variable-Declarations-with-let-and-const"><a href="#2-Variable-Declarations-with-let-and-const" class="headerlink" title="2. Variable Declarations with let and const"></a>2. Variable Declarations with let and const</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> name5 = <span class="string">'Jane Smith'</span>;</span><br><span class="line"><span class="keyword">var</span> age5 = <span class="number">23</span>;</span><br><span class="line">name5 = <span class="string">'Jane Miller'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name5);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">const</span> name6 = <span class="string">'Jane Smith'</span>;</span><br><span class="line"><span class="keyword">let</span> age6 = <span class="number">23</span>;</span><br><span class="line">name6 = <span class="string">'Jane Miller'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name6); <span class="comment">// will get error.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="comment">// variables in ES5 are function scoped.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">driverLicence</span> (<span class="params">passedTest</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (passedTest) &#123;</span><br><span class="line">		<span class="keyword">var</span> firstName = <span class="string">'John'</span>;</span><br><span class="line">		<span class="keyword">var</span> yearOfBirth = <span class="number">1990</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(firstName + <span class="string">', born in '</span> + yearOfBirth + <span class="string">', is now officially allowed to drive a car.'</span>);</span><br><span class="line">&#125;</span><br><span class="line">driverLicence (<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="comment">// variables in ES6 are block scoped.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">driverLicence</span> (<span class="params">passedTest</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (passedTest) &#123;</span><br><span class="line">		<span class="keyword">var</span> firstName = <span class="string">'John'</span>;</span><br><span class="line">		<span class="keyword">var</span> yearOfBirth = <span class="number">1990</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(firstName + <span class="string">', born in '</span> + yearOfBirth + <span class="string">', is now officially allowed to drive a car.'</span>); <span class="comment">// Will get 'firstName' not defined error.</span></span><br><span class="line">&#125;</span><br><span class="line">driverLicence (<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">23</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"><span class="comment">//it will print: 0, 1, 2, 3, 4, 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">23</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"><span class="comment">//it will print: 0, 1, 2, 3, 4, 23</span></span><br><span class="line"><span class="comment">//It's still due to function scoped vs block scoped</span></span><br></pre></td></tr></table></figure>

<h2 id="3-Blocks-and-IIFEs"><a href="#3-Blocks-and-IIFEs" class="headerlink" title="3. Blocks and IIFEs"></a>3. Blocks and IIFEs</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Block (IIFE) <span class="keyword">in</span> ES6</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">const</span> a = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">var</span> c = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//console.log(a + b); //Will get error</span></span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">// works good!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//IIFE in ES5: create block that can not be accesed outside.</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> c = <span class="number">3</span>;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">//console.log(c);</span></span><br></pre></td></tr></table></figure>

<h2 id="4-Strings-in-ES6-ES2015"><a href="#4-Strings-in-ES6-ES2015" class="headerlink" title="4. Strings in ES6 / ES2015"></a>4. Strings in ES6 / ES2015</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="string">'john'</span>;</span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">'Smith'</span>;</span><br><span class="line"><span class="keyword">const</span> yearOfBirth = <span class="number">1990</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calcAge</span>(<span class="params">year</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2016</span> - year;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'This is '</span> + firstName + <span class="string">' '</span> + lastName + <span class="string">'. He was born in '</span> + yearOfBirth + <span class="string">'. Today, he is '</span> +  calcAge(yearOfBirth) + <span class="string">' year old.'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'This is $&#123;firstName&#125; $&#123;lastName&#125;. He was born in $&#123;yearOfBirth&#125;. Today he is $&#123;calcAge(yearOfBirth)&#125; years old.'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> n = <span class="string">'$&#123;firstName&#125; $ &#123;lastName&#125;'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(n.startsWith(<span class="string">'J'</span>)); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(n.endsWith(<span class="string">'Sm'</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(n.includes(<span class="string">' '</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'$&#123;firstName&#125; '</span>.repeat(<span class="number">5</span>)); <span class="comment">//John John John John John</span></span><br></pre></td></tr></table></figure>


<h2 id="5-Arrow-Functions-Basics"><a href="#5-Arrow-Functions-Basics" class="headerlink" title="5. Arrow Functions: Basics"></a>5. Arrow Functions: Basics</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> years = [<span class="number">1990</span>, <span class="number">1965</span>, <span class="number">1982</span>, <span class="number">1937</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> ages5 = years.map(<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">2016</span> - el;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(ages5) <span class="comment">//&#123;26, 51, 34, 79&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">let</span> ages6 = years.map(<span class="function"><span class="params">el</span> =&gt;</span> <span class="number">2016</span> - el); <span class="comment">//Exact same thing.</span></span><br><span class="line"><span class="built_in">console</span>.log(ages6); <span class="comment">//&#123;26, 51, 34, 79&#125;</span></span><br><span class="line"></span><br><span class="line">ages6 = years.map(<span class="function">(<span class="params">el, index</span>) =&gt;</span> <span class="string">'Age element $&#123;index + 1&#125;: $&#123;2016 - el&#125;.'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(ages6);</span><br><span class="line"></span><br><span class="line">ages6 = years.map(<span class="function">(<span class="params">el, index</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear();</span><br><span class="line">	<span class="keyword">const</span> age = now - el;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">'Age element $&#123;index + 1&#125;: $&#123;2016 - el&#125;.'</span></span><br><span class="line">	&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(ages6);</span><br></pre></td></tr></table></figure>

<h2 id="6-Arrow-Functions-Lexical-‘this’-Keyword"><a href="#6-Arrow-Functions-Lexical-‘this’-Keyword" class="headerlink" title="6. Arrow Functions: Lexical ‘this’ Keyword"></a>6. Arrow Functions: Lexical ‘this’ Keyword</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> box5 = &#123;</span><br><span class="line">	color: <span class="string">'green'</span>,</span><br><span class="line">	position: <span class="number">1</span>,</span><br><span class="line">	clickMe: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">		<span class="built_in">document</span>.querySelector(<span class="string">'.green'</span>).addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">			<span class="keyword">var</span> str = <span class="string">'This is box number '</span> + self.position + <span class="string">' and it is '</span> + self.color;</span><br><span class="line">			alert(str);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">box5.clickMe();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">var</span> box6 = &#123;</span><br><span class="line">	color: <span class="string">'green'</span>,</span><br><span class="line">	position: <span class="number">1</span>,</span><br><span class="line">	clickMe: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">document</span>.querySelector(<span class="string">'.green'</span>).addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">			<span class="keyword">var</span> str = <span class="string">'This is box number '</span> + <span class="keyword">this</span>.position + <span class="string">' and it is '</span> + <span class="keyword">this</span>.color;</span><br><span class="line">			alert(str);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">box6.clickMe();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line">Person.prototype.myFriends5 = <span class="function"><span class="keyword">function</span>(<span class="params">friends</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> arr = friends.map(<span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.name + <span class="string">' is friends with '</span> + el;</span><br><span class="line">	&#125;.bind(<span class="keyword">this</span>));</span><br><span class="line"></span><br><span class="line">	<span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> friends = [<span class="string">'Bob'</span>, <span class="string">'Jane'</span>, <span class="string">'Mark'</span>];</span><br><span class="line"><span class="keyword">new</span> Person(<span class="string">'John'</span>).myFriends5(friends);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line">Person.prototype.myFriends6 = <span class="function"><span class="keyword">function</span>(<span class="params">friends</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> arr = friends.map(<span class="function"><span class="params">el</span> =&gt;</span></span><br><span class="line">	<span class="string">'$(this.name) is friends with $&#123;el&#125;'</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(arr);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Person(<span class="string">'Mike'</span>).myFriends6(friends);</span><br></pre></td></tr></table></figure>


<h2 id="7-Destructuring"><a href="#7-Destructuring" class="headerlink" title="7. Destructuring"></a>7. Destructuring</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> john = [<span class="string">'John'</span>, <span class="number">26</span>];</span><br><span class="line"><span class="comment">//var name = john[0];</span></span><br><span class="line"><span class="comment">//var age = john[1];</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">const</span> [name, year] = [<span class="string">'John'</span>, <span class="number">26</span>];</span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">	firstName: <span class="string">'John'</span>,</span><br><span class="line">	lastName: <span class="string">'Smith'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">	firstName: <span class="string">'John'</span>,</span><br><span class="line">	lastName: <span class="string">'Smith'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;firstName, lastName&#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(firstName);</span><br><span class="line"><span class="built_in">console</span>.log(lastName);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;<span class="attr">firstName</span>: a, <span class="attr">lastName</span>: b&#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calcAgeRetirement</span>(<span class="params">year</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">const</span> age = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - year;</span><br><span class="line">	<span class="keyword">return</span> [age, <span class="number">65</span> - age];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>[age2, retirement] = calcAgeRetirement(<span class="number">1990</span>);</span><br><span class="line"><span class="built_in">console</span>.log(age2);</span><br><span class="line"><span class="built_in">console</span>.log(retirement);</span><br></pre></td></tr></table></figure>

<h2 id="8-Arrays-in-ES6-ES2015"><a href="#8-Arrays-in-ES6-ES2015" class="headerlink" title="8. Arrays in ES6 / ES2015"></a>8. Arrays in ES6 / ES2015</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> boxes = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> boxesArr5 = <span class="built_in">Array</span>.prototype.slice.call(boxes);</span><br><span class="line">boxesArr5.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">	cur.style.backgroundColor = <span class="string">'dodgerblue'</span>;</span><br><span class="line">&#125;)；</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">const</span> boxesArr6 = <span class="built_in">Array</span>.from(boxes).forEach(<span class="function"><span class="params">cur</span> =&gt;</span> cur.style.backgroundColor = <span class="string">'dodgerblue'</span>)；</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Loop</span></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; boxesArr5.length; i++) &#123;</span><br><span class="line">	<span class="keyword">if</span> (boxesArr5[i].className === <span class="string">'box blue'</span>) &#123;</span><br><span class="line">		<span class="keyword">continue</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	boxesArr5[i].textContent = <span class="string">'I changed to blue!'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> cur <span class="keyword">of</span> boxesArr6) &#123;</span><br><span class="line">	<span class="keyword">if</span> (cur.className.includes(<span class="string">'blue'</span>)) &#123;</span><br><span class="line">		<span class="keyword">continue</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cur.textContent = <span class="string">'I changed to blue!'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> ages = [<span class="number">12</span>, <span class="number">17</span>, <span class="number">8</span>, <span class="number">21</span>, <span class="number">14</span>, <span class="number">11</span>];</span><br><span class="line"><span class="keyword">var</span> full = ages.map(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> cur &gt;= <span class="number">18</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(full);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(full.indexOf(<span class="literal">true</span>));</span><br><span class="line"><span class="built_in">console</span>.log(ages[full.indexOf(<span class="literal">true</span>)]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="built_in">console</span>.log(ages.findIndex(<span class="function"><span class="params">cur</span> =&gt;</span> &gt;= <span class="number">18</span>));</span><br><span class="line"><span class="built_in">console</span>.log(ages.find(<span class="function"><span class="params">cur</span> =&gt;</span> cur &gt;= <span class="number">18</span>));</span><br></pre></td></tr></table></figure>

<h2 id="9-The-Spread-Operator"><a href="#9-The-Spread-Operator" class="headerlink" title="9. The Spread Operator"></a>9. The Spread Operator</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addFourages</span> (<span class="params">a, b, c, d</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a + b + c + d;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum1 = addFourAges () &#123;<span class="number">18</span>, <span class="number">30</span>, <span class="number">12</span>, <span class="number">21</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum1);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> ages = [<span class="number">18</span>, <span class="number">30</span>, <span class="number">12</span>, <span class="number">21</span>];</span><br><span class="line"><span class="keyword">var</span> sum2 = addFourAges.apply(<span class="literal">null</span>, ages);</span><br><span class="line"><span class="built_in">console</span>.log(sum2);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="keyword">const</span> sum3 = addFourAges(...ages); <span class="comment">//Spread Operator</span></span><br><span class="line"><span class="built_in">console</span>.log(sum3);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> familySmith = [<span class="string">'John'</span>, <span class="string">'Jane'</span>, <span class="string">'Mark'</span>];</span><br><span class="line"><span class="keyword">const</span> familyMiller = [<span class="string">'Mary'</span>, <span class="string">'Bob'</span>, <span class="string">'Ann'</span>];</span><br><span class="line"><span class="keyword">const</span> bigFamily = [...familySmith, <span class="string">'Lily'</span>, ...familyMiller];</span><br><span class="line"><span class="built_in">console</span>.log(bigFamily);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> h = <span class="built_in">document</span>.querySelector(<span class="string">'h1'</span>);</span><br><span class="line"><span class="keyword">const</span> boxes = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.box'</span>);</span><br><span class="line"><span class="keyword">const</span> all = [h, ...boxes];</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.from(all).forEach(<span class="function"><span class="params">cur</span> =&gt;</span> cur.style.color = <span class="string">'purple'</span>);</span><br></pre></td></tr></table></figure>

<h2 id="10-Rest-Parameters"><a href="#10-Rest-Parameters" class="headerlink" title="10. Rest Parameters"></a>10. Rest Parameters</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFullAge5</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">//console.log(arguments);</span></span><br><span class="line">	<span class="keyword">var</span> argsArr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line"></span><br><span class="line">	argsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log((<span class="number">2016</span> - cur) &gt;= <span class="number">18</span>);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isFullAge5(<span class="number">1990</span>, <span class="number">1999</span>, <span class="number">1965</span>);</span><br><span class="line">isFullAge5(<span class="number">1990</span>, <span class="number">1999</span>, <span class="number">1965</span>, <span class="number">2016</span>, <span class="number">1987</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFullAge6</span>(<span class="params">...years</span>) </span>&#123;</span><br><span class="line">	years.forEach(<span class="function"><span class="params">cur</span> =&gt;</span> <span class="built_in">console</span>.log((<span class="number">2016</span> - cur) &gt;= <span class="number">18</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isFullAge6(<span class="number">1990</span>, <span class="number">1999</span>, <span class="number">1965</span>, <span class="number">2016</span>, <span class="number">1987</span>);</span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFullAge5</span>(<span class="params">limit</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">	<span class="keyword">var</span> argsArr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">	<span class="built_in">console</span>.log(argsArr);</span><br><span class="line"></span><br><span class="line">	argsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log((<span class="number">2016</span> - cur) &gt;= limit);</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isFullAge5(<span class="number">1990</span>, <span class="number">1999</span>, <span class="number">1965</span>);</span><br><span class="line">isFullAge5(<span class="number">1990</span>, <span class="number">1999</span>, <span class="number">1965</span>, <span class="number">2016</span>, <span class="number">1987</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isFullAge6</span>(<span class="params">limit, ...years</span>) </span>&#123;</span><br><span class="line">	years.forEach(<span class="function"><span class="params">cur</span> =&gt;</span> <span class="built_in">console</span>.log((<span class="number">2016</span> - cur) &gt;= limit));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">isFullAge6(<span class="number">16</span>, <span class="number">1990</span>, <span class="number">1999</span>, <span class="number">1965</span>, <span class="number">2016</span>, <span class="number">1987</span>);</span><br></pre></td></tr></table></figure>

<h2 id="11-Default-Parameters"><a href="#11-Default-Parameters" class="headerlink" title="11. Default Parameters"></a>11. Default Parameters</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SmithPerson</span>(<span class="params">firstName, yerOfBirth, lastName, nationality</span>) </span>&#123;</span><br><span class="line">	lastName === <span class="literal">undefined</span>? lastName = <span class="string">'Smith'</span> : lastName = lastName;</span><br><span class="line">	nationality === <span class="literal">undefined</span> ? nationality = <span class="string">'american'</span> : nationality = nationality;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">this</span>.firstName - firstName;</span><br><span class="line">	<span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">	<span class="keyword">this</span>.yearOfBirth = yearOfBirth;</span><br><span class="line">	<span class="keyword">this</span>.nationality = nationality;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> john = <span class="keyword">new</span> SmithPerson(<span class="string">'John'</span>, <span class="number">1990</span>);</span><br><span class="line"><span class="keyword">var</span> emily = <span class="keyword">new</span> SmithPerson(<span class="string">'Emily'</span>, <span class="number">1983</span>, <span class="string">'Diaz'</span>, <span class="string">'Spanish'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SmithPerson</span>(<span class="params">firstName, yerOfBirth, lastName = <span class="string">'Smith'</span>, nationality = <span class="string">'american'</span></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.firstName - firstName;</span><br><span class="line">	<span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">	<span class="keyword">this</span>.yearOfBirth = yearOfBirth;</span><br><span class="line">	<span class="keyword">this</span>.nationality = nationality;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> john = <span class="keyword">new</span> SmithPerson(<span class="string">'John'</span>, <span class="number">1990</span>);</span><br><span class="line"><span class="keyword">var</span> emily = <span class="keyword">new</span> SmithPerson(<span class="string">'Emily'</span>, <span class="number">1983</span>, <span class="string">'Diaz'</span>, <span class="string">'Spanish'</span>);</span><br></pre></td></tr></table></figure>

<h2 id="12-Maps"><a href="#12-Maps" class="headerlink" title="12. Maps"></a>12. Maps</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> question = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">question.set(<span class="string">'question'</span>, <span class="string">'What is the official name of the latest major JavaScript version?'</span>);</span><br><span class="line">question.set(<span class="number">1</span>, <span class="string">'ES5'</span>);</span><br><span class="line">question.set(<span class="number">2</span>, <span class="string">'ES6'</span>);</span><br><span class="line">question.set(<span class="number">3</span>, <span class="string">'ES2015'</span>);</span><br><span class="line">question.set(<span class="number">4</span>, <span class="string">'ES7'</span>);</span><br><span class="line">question.set(<span class="string">'correct'</span>, <span class="number">3</span>);</span><br><span class="line">question.set(<span class="literal">true</span>, <span class="string">'Correct answer :D'</span>);</span><br><span class="line">question.set(<span class="literal">false</span>, <span class="string">'Wong, please try again!'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(question.get(<span class="string">'question'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(question.size);</span><br><span class="line"><span class="keyword">if</span> (question.has(<span class="number">4</span>)) &#123;</span><br><span class="line">	<span class="comment">//question.delete(4);</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'Answer 4 is here!'</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//question.clear();</span></span><br><span class="line">question.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span></span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"This is $&#123;key&#125;, and it's set to $&#123;value&#125;'"</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> question.entries()) &#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">typeof</span>(key) === <span class="string">'number'</span>) &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'Answer $&#123;key&#125;: $&#123;value&#125;'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ans = <span class="built_in">parseInt</span>(promt(<span class="string">'Write the correct answer'</span>));</span><br><span class="line"><span class="built_in">console</span>.log(question.get(ans === question.get(<span class="string">'correct'</span>)));</span><br></pre></td></tr></table></figure>


<h2 id="13-Classes"><a href="#13-Classes" class="headerlink" title="13. Classes"></a>13. Classes</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> Person5 = <span class="function"><span class="keyword">function</span>(<span class="params">name, yearOfBirth, job</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.yearOfBirth = yearOfBirth;</span><br><span class="line">	<span class="keyword">this</span>.job = job;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person5.prototype.calculateAge =</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> age = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear - <span class="keyword">this</span>.yearOfBirth;</span><br><span class="line">	<span class="built_in">console</span>.log(age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> john5 = <span class="keyword">new</span> Person5(<span class="string">'John'</span>, <span class="number">1990</span>, <span class="string">'teacher'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person6</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span> (name, yearOfBirth, job) &#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.yearOfBirth = yearOfBirth;</span><br><span class="line">		<span class="keyword">this</span>.job = job;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	calculateAge() &#123;</span><br><span class="line">		<span class="keyword">var</span> age = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear - <span class="keyword">this</span>.yearOfBirth;</span><br><span class="line">		<span class="built_in">console</span>.log(age);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> greeting() &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">'Hey there!'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> john6 = <span class="keyword">new</span> Person6(<span class="string">'John'</span>, <span class="number">1990</span>, <span class="string">'teacher'</span>);</span><br><span class="line">Person6.greeting();</span><br></pre></td></tr></table></figure>

<h2 id="14-Classes-with-Subclasses"><a href="#14-Classes-with-Subclasses" class="headerlink" title="14. Classes with Subclasses"></a>14. Classes with Subclasses</h2><p><img src="https://lh3.googleusercontent.com/FSJzIBGVOv7w9a-8El7jRjEgJ1PX4wDMUakG76CcP-r6phX-BErInbk6RYWbOgEuf7FwPo7rLgJCvScUtGncxitTxNkPvqLG4TDBtFpWaE1w4a9JDJoo9dzPJcZLjCanhCOIPiFYu_nSW4RmiKX9VUGPq1VEt5wWWcuKonAi1ZW5QPWtk39mvF4i903oh7RFhQA8UsAXeg9aNRhIwMb6VPRmPXishUTOUKHkAiGsDMDgKpdkEuFr1inz4BVYPoH70NWNmwHZKX-AMRC_kaN3MA_92hAXwO4216NR0zCdi_BVGmrsJQiDDqrghy3SDre1hUQ91t-j8i-NIKEpmvsLWlD9JrZjp9oLfspRm5YiOKmF4ek_6x_tHLSLn1578RY2UUvR8Vyl2GZOTbPmZNfq9933awEjLEk0P7Jx_e_FTwb3a0qHiOZSqRA1IVQFlrYJkHvE4yiGp05D_KEpEQnJiQWOiWOidaHiEqxjMv8BdJKIwHo4fmV15bxT1jY5X09eMY_CHeSMUDnqHfsPskHAyhwoYQjQ4f77XWW7jbmq4J0mLbQxbIYsv5hhOl8rw3Y39BT3G8HmbZXfGKv0ZaCFnHq4hHQQkyRdQIDv_AoknX_Fob4W8_adxxiO=w1274-h708-no" alt="Inheritance In General"></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="keyword">var</span> Person5 = <span class="function"><span class="keyword">function</span>(<span class="params">name, yearOfBirth, job</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.name = name;</span><br><span class="line">	<span class="keyword">this</span>.yearOfBirth = yearOfBirth;</span><br><span class="line">	<span class="keyword">this</span>.job = job;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person5.prototype.calculateAge =</span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> age = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - <span class="keyword">this</span>.yearOfBirth;</span><br><span class="line">	<span class="built_in">console</span>.log(age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Athlete5 = <span class="function"><span class="keyword">function</span>(<span class="params">name, yearOfBirth, job, olymicGames, medals</span>) </span>&#123;</span><br><span class="line">	Person5.call(<span class="keyword">this</span>, name, yearOfBirth, job);</span><br><span class="line">	<span class="keyword">this</span>.olymicGames = olymicGames;</span><br><span class="line">	<span class="keyword">this</span>.medals = medals;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Athlete5.prototype.wonMedal = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">this</span>.medals++;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="keyword">this</span>.medals);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Athlete5.prototype = <span class="built_in">Object</span>.create(Person5.prototype);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> johnAthlete5 = <span class="keyword">new</span> Athlete5(<span class="string">'John'</span>, <span class="number">1990</span>, <span class="string">'swimmer'</span>, <span class="number">3</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">johnAthlete5.calculateAge();</span><br><span class="line">johnAthlete5.wonMedal();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person6</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span> (name, yearOfBirth, job) &#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.yearOfBirth = yearOfBirth;</span><br><span class="line">		<span class="keyword">this</span>.job = job;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	calculateAge() &#123;</span><br><span class="line">		<span class="keyword">var</span> age = <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - <span class="keyword">this</span>.yearOfBirth;</span><br><span class="line">		<span class="built_in">console</span>.log(age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Athlete6</span> <span class="keyword">extends</span> <span class="title">Perso6</span> </span>&#123;</span><br><span class="line">	<span class="keyword">constructor</span>(name, yearOfBirth, job, olympicGames, medals) &#123;</span><br><span class="line">		<span class="keyword">super</span>(name, yearOfBirth, job);</span><br><span class="line">		<span class="keyword">this</span>.olympicGames = olympicGames;</span><br><span class="line">		<span class="keyword">this</span>.medals = medals;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	wonMedal() &#123;</span><br><span class="line">		<span class="keyword">this</span>.medals++;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="keyword">this</span>.medals);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> johnAthlete6 = <span class="keyword">new</span> Athlete6(<span class="string">'John'</span>, <span class="number">1990</span>, <span class="string">'swimmer'</span>, <span class="number">3</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">johnAthlete6.wonMedal();</span><br><span class="line">johnAthlete6.calculateAge();</span><br></pre></td></tr></table></figure>

<h2 id="15-How-to-use-ES2015-ES6-Today"><a href="#15-How-to-use-ES2015-ES6-Today" class="headerlink" title="15. How to use ES2015 / ES6 Today?"></a>15. How to use ES2015 / ES6 Today?</h2><p><a href="https://babeljs.io" target="_blank" rel="noopener">Babel</a>: Use next generation JavaScript, today.</p>
<h3 id="15-1-Environment-Setup"><a href="#15-1-Environment-Setup" class="headerlink" title="15.1. Environment Setup"></a>15.1. Environment Setup</h3><ul>
<li>Intall NodeJS</li>
<li>Install Babel<ul>
<li>npm -v</li>
<li>npm install –save-dev babel-cli babel-preset-es2015 babel-polyfill</li>
</ul>
</li>
</ul>
<h3 id="15-2-Usage"><a href="#15-2-Usage" class="headerlink" title="15.2. Usage"></a>15.2. Usage</h3><pre><code>- ./node_modules/.bin/babel --presets es2015 script.js --out-file script-transpiled.js</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/06/27/2017-weekly-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/06/27/2017-weekly-7/" class="post-title-link" itemprop="url">最美的风景</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-06-27 22:26:00 / Modified: 22:29:01" itemprop="dateCreated datePublished" datetime="2017-06-27T22:26:00-07:00">2017-06-27</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/06/27/2017-weekly-7/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/06/27/2017-weekly-7/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近又到了高考季，想想距离我自己的高考已经九年了。突然又感性了一把，翻出了当年高考结束后写的随笔。</p>
<p>“高三,收获的不仅仅是成绩,而是一段刻骨而难忘的征途。我需要感谢的人太多,需要铭记的事也太多。可终究还是告别了高三,我已不会再回来。”</p>
<p>人生是一趟永远无法回头的列车，一段征途的结束往往又是下一个大冒险的开启。尽管前面充满了泥泞和未知，但我们也不能因此而停下前行的脚步，否则就会永远地止步不前了，而没有什么比这更令人绝望。</p>
<p>其实很早就开始模糊地意识到，理想的人生应该是抱着一种去修行的态度，近些日子愈发坚定了这一想法。早起，极简主义，自律，健身，时间管理，成长性思维，都是在修行道路上打怪升级的有力武器。而在修行的终极目标又是什么呢？一定是要去做那些你喜欢，有意义，并且特别希望能够做成的事儿。</p>
<p>这世界上没有什么真正的成就是唾手可得的，否则就难以称之为成就。相对于那些上来就开挂，无限金币加血槽，一路轻松虐菜，完爆大Boss的剧情，我反倒更喜欢那种坚持了，失败，再坚持，再失败，然后还能爬起来再坚持的故事。</p>
<p>失败并不是一件坏事，相反，逆境的历练会让你变得更加明智和坚强。</p>
<p>当年J·K·罗琳因遭受家庭暴力而离婚，彼时的她距离大学毕业已经七年，没有工作，婚姻失败，还带着一个嗷嗷待哺的孩子。她自嘲为自己所见过最失败的人，但她却形容那场失败是种解放。</p>
<p>“失败代表了摒除不必要的事物，我不再自我欺骗、干脆忠于自我，投注所有心力完成唯一重要的工作。要是我以前在其他地方成功了，那么我也许永远不会有这样的决心，投身于这个我自信真正属于我的领域。我重获自由了！因为我最大的恐惧虽然降临了，而我还活着，我还有个可爱的女儿，还有台老旧的打字机和伟大的构思。曾经跌落深邃的谷底，却变成日后重生深厚的基础。”</p>
<p>无论何时何境，希望我们都能双眼带着光彩，带着一往无前的勇气，去发现最美的风景。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/06/25/Complete-JavaScript-Course-Project-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/06/25/Complete-JavaScript-Course-Project-3/" class="post-title-link" itemprop="url">Put It All Together: The Budget App Project: Part III</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-06-25 11:44:13 / Modified: 11:47:36" itemprop="dateCreated datePublished" datetime="2017-06-25T11:44:13-07:00">2017-06-25</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/06/25/Complete-JavaScript-Course-Project-3/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/06/25/Complete-JavaScript-Course-Project-3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Project-Planning-and-Architecture-Step-3"><a href="#1-Project-Planning-and-Architecture-Step-3" class="headerlink" title="1. Project Planning and Architecture: Step 3"></a>1. Project Planning and Architecture: Step 3</h2><h3 id="1-1-What-We-Just-Completed"><a href="#1-1-What-We-Just-Completed" class="headerlink" title="1.1. What We Just Completed"></a>1.1. What We Just Completed</h3><p><img src="https://lh3.googleusercontent.com/zcQMdq5e9yHiXSsAr5CZAF4vlKBZV11aGMZjd2Tec3o-nkJhKLOIIihcwA_DebCHNEJtMu_3EFPHmCpPQ7O666yAV4y9Ab2XrxWfUg3g9lQW1n6oqijQW6OzhW5dWrC63FgSEcf7Ef6UbVclr5gvxgwTDyKuBMQEflW1lhefF_BsRFR1vHD6Gsks8ZRFlmmlcnx_k80q782tXrSElmjqifgZCpEY5bPPt8o8K5CBk5I5eCovsGuYqzPp7h46Km-crJ5t-f6sjNmeeBHdsQ-O-uFYZXUmAsgnc_i7W2MWj4u57usg4CSN0H3yH98hV2SgebkUqn6HRlIwo78oPLef8qniBQLLibWFhYAfhLGoMqzQkFd2383JPDlSqJZ0MEHf6F4YmpVea_e7Vb3U0u6AhYa3C0X-GPF0yWbxtoyMi97Z-W12-n7QFUNQWen4kGOXAnipezTUfmeRGFA7BVsLLyLi3bkfWbKoAkyPOv5qAsdkLV1pOUEewm0BW8dGjmawiyVRUvseY1wq8m7OToWGTq92aM6FhWTosG3krgCPCNLI62lTXgFgwjK7yRV_5Jnf0iVqbqGwlXRQMCWlEPU1jwmoF5BnXossg4yBM7AVd0f5lMEXvSfOEZFKuTJdX6m2tP6w3L-2-KAATJL8ioHK1MhNYmBCcwRONKZnGERIwA=w1592-h928-no" alt="What We Just Completed"></p>
<h3 id="1-2-Panning-Step-3"><a href="#1-2-Panning-Step-3" class="headerlink" title="1.2. Panning: Step 3"></a>1.2. Panning: Step 3</h3><p><img src="https://lh3.googleusercontent.com/iptcVLukbH-GpmuPlC7HORZ2rVsk_VEd9LCz8EkjKakE4658ijEZF-F8IBLVOfvWdoUYiXRhyCk8etI9MwzUxlj0DHX973A7eUbGOyj0nYJKmsEcKrYGztnWwC3XdGj2o-kBdtTKlOI1SdoZ4XSIQwvwSKszvE41tDTAzg7FrTuN8BwgAUolG2ojL75AVhkTpMHtEbtXx3XgMNBDQkddsXhkKPamv7sdEas2vBd9rS3IBuV8OE_68qdJOV3toEtabpfIGjsfrYuQWlDBevZ9RgONmySfDad9bFfLE3eSCX8L956wqS992mX7hU3EwJWlFQtH2qatXnPDuD9-2PeTdbWRKlRFDckD9-HtxdogNQsne9Kvmq8Q7I9jykIiWVUT_Yn0OaWPvBAN1l8ExOHLrYENuTuQRxZEldKoqfM4pSNAzPkO3dxLRCms3psFVgMVVrnuCo2yC6WC4M4rzenPLN__h0fMLggeeDZby5HTRqUjH8QwH8mDuPqKbqfQ9Si_TBTXB2jDW-FqGtvJOSQECKBxJrHt2AEr1h7Tw8sxWYptjyrYkoIJpWLW6BqM_UVBCLvdVuWOLUBR5cEdC6EPasKUwUNyTF_QuxPG5UAtLZ-RDtHDyvaFlR0vwi99YIN1Py14TYuqeijjM47N00RJQIkIwEVjFvWN-l8WzcQp9g=w1704-h834-no" alt="Panning: Step 3"></p>
<h2 id="2-Updating-the-Percentages-Controller"><a href="#2-Updating-the-Percentages-Controller" class="headerlink" title="2. Updating the Percentages: Controller"></a>2. Updating the Percentages: Controller</h2><ul>
<li>What you will learn in this section:<ul>
<li>Reinforcing the concepts and techniques we have learned so far.</li>
</ul>
</li>
</ul>
<p>Add updatePercentage Method in app controller.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.container).addEventListener(<span class="string">'click'</span>, ctrlDeleteItem);</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updatePercentages = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Calculate percentages</span></span><br><span class="line">		<span class="comment">// 2. Read percentages from the budget controller</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update the UI with the new percentages</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 6. Calculate and update percentage</span></span><br><span class="line">			updatePercentages();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event.target);</span><br><span class="line">		<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">		itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">		<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">			<span class="comment">//inc-1</span></span><br><span class="line">			splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">			type = splitID[<span class="number">0</span>];</span><br><span class="line">			ID = splitID[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">			budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line">			UICtrl.deleteListItem(itemID);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Calculate and update percentage</span></span><br><span class="line">			updatePercentages();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			UICtrl.displayBudget(&#123;</span><br><span class="line">				budget: <span class="number">0</span>,</span><br><span class="line">				totalInc: <span class="number">0</span>,</span><br><span class="line">				totalExp: <span class="number">0</span>,</span><br><span class="line">				percentage: <span class="number">-1</span></span><br><span class="line">			&#125;);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>


<h2 id="3-Updating-the-Percentages-Budget-Controller"><a href="#3-Updating-the-Percentages-Budget-Controller" class="headerlink" title="3. Updating the Percentages: Budget Controller"></a>3. Updating the Percentages: Budget Controller</h2><ul>
<li>What you will learn in this lecture<ul>
<li>How to make our budget controller interact with the Expense prototype.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">	<span class="keyword">var</span> Expense = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">		<span class="keyword">this</span>.percentage = <span class="number">-1</span>;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	Expense.prototype.calcPercentage = <span class="function"><span class="keyword">function</span>(<span class="params">totalIncome</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (totalIncome &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">this</span>.percentage = <span class="built_in">Math</span>.round((<span class="keyword">this</span>.value / totalIncome) * <span class="number">100</span>);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">this</span>.percentage = <span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	Expense.prototype.getPercentage = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.percentage;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> Income = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> calculateTotal = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">		data.allItems[type].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">			sum = sum + cur.value;</span><br><span class="line">		&#125;);</span><br><span class="line">		data.totals[type] = sum;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> data = &#123;</span><br><span class="line">		allItems: &#123;</span><br><span class="line">			exp: [],</span><br><span class="line">			inc: []</span><br><span class="line">		&#125;,</span><br><span class="line">		totals: &#123;</span><br><span class="line">			exp: <span class="number">0</span>,</span><br><span class="line">			inc: <span class="number">0</span></span><br><span class="line">		&#125;,</span><br><span class="line">		budget: <span class="number">0</span>,</span><br><span class="line">		percentage: <span class="number">-1</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		addItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, des, val</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> newItem, ID;</span><br><span class="line">			<span class="comment">//Create new ID</span></span><br><span class="line">			ID = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span> (data.allItems[type].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				ID = data.allItems[type][data.allItems[type].length - <span class="number">1</span>].id + <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				ID = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Create new item based on 'inc' or 'exp' type</span></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Expense(ID, des, val);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Income(ID, des, val);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Push it into our data structure</span></span><br><span class="line">			data.allItems[type].push(newItem);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Return the new element</span></span><br><span class="line">			<span class="keyword">return</span> newItem;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, id</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> ids, index;</span><br><span class="line">			<span class="comment">// id = 3</span></span><br><span class="line">			<span class="keyword">var</span> ids = data.allItems[type].map(<span class="function"><span class="keyword">function</span>(<span class="params">current</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> current.id;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			index = ids.indexOf(id);</span><br><span class="line">			<span class="keyword">if</span> (index !=== <span class="number">-1</span>) &#123;</span><br><span class="line">				data.allItems[type].splice(index, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		calculateBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="comment">// calculate total income and expenses</span></span><br><span class="line">			calculateTotal(<span class="string">'exp'</span>);</span><br><span class="line">			calculateTotal(<span class="string">'inc'</span>);</span><br><span class="line">			<span class="comment">// Calculate the budget: income - expenses</span></span><br><span class="line">			data.budget = data.totals.inc - data.totals.exp;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Calculate the percentage of income that we spent</span></span><br><span class="line">			<span class="keyword">if</span> (data.totals.inc &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				data.percentage = <span class="built_in">Math</span>.round((data.totals.exp / data.totals.inc) * <span class="number">100</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				data.percentage = <span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		calculatePercentages: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			data.allItems.exp.forEach(fuction(cur) &#123;</span><br><span class="line">				cur.calcPercentage(data.totals.inc);</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getPercentages: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> allPerc = data.allItems.exp.map(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> cur.getPercentage();</span><br><span class="line">			&#125;);</span><br><span class="line">			<span class="keyword">return</span> allPerc;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">				budget: data.budget,</span><br><span class="line">				totalInc: data.totals.inc,</span><br><span class="line">				totalExp: data.totals.exp,</span><br><span class="line">				percentage: data.percentage</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		testing: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>Now we can update our app controller:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> updatePercentages = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 1. Calculate percentages</span></span><br><span class="line">	budgetCtrl.calculatePercentages();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 2. Read percentages from the budget controller</span></span><br><span class="line">	<span class="keyword">var</span> percentages = budgetCtrl.getPercentages();</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 3. Update the UI with the new percentages</span></span><br><span class="line">	<span class="built_in">console</span>.log(percentages);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="4-Updating-the-Percentages-UI-Controller"><a href="#4-Updating-the-Percentages-UI-Controller" class="headerlink" title="4. Updating the Percentages: UI Controller"></a>4. Updating the Percentages: UI Controller</h2><ul>
<li>What you will learn in this section:<ul>
<li>How to create our own forEach function but for nodeLists instead of arrays.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span>,</span><br><span class="line">		expensesPercLabel: <span class="string">'.item__percentage'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteListItem: <span class="function"><span class="keyword">function</span>(<span class="params">selectorID</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(selectorID);</span><br><span class="line">			el.parentNode.removeChild(el);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = obj.budget;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = totoalInc;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = totalExp;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayPercentages: <span class="function"><span class="keyword">function</span>(<span class="params">percentages</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.expensesPercLabel);</span><br><span class="line">			<span class="keyword">var</span> nodeListForEach = <span class="function"><span class="keyword">function</span>(<span class="params">list, callback</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">					callback(list[i], i);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			nodeListForEach(fields, <span class="function"><span class="keyword">function</span>(<span class="params">current, index</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (percentages[index] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					current.textContent = percentages[index] + <span class="string">"%"</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					current.textContent = <span class="string">'---'</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<h2 id="5-Formatting-Our-Budget-Numbers-String-Manipulation"><a href="#5-Formatting-Our-Budget-Numbers-String-Manipulation" class="headerlink" title="5. Formatting Our Budget Numbers: String Manipulation"></a>5. Formatting Our Budget Numbers: String Manipulation</h2><ul>
<li>What you will learn in this lecture<ul>
<li>How to use different String methods to manipulate strings.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span>,</span><br><span class="line">		expensesPercLabel: <span class="string">'.item__percentage'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> formatNumber = <span class="function"><span class="keyword">function</span>(<span class="params">num, type</span>) </span>&#123;</span><br><span class="line">			<span class="comment">/*</span></span><br><span class="line"><span class="comment">			+ or - before number exactly 2 decimal points</span></span><br><span class="line"><span class="comment">			comma separating the thousands</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			2310.4567 =&gt; + 2,310.46</span></span><br><span class="line"><span class="comment">			2000 -&gt; + 2,000.00</span></span><br><span class="line"><span class="comment">			*/</span></span><br><span class="line"></span><br><span class="line">			num = <span class="built_in">Math</span>.abs(num);</span><br><span class="line">			num = num.toFixed(<span class="number">2</span>);</span><br><span class="line">			numSplit = num.split(<span class="string">'.'</span>);</span><br><span class="line">			int = numSplit[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">if</span> (int.length &gt; <span class="number">3</span>) &#123;</span><br><span class="line">				int = int.substr(<span class="number">0</span>, int.length - <span class="number">3</span>) + <span class="string">','</span> + int.substr(int.length - <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			dec = numSplit[<span class="number">1</span>];</span><br><span class="line">			type === <span class="string">'exp'</span> ? sign = <span class="string">'-'</span> : sign = <span class="string">'+'</span>;</span><br><span class="line">			<span class="keyword">return</span> type + <span class="string">' '</span> + int + <span class="string">'.'</span> + dec;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, formatNumber(obj.value, type));</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteListItem: <span class="function"><span class="keyword">function</span>(<span class="params">selectorID</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(selectorID);</span><br><span class="line">			el.parentNode.removeChild(el);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> type;</span><br><span class="line">			obj.budget &gt; <span class="number">0</span> ? type = <span class="string">'inc'</span> : type = <span class="string">'exp'</span>;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = formatNumber(obj.budget, type);</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = formatNumber(totoalInc, <span class="string">'inc'</span>);</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = formatNumber(totalExp, <span class="string">'exp'</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayPercentages: <span class="function"><span class="keyword">function</span>(<span class="params">percentages</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.expensesPercLabel);</span><br><span class="line">			<span class="keyword">var</span> nodeListForEach = <span class="function"><span class="keyword">function</span>(<span class="params">list, callback</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">					callback(list[i], i);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			nodeListForEach(fields, <span class="function"><span class="keyword">function</span>(<span class="params">current, index</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (percentages[index] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					current.textContent = percentages[index] + <span class="string">"%"</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					current.textContent = <span class="string">'---'</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h2 id="6-Displaying-the-Current-Month-and-Year"><a href="#6-Displaying-the-Current-Month-and-Year" class="headerlink" title="6. Displaying the Current Month and Year"></a>6. Displaying the Current Month and Year</h2><ul>
<li>What you will learn in this lecture:<ul>
<li>How to get the current date by using the Date object constructor.</li>
</ul>
</li>
</ul>
<p>Step1: add displayMonth function in UI controller</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span>,</span><br><span class="line">		expensesPercLabel: <span class="string">'.item__percentage'</span>,</span><br><span class="line">		dateLabel: <span class="string">'.budget__title--month'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> formatNumber = <span class="function"><span class="keyword">function</span>(<span class="params">num, type</span>) </span>&#123;</span><br><span class="line">			<span class="comment">/*</span></span><br><span class="line"><span class="comment">			+ or - before number exactly 2 decimal points</span></span><br><span class="line"><span class="comment">			comma separating the thousands</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			2310.4567 =&gt; + 2,310.46</span></span><br><span class="line"><span class="comment">			2000 -&gt; + 2,000.00</span></span><br><span class="line"><span class="comment">			*/</span></span><br><span class="line"></span><br><span class="line">			num = <span class="built_in">Math</span>.abs(num);</span><br><span class="line">			num = num.toFixed(<span class="number">2</span>);</span><br><span class="line">			numSplit = num.split(<span class="string">'.'</span>);</span><br><span class="line">			int = numSplit[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">if</span> (int.length &gt; <span class="number">3</span>) &#123;</span><br><span class="line">				int = int.substr(<span class="number">0</span>, int.length - <span class="number">3</span>) + <span class="string">','</span> + int.substr(int.length - <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			dec = numSplit[<span class="number">1</span>];</span><br><span class="line">			type === <span class="string">'exp'</span> ? sign = <span class="string">'-'</span> : sign = <span class="string">'+'</span>;</span><br><span class="line">			<span class="keyword">return</span> type + <span class="string">' '</span> + int + <span class="string">'.'</span> + dec;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, formatNumber(obj.value, type));</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteListItem: <span class="function"><span class="keyword">function</span>(<span class="params">selectorID</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(selectorID);</span><br><span class="line">			el.parentNode.removeChild(el);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> type;</span><br><span class="line">			obj.budget &gt; <span class="number">0</span> ? type = <span class="string">'inc'</span> : type = <span class="string">'exp'</span>;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = formatNumber(obj.budget, type);</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = formatNumber(totoalInc, <span class="string">'inc'</span>);</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = formatNumber(totalExp, <span class="string">'exp'</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayPercentages: <span class="function"><span class="keyword">function</span>(<span class="params">percentages</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.expensesPercLabel);</span><br><span class="line">			<span class="keyword">var</span> nodeListForEach = <span class="function"><span class="keyword">function</span>(<span class="params">list, callback</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">					callback(list[i], i);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;;</span><br><span class="line"></span><br><span class="line">			nodeListForEach(fields, <span class="function"><span class="keyword">function</span>(<span class="params">current, index</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (percentages[index] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					current.textContent = percentages[index] + <span class="string">"%"</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					current.textContent = <span class="string">'---'</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayMonth: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> now, months, month, year;</span><br><span class="line">			now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">			<span class="comment">// var christmas = new Date(2016, 11);</span></span><br><span class="line"></span><br><span class="line">			months = [<span class="string">'January'</span>, <span class="string">'February'</span>, <span class="string">'March'</span>, <span class="string">'April'</span>, <span class="string">'May'</span>, <span class="string">'June'</span>, <span class="string">'July'</span>, <span class="string">'Auguest'</span>, <span class="string">'September'</span>, <span class="string">'October'</span>, <span class="string">'November'</span>, <span class="string">'December'</span>];</span><br><span class="line">			month = <span class="keyword">new</span>.getMonth();</span><br><span class="line"></span><br><span class="line">			year = now.getFullYear();</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.dateLabel).textContent = months[month - <span class="number">1</span>] + <span class="string">' '</span> + year;			</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>Step2: call UICtrl.displayMonth() in init() method.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.container).addEventListener(<span class="string">'click'</span>, ctrlDeleteItem);</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updatePercentages = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Calculate percentages</span></span><br><span class="line">		<span class="comment">// 2. Read percentages from the budget controller</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update the UI with the new percentages</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 6. Calculate and update percentage</span></span><br><span class="line">			updatePercentages();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event.target);</span><br><span class="line">		<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">		itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">		<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">			<span class="comment">//inc-1</span></span><br><span class="line">			splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">			type = splitID[<span class="number">0</span>];</span><br><span class="line">			ID = splitID[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">			budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line">			UICtrl.deleteListItem(itemID);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Calculate and update percentage</span></span><br><span class="line">			updatePercentages();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			UICtrl.displayMonth();</span><br><span class="line">			UICtrl.displayBudget(&#123;</span><br><span class="line">				budget: <span class="number">0</span>,</span><br><span class="line">				totalInc: <span class="number">0</span>,</span><br><span class="line">				totalExp: <span class="number">0</span>,</span><br><span class="line">				percentage: <span class="number">-1</span></span><br><span class="line">			&#125;);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>


<h2 id="7-Finishing-Touches-Improving-the-UX"><a href="#7-Finishing-Touches-Improving-the-UX" class="headerlink" title="7. Finishing Touches: Improving the UX"></a>7. Finishing Touches: Improving the UX</h2><ul>
<li>What you will learn in this lecture<ul>
<li>How and when to use ‘change’ events.</li>
</ul>
</li>
</ul>
<p>Add ‘change’ event listener in setupEventListeners function in global app controller</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.container).addEventListener(<span class="string">'click'</span>, ctrlDeleteItem);</span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.inputType).addEventListener(<span class="string">'change'</span>, UICtrl.changedType);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updatePercentages = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Calculate percentages</span></span><br><span class="line">		<span class="comment">// 2. Read percentages from the budget controller</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update the UI with the new percentages</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 6. Calculate and update percentage</span></span><br><span class="line">			updatePercentages();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event.target);</span><br><span class="line">		<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">		itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">		<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">			<span class="comment">//inc-1</span></span><br><span class="line">			splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">			type = splitID[<span class="number">0</span>];</span><br><span class="line">			ID = splitID[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">			budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line">			UICtrl.deleteListItem(itemID);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Calculate and update percentage</span></span><br><span class="line">			updatePercentages();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			UICtrl.displayMonth();</span><br><span class="line">			UICtrl.displayBudget(&#123;</span><br><span class="line">				budget: <span class="number">0</span>,</span><br><span class="line">				totalInc: <span class="number">0</span>,</span><br><span class="line">				totalExp: <span class="number">0</span>,</span><br><span class="line">				percentage: <span class="number">-1</span></span><br><span class="line">			&#125;);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span>,</span><br><span class="line">		expensesPercLabel: <span class="string">'.item__percentage'</span>,</span><br><span class="line">		dateLabel: <span class="string">'.budget__title--month'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> formatNumber = <span class="function"><span class="keyword">function</span>(<span class="params">num, type</span>) </span>&#123;</span><br><span class="line">			<span class="comment">/*</span></span><br><span class="line"><span class="comment">			+ or - before number exactly 2 decimal points</span></span><br><span class="line"><span class="comment">			comma separating the thousands</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">			2310.4567 =&gt; + 2,310.46</span></span><br><span class="line"><span class="comment">			2000 -&gt; + 2,000.00</span></span><br><span class="line"><span class="comment">			*/</span></span><br><span class="line"></span><br><span class="line">			num = <span class="built_in">Math</span>.abs(num);</span><br><span class="line">			num = num.toFixed(<span class="number">2</span>);</span><br><span class="line">			numSplit = num.split(<span class="string">'.'</span>);</span><br><span class="line">			int = numSplit[<span class="number">0</span>];</span><br><span class="line">			<span class="keyword">if</span> (int.length &gt; <span class="number">3</span>) &#123;</span><br><span class="line">				int = int.substr(<span class="number">0</span>, int.length - <span class="number">3</span>) + <span class="string">','</span> + int.substr(int.length - <span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			dec = numSplit[<span class="number">1</span>];</span><br><span class="line">			type === <span class="string">'exp'</span> ? sign = <span class="string">'-'</span> : sign = <span class="string">'+'</span>;</span><br><span class="line">			<span class="keyword">return</span> type + <span class="string">' '</span> + int + <span class="string">'.'</span> + dec;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> nodeListForEach = <span class="function"><span class="keyword">function</span>(<span class="params">list, callback</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">				callback(list[i], i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, formatNumber(obj.value, type));</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteListItem: <span class="function"><span class="keyword">function</span>(<span class="params">selectorID</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(selectorID);</span><br><span class="line">			el.parentNode.removeChild(el);</span><br><span class="line">		&#125;,</span><br><span class="line">		</span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> type;</span><br><span class="line">			obj.budget &gt; <span class="number">0</span> ? type = <span class="string">'inc'</span> : type = <span class="string">'exp'</span>;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = formatNumber(obj.budget, type);</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = formatNumber(totoalInc, <span class="string">'inc'</span>);</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = formatNumber(totalExp, <span class="string">'exp'</span>);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayPercentages: <span class="function"><span class="keyword">function</span>(<span class="params">percentages</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.expensesPercLabel);</span><br><span class="line">			nodeListForEach(fields, <span class="function"><span class="keyword">function</span>(<span class="params">current, index</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">if</span> (percentages[index] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">					current.textContent = percentages[index] + <span class="string">"%"</span>;</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					current.textContent = <span class="string">'---'</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayMonth: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> now, months, month, year;</span><br><span class="line">			now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">			<span class="comment">// var christmas = new Date(2016, 11);</span></span><br><span class="line"></span><br><span class="line">			months = [<span class="string">'January'</span>, <span class="string">'February'</span>, <span class="string">'March'</span>, <span class="string">'April'</span>, <span class="string">'May'</span>, <span class="string">'June'</span>, <span class="string">'July'</span>, <span class="string">'Auguest'</span>, <span class="string">'September'</span>, <span class="string">'October'</span>, <span class="string">'November'</span>, <span class="string">'December'</span>];</span><br><span class="line">			month = <span class="keyword">new</span>.getMonth();</span><br><span class="line"></span><br><span class="line">			year = now.getFullYear();</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.dateLabel).textContent = months[month - <span class="number">1</span>] + <span class="string">' '</span> + year;			</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		changedType: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields = <span class="built_in">document</span>.querySelctorAll(</span><br><span class="line">				DOMstrings.inputType + <span class="string">','</span> +</span><br><span class="line">				DOMstrings.inputDescription + <span class="string">','</span> +</span><br><span class="line">				DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			nodeListForEach(fields, <span class="function"><span class="keyword">function</span>(<span class="params">cur</span>)) </span>&#123;</span><br><span class="line">				cur.classList.toggle(<span class="string">'red-focus'</span>);</span><br><span class="line">			&#125;),</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.inputBtn).classList.toggle(<span class="string">'red'</span>);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<h2 id="8-Our-Final-Architecture"><a href="#8-Our-Final-Architecture" class="headerlink" title="8. Our Final Architecture"></a>8. Our Final Architecture</h2><p><img src="https://lh3.googleusercontent.com/1BZ8L7P6elWPyQ56s7jI0TBA3F5sUmuxL1_uIu3m0pXMlaDx-BcKV48byhiFRgSGy1rJZAAF0iGaxt7lF2Nsi-6Jzk20u1M7daIGZtgQdkQG5R_pJNUkCK2oKZiKc0dP8dXuMJktYnJTVhqn87Bz3LvhpEHUiCKxrS2t320cgh8AfXZp62zqNOBECAENb05E0DdWAbhfAL7fJWr6dv-GZnnNuAfWo2NpnB1QgkENFaCkYunA-PUlVpSfxHeIimwRxlaQ7WOeYfdEGB5tYHXoEHCS3Pt3YNzpEHeE9jNcsxw4lODEoV7Qy05svlQg1I35scb5TQ4uzjtU5Qly4nAN3dAJVLlONsqwzwWEwq-E-qr7A12p83Mk-BmIL_geuwPm1M831aFe3J-fIxsmLqXYxk44P-CXVg9G2fEBmHChZ2gRfKqTCcBWhTYAgXA5rldeIr7tZUQNW22eSgTXrgsO64CWs6KIkh8Yjfww2DeDefSkWj7rhRzXj9iVN9WxcaDkjR2jlM-AHA3jdCfsQxajjsv5wonKESZz4s_1OMq6cHcxGbRtnxAMraOTeme20vokZLjvp4A3hsmmuXOjqaK5Nvj9QlWap457OMrNZLvGilJB2mozA-sSy15m7JWYeG0gQGKjtCP5TEt68pOWVo9_GEc20YeAkopayGh5WGK21Q=w1274-h709-no" alt="Our Final Architecture"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/05/29/Complete-JavaScript-Course-Project-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/29/Complete-JavaScript-Course-Project-2/" class="post-title-link" itemprop="url">Put It All Together: The Budget App Project: Part II</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-05-29 15:36:44 / Modified: 15:40:36" itemprop="dateCreated datePublished" datetime="2017-05-29T15:36:44-07:00">2017-05-29</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/05/29/Complete-JavaScript-Course-Project-2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/05/29/Complete-JavaScript-Course-Project-2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Project-Planning-and-Architecture-Step-2"><a href="#1-Project-Planning-and-Architecture-Step-2" class="headerlink" title="1. Project Planning and Architecture: Step 2"></a>1. Project Planning and Architecture: Step 2</h2><h3 id="1-1-What-We-Just-Completed"><a href="#1-1-What-We-Just-Completed" class="headerlink" title="1.1. What We Just Completed"></a>1.1. What We Just Completed</h3><p><img src="https://lh3.googleusercontent.com/lWHSuBs8felsWHAkvqpV00aL1I16pvwOuyWJWBIGCKWBdNmKtZLINWu4kMviBUSfR8sqIWtXkYQXV89q6G3uuDFVZOEb1qHgoiP_XFbobM0MTD7QuKl2XYARjHQ2SMdNzOjTLOxHUQLFAsdFbOz1ZQjWx52FKDHblkfwA6nu9dIOSRoRm4e_KIsybUsWC2_3HWlL40M96YR6PFYoqbp7AGyr5jEvPBaByzglQtjN3Nqq5bQxSRqjSoZdt5LvRvpGSf5qiJ8CUlmWTN3bIASzu7QTNWuk2nPKAgKRSeI6lk1iP5s6SM3Q0-lDVfxUf9oYJLxtmQwKz2WDG9ZaF8dbJ5fOxUNArNaWEKH0UWGOkWIKCn0X0_S2nd-RBdRTBb5k0dsUTx9DifrNOjMTu-jj5gfKha6vUrkh0Sr-3-x_J2i8ZctWlOdf89DEMdmeZuaOoU4YefaFka0r5UoFiyxCl6YDn26JEOccMDPCsK_4laOExPeIle56252nE1AmdnpQkzGew95GnUPYsJBPYql4QQfMhHG3Jjs8i2FFJEeja56_8-q_Mj_9NBR5OjbLhExeCmzq7HXPKh0yY37j-WTbJkJRU_sL31w5AI9kv15FvyHFtUL8a5HN-Kv6uqnlCiQpsXOycBoH_0iMtKMm91v87Sa38PJ8duw7KubvV-cFTw=w1734-h1010-no" alt="What We Just Completed"></p>
<h3 id="1-2-Panning-Step-2"><a href="#1-2-Panning-Step-2" class="headerlink" title="1.2. Panning: Step 2"></a>1.2. Panning: Step 2</h3><p><img src="https://lh3.googleusercontent.com/GE0EEABtsEXmgyU9mkcrKRA_8HCx9Ce0Aql32TGBRA3kvp3lK93plD9jxezzD1oQBfJnch59NZfYCBH4VJE41u1_p-496CSU-ilLb6sl9xcAaeLRUKyya8PL6aEdRguUj1yaJYltix4dFNtLzmz5kfsNdfDolbVj0TDq05U2GYQEyFWlC2DHILnWQ2C6gxCT5rOZ50E7d8pzEmLILfBD4VukS2Tju3Obail2Csd2mRV4ty6eFk7FtfVBj2Wqd2arQ7b36FICt_PKKwXiybATO1SF_ilm30l12ge58n5PVittFmI0fMBAVglKi7gNBwqTVqc8qMtIRr8jopHCDyBS6_zkw_NCoGzGAol8eQvR_MJirBeBhQEUI66mXDDUk-qmODARUteDvKSQgLdBDA0J2MwrMh_iEBYB8kcHMhAjVGtsXJo-WkGeiCaEwQ_MMLJAL2bvnqxrkgJ-39H84SDVMlfA_s1t7npm_AaIUmyWBWr7PtgaCzNSW_wiCOBoA4Ux5YPufYK36soW7GvTfvr2saHqFb4nv0-GT5vILIXNkyLgW7RDOMwjiYFaym79MJiWREGM6EaHQeWm4LVHwUJ9ezfM1DUHn9tBnE0ECT6oSWyQgCXOARZhkV-SJpZIsTPuecQtuV_km9g9DBdXCWgV793Nr5ABh-B1e9sqW1bo-g=w1734-h850-no" alt="Panning: Step 2"></p>
<h2 id="2-Event-Delegation"><a href="#2-Event-Delegation" class="headerlink" title="2. Event Delegation"></a>2. Event Delegation</h2><h3 id="2-1-Event-Bubbling-Target-Element-and-Event-Delegation"><a href="#2-1-Event-Bubbling-Target-Element-and-Event-Delegation" class="headerlink" title="2.1. Event Bubbling, Target Element and Event Delegation"></a>2.1. Event Bubbling, Target Element and Event Delegation</h3><p><img src="https://lh3.googleusercontent.com/--HVptQAUvm5pPbpqe3db6umeD2fiDOmNqVPk9IN40Hveu52sLVpUN7syCmeZChKc7-vv-rlcc7O3u-8Qu58L-psHxAPryPywwTaN1eSxTYUz8YCou1xrhIpcRG2udvNmp4jxuOT2pieJH68523eCjGOu8rG0M99FQu_PZqbte2PIGStrJxRyWoKr9GO5zaWzzHmbp_NvjJrRBF8c_tiiSIdhY_1ACeDu5vwJMmI7AwsahDiDJ2JYdYOZK0DdiJd3vMYJxWqQILsldxGmDllXiYT98peKz8LNKgyqKZqnp7HQtWU4qbnEw2y0kv6jsPyf71Hd44rsY1f2Mwlm2TSl9q7DGEVDlzlZ0oo82EhCNmF1Wr_RKdbMkgO-pMKh5iQp4OjPYdzY56YPblCOaw47JnOKXvCr36_RYiF-90HkEuT1tdrSF3nYIkFyaKIxfMxb9V1NXKocKdfz48aBiHW7UMVus-3fp4td61oyW66B3uG4QpJOg8fVpNvj59-CokV52UhcwGtajTwqpWdHNB5u7942I7mb0HwwxY7q4w1Z1snahSkZ_FuvamtjQ1MEmocxQPHFd4NrL71oMigqd2AqSy2mb3VW0Xq7LmhtshbrQrqhlWeG0ubgl4yYN4u8Hej2gOTvRNiUKGGbWMNXvUZHyx--imq2m5ydn2IzYHbNw=w819-h362-no" alt="Event Bubbling, Target Element and Event Delegation"></p>
<p><strong><code>Event bubbling</code></strong> mean that when an event is fired or triggered on some DOM element, for example,by clicking on our button here on the right side, then the exact same event is also triggered on all of the parent elements.</p>
<p><strong><code>Event delegation</code></strong> refers to the process of using event propagation (bubbling) to handle events at a higher level in the DOM than the element on which the event originated. It allows us to attach a single event listener for elements that exist now or in the future.</p>
<h3 id="2-2-Use-Cases-for-Event-Delegation"><a href="#2-2-Use-Cases-for-Event-Delegation" class="headerlink" title="2.2. Use Cases for Event Delegation"></a>2.2. Use Cases for Event Delegation</h3><ol>
<li><p>When we have an element with lots of child elements that we are interested in;</p>
</li>
<li><p>When we want an event handler attached to an element that is not yet in the DOM when our page is loaded.</p>
</li>
</ol>
<h2 id="3-Setting-up-the-Delete-Event-Listener-Using-Event-Delegation"><a href="#3-Setting-up-the-Delete-Event-Listener-Using-Event-Delegation" class="headerlink" title="3. Setting up the Delete Event Listener Using Event Delegation"></a>3. Setting up the Delete Event Listener Using Event Delegation</h2><ul>
<li><p><strong><code>What you will learn in this section:</code></strong></p>
<ul>
<li>How to use event delegation in practice;</li>
<li>How to use IDs in HTML to connect the UI with the data model;</li>
<li>How to use the parentNode property for DOM traversing.</li>
</ul>
</li>
<li><p>Action Items</p>
<ul>
<li>Add container in UI Controller DOMstrings;</li>
<li>Update setupEventListners in app controller;</li>
<li>Create ctrlDeleteItem method for event listener.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = obj.budget;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = totoalInc;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = totalExp;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">		<span class="built_in">document</span>.querySelector(DOM.container).addEventListener(<span class="string">'click'</span>, ctrlDeleteItem);</span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event.target);</span><br><span class="line">		<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">		itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">		<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">			<span class="comment">//inc-1</span></span><br><span class="line">			splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">			type = splitID[<span class="number">0</span>];</span><br><span class="line">			ID = splitID[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			UICtrl.displayBudget(&#123;</span><br><span class="line">				budget: <span class="number">0</span>,</span><br><span class="line">				totalInc: <span class="number">0</span>,</span><br><span class="line">				totalExp: <span class="number">0</span>,</span><br><span class="line">				percentage: <span class="number">-1</span></span><br><span class="line">			&#125;);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>



<h2 id="4-Deleting-an-Item-from-our-Budget-Controller"><a href="#4-Deleting-an-Item-from-our-Budget-Controller" class="headerlink" title="4. Deleting an Item from our Budget Controller"></a>4. Deleting an Item from our Budget Controller</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>Yet another method to loop over an array: map;</li>
<li>How to remove elements from an array using the splice method.</li>
</ul>
</li>
</ul>
<p>Add deleteItem Method in Budget Controller</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">	<span class="keyword">var</span> Expense = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> Income = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> calculateTotal = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">		data.allItems[type].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">			sum = sum + cur.value;</span><br><span class="line">		&#125;);</span><br><span class="line">		data.totals[type] = sum;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> data = &#123;</span><br><span class="line">		allItems: &#123;</span><br><span class="line">			exp: [],</span><br><span class="line">			inc: []</span><br><span class="line">		&#125;,</span><br><span class="line">		totals: &#123;</span><br><span class="line">			exp: <span class="number">0</span>,</span><br><span class="line">			inc: <span class="number">0</span></span><br><span class="line">		&#125;,</span><br><span class="line">		budget: <span class="number">0</span>,</span><br><span class="line">		percentage: <span class="number">-1</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		addItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, des, val</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> newItem, ID;</span><br><span class="line">			<span class="comment">//Create new ID</span></span><br><span class="line">			ID = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span> (data.allItems[type].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				ID = data.allItems[type][data.allItems[type].length - <span class="number">1</span>].id + <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				ID = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Create new item based on 'inc' or 'exp' type</span></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Expense(ID, des, val);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Income(ID, des, val);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Push it into our data structure</span></span><br><span class="line">			data.allItems[type].push(newItem);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Return the new element</span></span><br><span class="line">			<span class="keyword">return</span> newItem;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, id</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> ids, index;</span><br><span class="line">			<span class="comment">// id = 3</span></span><br><span class="line">			<span class="keyword">var</span> ids = data.allItems[type].map(<span class="function"><span class="keyword">function</span>(<span class="params">current</span>) </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> current.id;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			index = ids.indexOf(id);</span><br><span class="line">			<span class="keyword">if</span> (index !=== <span class="number">-1</span>) &#123;</span><br><span class="line">				data.allItems[type].splice(index, <span class="number">1</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		calculateBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="comment">// calculate total income and expenses</span></span><br><span class="line">			calculateTotal(<span class="string">'exp'</span>);</span><br><span class="line">			calculateTotal(<span class="string">'inc'</span>);</span><br><span class="line">			<span class="comment">// Calculate the budget: income - expenses</span></span><br><span class="line">			data.budget = data.totals.inc - data.totals.exp;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Calculate the percentage of income that we spent</span></span><br><span class="line">			<span class="keyword">if</span> (data.totals.inc &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				data.percentage = <span class="built_in">Math</span>.round((data.totals.exp / data.totals.inc) * <span class="number">100</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				data.percentage = <span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">				budget: data.budget,</span><br><span class="line">				totalInc: data.totals.inc,</span><br><span class="line">				totalExp: data.totals.exp,</span><br><span class="line">				percentage: data.percentage</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		testing: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>Call deleteItem method in App Controller ctrlDeleteItem:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(event.target);</span><br><span class="line">	<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">	itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">	<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">		<span class="comment">//inc-1</span></span><br><span class="line">		splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">		type = splitID[<span class="number">0</span>];</span><br><span class="line">		ID = <span class="built_in">parseInt</span>(splitID[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">		budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="5-Deleting-an-Item-from-the-UI"><a href="#5-Deleting-an-Item-from-the-UI" class="headerlink" title="5. Deleting an Item from the UI"></a>5. Deleting an Item from the UI</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>More DOM manipulation: how to remove an element from the DOM.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span>,</span><br><span class="line">		container: <span class="string">'.container'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		deleteListItem: <span class="function"><span class="keyword">function</span>(<span class="params">selectorID</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> el = <span class="built_in">document</span>.getElementById(selectorID);</span><br><span class="line">			el.parentNode.removeChild(el);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = obj.budget;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = totoalInc;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = totalExp;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<p>Call UICtrl.deleteListItem and updateBudget methods in App Controller ctrlDeleteItem:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> ctrlDeleteItem = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(event.target);</span><br><span class="line">	<span class="keyword">var</span> itemID, splitID;</span><br><span class="line">	itemID = event.target.parentNode.parentNode.parentNode.parentNode.id;</span><br><span class="line">	<span class="keyword">if</span> (itemID) &#123;</span><br><span class="line">		<span class="comment">//inc-1</span></span><br><span class="line">		splitID = itemID.split(<span class="string">"-"</span>);</span><br><span class="line">		type = splitID[<span class="number">0</span>];</span><br><span class="line">		ID = <span class="built_in">parseInt</span>(splitID[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. delete the item from the data structure</span></span><br><span class="line">		budgetCtrl.deleteItem(type, ID);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Delete the item from the UI</span></span><br><span class="line">		UICtrl.deleteListItem(itemID);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Update and show the new budget</span></span><br><span class="line">		updateBudget();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/05/28/Complete-JavaScript-Course-Project-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/28/Complete-JavaScript-Course-Project-1/" class="post-title-link" itemprop="url">Put It All Together: The Budget App Project Part I</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-05-28 11:14:49" itemprop="dateCreated datePublished" datetime="2017-05-28T11:14:49-07:00">2017-05-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2017-07-07 22:08:22" itemprop="dateModified" datetime="2017-07-07T22:08:22-07:00">2017-07-07</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/05/28/Complete-JavaScript-Course-Project-1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/05/28/Complete-JavaScript-Course-Project-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-Project-Planning-and-Architecture"><a href="#1-Project-Planning-and-Architecture" class="headerlink" title="1. Project Planning and Architecture"></a>1. Project Planning and Architecture</h2><h3 id="1-1-Architecture-Preview"><a href="#1-1-Architecture-Preview" class="headerlink" title="1.1. Architecture Preview"></a>1.1. Architecture Preview</h3><p>The following is the final architecture preview:<br><img src="https://lh3.googleusercontent.com/eHN4cOiKul0fFzt9c-ZMWMbVQYnYH8cU7YbCz7ndP-a1TcZPksuWvwSZOAPnxBJVuZamnkmszAtyT-vOxOsBTUh-LsQ-Dy_PWtAFKBFPPYnHWmdv5JQ-nwBjhmCjOPL8T_eKDYXgvp1ho0rCFBH2BI71oqMEEEnBFQKlWEWD8NeHWpxFkdaVa-9adznp9o81pPsnL6ZAz6HBzDoXFagESydtpv6Rf1U6GTpw-pS-eBIumvtp5kwUh1s2dYxvNvMPG9ZcBkUOT-eFPJzc6p2pNPgA6uuNnR_m8r-0nYbOssjo0ObJdgm7POwyaRaZSuajsAlwRK3uTGlceWf_omICqZwpJJr2bm1LU9ZE2MHOHzUTdt6dWCnw-H-Ih8DAoh1k6ThidJ8q6-HybfsV5BiLwCzXL5-kaqPo5MB42aqy7tEMMu5uWBNyXoEfKVtINeSy1jsflW5RbUu3tMXApTUjxscymMur7P7xsUGYCQ_lTU9eylIDO-F6u7V7w88igzTXZIfXTZvbg1198X3BYYiuciWGTSo-4rGdMCVS_HfCoiNbY3bAjoc5ffRt0H738I9tVaylNwFiAJc0ZavF4YNb2QbZsJCmNU5ffZYfcC9hLDd63JJ-RYEZiQzpMG3MVlAyjfETp7EDZlHFulj9dfIBlJE3jOuEjTaEBO0dT-MHMw=w1177-h681-no" alt="Architecture Preview"></p>
<p>But let’s not to be so fast, next we’ll start planning from scratch.</p>
<h3 id="1-2-Planning"><a href="#1-2-Planning" class="headerlink" title="1.2. Planning"></a>1.2. Planning</h3><p><img src="https://lh3.googleusercontent.com/Vq_20C_jNjPPcLjLnSgvcWKrCMhaCK9X1OuTr4iQp1P9P0tvqvnVzBRAUUR4ciMczOG3EySVrrh40T92yNVS9JQRIfmjGLIwLmC5GsjvdMx-HhmP6BHobjv-ksFax6jAyYcYb_tD0EqKYS0UlXQzy606iJqsMYTdVDY9AVc03L5iBf0F_zwalbFPAuyByUj1PabHhRX976zPxOdWqVKYt3DBAp-GPMHRi-uiZ2G4ApX-XaLVgVooOtOXVo1-4-ZyqpOkJZIUK1WdZh6i52YwEsih--r6t6tbHCkkxpDfRZGrMyg3YdU0-VH3Vo4sE3sHka1Uk6HmlluA20Pqw0SdWS1EwV_KNsLsRBF4mkhlTkYggHbB7E4JosBIcbeSOtJ_1q_u-_7X_jI-2lL2kE8PVowlPQa4QxEJ08P6t2dRoRJd6H5DbTd1IZ_O30HMfMdnsaX8Y-YgpIXt0VIZIk_KVz_C7mxn3qQhxkj2rEKw8QIcsAIQFOPrOwCdOGNA18sT_gGmVElSoVHlfz7Hn8w4wuhQztqL3zJpu4YGYajg80QnqSyQ-rHt8wAEvqb3FeTz3JG8tnXOpEyTI6Wd0RxgD5XBBmMsxs8pZJcH2fNdeGDVNIRcKwD6cb79qmFP-pEo6Hi1N48_dx7OKcR0AXOMnHpTaaHZYFDQy_PMZJwo3A=w1177-h556-no" alt="Planning"></p>
<h3 id="1-3-Structuring-Our-Code-with-Modules"><a href="#1-3-Structuring-Our-Code-with-Modules" class="headerlink" title="1.3. Structuring Our Code with Modules"></a>1.3. Structuring Our Code with Modules</h3><ul>
<li><strong><code>Modules</code></strong><ul>
<li>Important aspect of any robust application’s architecture;</li>
<li>Keep the units of code for a project both cleanly separated and organized;</li>
<li>Encapsulate some data into privacy and expose other data publicly.</li>
</ul>
</li>
</ul>
<p><img src="https://lh3.googleusercontent.com/_WJUZnWVNk1q-KifAlnOMyeTt0V-nRCciTWBTR6eKtBLUlTvFG8dGIFQI2yoPtPg35jDFkTt5w9fR1UTdou1o-gNLveHAUldxUr5KwkRolnRpx3VzatRIO7Z7k-dSGsBgK-IuJgV99Sp2lvfDHxy-Js6-fKx2o3PyM8iVC5rT3UvLpg1fJ5HDeOOeC64GdPJ4woBZDGUY5OsZBJ6lYHMDMQDCWGriULwHiItzxjDJAKKWmEMprFVJqk85j0nsRaIbqixK-BQ-ep6GEkiECAurrTEgs1LNFhdhFcXGJoTPvDwiHSUVufzkZxb9LndkNBibo9zwd6RJH8X8U70jgOG9aYArOOlIUYI53Za4G0hue2Lx9onMXg-FI3WbrshVyfFtPDx4fqnwVGsfEpZKfLxYtYSZiE0-6WbAOzHLKYT90L1vK7JFZGZwQWrtYPG_AdJw9q8cstjE2vRhhYHinOuiv2Z6GgWlgk_ysTfv-h1yaZf0-Q_rGVngwgpqb7-A-uqD3czOQ0cw2oT0YDTpMk0Zrv-DpI5Fi5cc6wC5hgy-dVkRHmvf2mVmyK384mueQpAekJJjYMogmml0z6EZEhPJctMuAjX6d7p-Xkg13eEw9Z1U83cx7H0ZVY6Tycxd4WpLggutzf330rRc8egouvNoD5xEJSYEZTl_YMkZHDNaQ=w1177-h825-no" alt="Structuring Out Code with Modules"></p>
<h2 id="2-Implementing-the-Module-Pattern"><a href="#2-Implementing-the-Module-Pattern" class="headerlink" title="2. Implementing the Module Pattern"></a>2. Implementing the Module Pattern</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to use the module pattern;</li>
<li>More about private and public data, encapsulation and separation of concerns.</li>
</ul>
</li>
</ul>
<h3 id="2-1-Data-Encapsulation-Module"><a href="#2-1-Data-Encapsulation-Module" class="headerlink" title="2.1. Data Encapsulation Module"></a>2.1. Data Encapsulation Module</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> budgetController = (function() &#123;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="number">23</span>;</span><br><span class="line">	<span class="keyword">var</span> add = function(a) &#123;</span><br><span class="line">		<span class="keyword">return</span> x + a;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		publicTest: function(b) &#123;</span><br><span class="line">			console.log(add(b));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>Running Result:</p>
<p><img src="https://lh3.googleusercontent.com/y4awh7GXtZWU6VMC6-nW-I8ZfYz2Pkt1WaGojFihXUPMhR3M8Z1b815sUCZxtQcWqgF8lHFIPIxBR1_4_qOdr64XSobxXfbOXtPQDYadpwoFM3DCOss4HH4N-_zZrw-9TWmKBHe3qoLDUaEiLfZZLq5-I2xm3zoFqe9m7JjHzuuNRiPtYUfV9zM0A8JAK4MisQx7Qjj2cCE8zF28BXnZl9Zc4oMZtemx3ynQJGPjSbkro51AvzTuNEFkmp7i6xt-YfHpdZeAX63ye2jOdxtqEWdT2a0HonHJyTXM-7Nlx2LT32HhxvNJlRsoFNELIii8PQe0bcT0jOnSU0XjthHJ27muQ856c5xN5IX4sNw_6TSfRYr53n2ikIjvc28X9pOzBpeYL4rdRe_vOrKt9Wr4KHliJzcOaipVgaadHQiZNCQIUVAfh7rUk2zRQI0mvJnwuBLysaJNyfTdDZMag8bADBoQd3M38XKwZVyUeh9pAiGZGZqeUg8ELwArGjnIwWv8wZ22hi_qiq0jQkbS4FOvwHh2dbvA5mTdlpsRFdN5484Bz-IYibEUYM_TLw9X8rb7VPQfoeZXjhMwAaLjQkkoFmGAOLK5S9k11il-lhF_LLV91io5Wj1J52OUZzFZ6ASwoT9MQ_vsFP8jVZekxPxnfZFifCHMo11ThEuPllwyBQ=w1734-h232-no" alt="Data Encapsulation Module Running Result"></p>
<h3 id="2-2-UI-Controller"><a href="#2-2-UI-Controller" class="headerlink" title="2.2. UI Controller"></a>2.2. UI Controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (function() &#123;</span><br><span class="line">	<span class="keyword">var</span> x = <span class="number">23</span>;</span><br><span class="line">	<span class="keyword">var</span> add = function(a) &#123;</span><br><span class="line">		<span class="keyword">return</span> x + a;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		publicTest: function(b) &#123;</span><br><span class="line">			<span class="keyword">return</span> add(b);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (function() &#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (function(budgetCtrl, UICtrl) &#123;</span><br><span class="line">	<span class="keyword">var</span> z = budgetCtrl.publicTest(<span class="number">5</span>);</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		anotherPublic: function() &#123;</span><br><span class="line">			console.log(z);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>


<h2 id="3-Setting-up-the-First-Event-Listeners"><a href="#3-Setting-up-the-First-Event-Listeners" class="headerlink" title="3. Setting up the First Event Listeners"></a>3. Setting up the First Event Listeners</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to set up event listeners for keypress events</li>
<li>How to use event object</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (function() &#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (function() &#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (function(budgetCtrl, UICtrl) &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = function() &#123;</span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">		<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">		<span class="comment">// 4. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 5. Display the budget on the UI</span></span><br><span class="line">		console.log(<span class="string">"It works."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	document.querySelector(<span class="string">'.add_btn'</span>).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	document.addEventListener(<span class="string">'keypress'</span>, function(event)) &#123;</span><br><span class="line">		console.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			console.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>

<p>Reference:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank" rel="noopener">JavaScript Event reference /MDN</a></li>
<li><a href="http://keycodes.atjayjo.com" target="_blank" rel="noopener">Keycode Reference</a></li>
</ul>
<h2 id="4-Reading-Input-Data"><a href="#4-Reading-Input-Data" class="headerlink" title="4. Reading Input Data"></a>4. Reading Input Data</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to read data from different HTML input types;</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		<span class="keyword">var</span> input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">		<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">		<span class="comment">// 4. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 5. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"It works."</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>

<h2 id="5-Creating-an-Initialization-Function"><a href="#5-Creating-an-Initialization-Function" class="headerlink" title="5. Creating an Initialization Function"></a>5. Creating an Initialization Function</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How and why to create an initialization function.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		<span class="keyword">var</span> input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">		<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">		<span class="comment">// 4. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 5. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"It works."</span>);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>

<h2 id="6-Creating-Income-and-Expense-Function-Constructors"><a href="#6-Creating-Income-and-Expense-Function-Constructors" class="headerlink" title="6. Creating Income and Expense Function Constructors"></a>6. Creating Income and Expense Function Constructors</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to choose function constructors that meet our application’s needs;</li>
<li>How to set up a proper data structure for our budget controller.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">	<span class="keyword">var</span> Expense = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> Income = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> data = &#123;</span><br><span class="line">		allItems: &#123;</span><br><span class="line">			exp: [],</span><br><span class="line">			inc: []</span><br><span class="line">		&#125;,</span><br><span class="line">		totals: &#123;</span><br><span class="line">			exp: <span class="number">0</span>,</span><br><span class="line">			inc: <span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>


<h2 id="7-Adding-a-New-Item-to-Our-Budget-Controller"><a href="#7-Adding-a-New-Item-to-Our-Budget-Controller" class="headerlink" title="7. Adding a New Item to Our Budget Controller"></a>7. Adding a New Item to Our Budget Controller</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to avoid conflicts in our data structures;</li>
<li>How and why to pass data from one module to another.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">	<span class="keyword">var</span> Expense = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> Income = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> data = &#123;</span><br><span class="line">		allItems: &#123;</span><br><span class="line">			exp: [],</span><br><span class="line">			inc: []</span><br><span class="line">		&#125;,</span><br><span class="line">		totals: &#123;</span><br><span class="line">			exp: <span class="number">0</span>,</span><br><span class="line">			inc: <span class="number">0</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		addItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, des, val</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> newItem, ID;</span><br><span class="line">			<span class="comment">//Create new ID</span></span><br><span class="line">			ID = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span> (data.allItems[type].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				ID = data.allItems[type][data.allItems[type].length - <span class="number">1</span>].id + <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				ID = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Create new item based on 'inc' or 'exp' type</span></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Expense(ID, des, val);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Income(ID, des, val);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Push it into our data structure</span></span><br><span class="line">			data.allItems[type].push(newItem);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Return the new element</span></span><br><span class="line">			<span class="keyword">return</span> newItem;</span><br><span class="line">		&#125;,</span><br><span class="line">		testing: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">		newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">		<span class="comment">// 4. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 5. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"It works."</span>);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>


<h2 id="8-Adding-a-New-Item-to-the-UI"><a href="#8-Adding-a-New-Item-to-the-UI" class="headerlink" title="8. Adding a New Item to the UI"></a>8. Adding a New Item to the UI</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>A technique for adding big chunks of HTML into the DOM;</li>
<li>How to replace parts of strings;</li>
<li>How to do DOM manipulation using the insertAdjacentHTML method.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">		newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">		UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 4. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 5. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"It works."</span>);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>

<h2 id="9-Clearing-Our-Input-Fields"><a href="#9-Clearing-Our-Input-Fields" class="headerlink" title="9. Clearing Our Input Fields"></a>9. Clearing Our Input Fields</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to clear HTML fields;</li>
<li>How to use querySelectorAll;</li>
<li>How to convert a list to an array;</li>
<li>A better way to loop over an array then for loops: for each</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">		newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">		UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 4. Clear the fields</span></span><br><span class="line">		UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 4. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 5. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"It works."</span>);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>

<h2 id="10-Updating-the-Budget-Controller"><a href="#10-Updating-the-Budget-Controller" class="headerlink" title="10. Updating the Budget: Controller"></a>10. Updating the Budget: Controller</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How to convert field inputs to numbers;</li>
<li>How to prevent false inputs</li>
</ul>
</li>
</ul>
<p>To convert a string to a number, we can use parseFloat.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">	<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">	<span class="keyword">var</span> value = <span class="built_in">parseFloat</span>(<span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value)</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>Apply DRY and prevent false inputs</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line"></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>


<h2 id="11-Updating-the-Budget-Budget-Controller"><a href="#11-Updating-the-Budget-Budget-Controller" class="headerlink" title="11. Updating the Budget: Budget Controller"></a>11. Updating the Budget: Budget Controller</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>How and why to create simple, reusable functions with only one purpose;</li>
<li>How to sum all elements of an array using the forEach method.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// BUDGET CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> budgetController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">// Some code</span></span><br><span class="line">	<span class="keyword">var</span> Expense = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> Income = <span class="function"><span class="keyword">function</span>(<span class="params">id, description, value</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.description = description;</span><br><span class="line">		<span class="keyword">this</span>.value = value;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> calculateTotal = <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">		data.allItems[type].forEach(<span class="function"><span class="keyword">function</span>(<span class="params">cur</span>) </span>&#123;</span><br><span class="line">			sum = sum + cur.value;</span><br><span class="line">		&#125;);</span><br><span class="line">		data.totals[type] = sum;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> data = &#123;</span><br><span class="line">		allItems: &#123;</span><br><span class="line">			exp: [],</span><br><span class="line">			inc: []</span><br><span class="line">		&#125;,</span><br><span class="line">		totals: &#123;</span><br><span class="line">			exp: <span class="number">0</span>,</span><br><span class="line">			inc: <span class="number">0</span></span><br><span class="line">		&#125;,</span><br><span class="line">		budget: <span class="number">0</span>,</span><br><span class="line">		percentage: <span class="number">-1</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		addItem: <span class="function"><span class="keyword">function</span>(<span class="params">type, des, val</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> newItem, ID;</span><br><span class="line">			<span class="comment">//Create new ID</span></span><br><span class="line">			ID = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span> (data.allItems[type].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				ID = data.allItems[type][data.allItems[type].length - <span class="number">1</span>].id + <span class="number">1</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				ID = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Create new item based on 'inc' or 'exp' type</span></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Expense(ID, des, val);</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">				newItem = <span class="keyword">new</span> Income(ID, des, val);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Push it into our data structure</span></span><br><span class="line">			data.allItems[type].push(newItem);</span><br><span class="line"></span><br><span class="line">			<span class="comment">//Return the new element</span></span><br><span class="line">			<span class="keyword">return</span> newItem;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		calculateBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="comment">// calculate total income and expenses</span></span><br><span class="line">			calculateTotal(<span class="string">'exp'</span>);</span><br><span class="line">			calculateTotal(<span class="string">'inc'</span>);</span><br><span class="line">			<span class="comment">// Calculate the budget: income - expenses</span></span><br><span class="line">			data.budget = data.totals.inc - data.totals.exp;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Calculate the percentage of income that we spent</span></span><br><span class="line">			<span class="keyword">if</span> (data.totals.inc &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				data.percentage = <span class="built_in">Math</span>.round((data.totals.exp / data.totals.inc) * <span class="number">100</span>);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				data.percentage = <span class="number">-1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getBudget: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">				budget: data.budget,</span><br><span class="line">				totalInc: data.totals.inc,</span><br><span class="line">				totalExp: data.totals.exp,</span><br><span class="line">				percentage: data.percentage</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		testing: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="built_in">console</span>.log(data);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>In updateBudget method:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>


<h2 id="12-Updating-the-Budget-UI-Controller"><a href="#12-Updating-the-Budget-UI-Controller" class="headerlink" title="12. Updating the Budget: UI Controller"></a>12. Updating the Budget: UI Controller</h2><ul>
<li><strong><code>What you will learn in this section:</code></strong><ul>
<li>Practice DOM manipulation by updating the budget and total values.</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// UI CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> UIController = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOMstrings = &#123;</span><br><span class="line">		inputType: <span class="string">'.add__type'</span>,</span><br><span class="line">		inputDescription: <span class="string">'.add_description'</span>,</span><br><span class="line">		inputValue: <span class="string">'.add__value'</span>，</span><br><span class="line">		inputBtn: <span class="string">'.add_btn'</span>,</span><br><span class="line">		incomeContainer: <span class="string">'.income__list'</span>,</span><br><span class="line">		expensesContainer: <span class="string">'.expenses__list'</span>,</span><br><span class="line">		budgetLabel: <span class="string">'.budget__value'</span>,</span><br><span class="line">		incomeLabeL: <span class="string">'.budget__income--value'</span>,</span><br><span class="line">		expensesLabel: <span class="string">'.budget__expenses--value'</span>,</span><br><span class="line">		percentageLabel: <span class="string">'.budget__expenses--percentage'</span></span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		getInput: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> &#123;</span><br><span class="line">			<span class="keyword">var</span> type = <span class="built_in">document</span>.querySelector(DOMstrings.inputType).value,</span><br><span class="line">			<span class="keyword">var</span> description = <span class="built_in">document</span>.querySelector(DOMstrings.inputDescription).value,</span><br><span class="line">			<span class="keyword">var</span> value = <span class="built_in">document</span>.querySelector(DOMstrings.inputValue).value</span><br><span class="line">			&#125;;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		addListItem: <span class="function"><span class="keyword">function</span>(<span class="params">obj, type</span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> html, newHtml, element;</span><br><span class="line">			<span class="comment">// Create HTML string with placeholder text</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (type === <span class="string">'inc'</span>) &#123;</span><br><span class="line">        element = DOMstrings.incomeContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="inc-%id%"&gt; &lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'exp'</span>) &#123;</span><br><span class="line">        element = DOMstrings.expensesContainer;</span><br><span class="line"></span><br><span class="line">        html = <span class="string">'&lt;div class="item clearfix" id="exp-%id%"&gt;&lt;div class="item__description"&gt;%description%&lt;/div&gt;&lt;div class="right clearfix"&gt;&lt;div class="item__value"&gt;%value%&lt;/div&gt;&lt;div class="item__percentage"&gt;21%&lt;/div&gt;&lt;div class="item__delete"&gt;&lt;button class="item__delete--btn"&gt;&lt;i class="ion-ios-close-outline"&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Replace the placeholder text with some actual data</span></span><br><span class="line">			newHtml = html.replace(<span class="string">'%id%'</span>, obj.id);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%description%'</span>, obj.description);</span><br><span class="line">			newHtml = newHtml.replace(<span class="string">'%value%'</span>, obj.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// Insert the HTML into the DOM</span></span><br><span class="line">			<span class="built_in">document</span>.querySelector(element).insertAdjacentHTML(<span class="string">'beforeend'</span>, newHtml);</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		clearFields: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">var</span> fields;</span><br><span class="line"></span><br><span class="line">			fields = <span class="built_in">document</span>.querySelectorAll(DOMstrings.inputDescription + <span class="string">', '</span> + DOMstrings.inputValue);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">var</span> fieldsArr = <span class="built_in">Array</span>.prototype.slice.call(fields);  </span><br><span class="line"></span><br><span class="line">			fieldsArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">current, index, array</span>) </span>&#123;</span><br><span class="line">				current.value = <span class="string">""</span>;</span><br><span class="line">			&#125;);</span><br><span class="line"></span><br><span class="line">			fieldsArr[<span class="number">0</span>].focus();</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		displayBudget: <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.budgetLabel).textContent = obj.budget;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.incomeLabel).textContent = totoalInc;</span><br><span class="line">			<span class="built_in">document</span>.querySelector(DOMstrings.expensesLabel).textContent = totalExp;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span>（obj.percentage &gt; <span class="number">0</span>）&#123;</span><br><span class="line">				<span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = percentage + <span class="string">'%'</span>;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			 <span class="built_in">document</span>.querySelector(DOMstrings.percentageLabel).textContent = <span class="string">'---'</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line"></span><br><span class="line">		getDOMstrings: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> DOMstrings;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="comment">// GLOBAL APP CONTROLLER</span></span><br><span class="line"><span class="keyword">var</span> controller = (<span class="function"><span class="keyword">function</span>(<span class="params">budgetCtrl, UICtrl</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> setupEventListners = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> DOM = UICtrl.getDOMstrings();</span><br><span class="line">	<span class="built_in">document</span>.querySelector(DOM.inputBtn).addEventListener(<span class="string">'click'</span>, ctrlAddItem);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">document</span>.addEventListener(<span class="string">'keypress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(event);</span><br><span class="line">		<span class="keyword">if</span> (event.keyCode === <span class="number">13</span> || event.which === <span class="number">13</span>) &#123;</span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'ENTER was pressed.'</span>);</span><br><span class="line">			ctrlAddItem();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> updateBudget = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="comment">// 1. Calculate the budget</span></span><br><span class="line">		budgetCtrl.calculateBudget();</span><br><span class="line">		<span class="comment">// 2. Return the budget</span></span><br><span class="line">		<span class="keyword">var</span> budget = bubdgetctrl.getBudget();</span><br><span class="line">		<span class="comment">// 3. Display the budget on the UI</span></span><br><span class="line">		<span class="built_in">console</span>.log(budget);</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> ctrlAddItem = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="keyword">var</span> input, newItem;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 1. Get the field input data</span></span><br><span class="line">		input = UICtrl.getInput();</span><br><span class="line">		<span class="built_in">console</span>.log(input);</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (input.description !== <span class="string">""</span> &amp;&amp; !<span class="built_in">isNaN</span>(input.value) &amp;&amp; input.value &gt; <span class="number">0</span>)  &#123;</span><br><span class="line">			<span class="comment">// 2. Add the item to the budget controller</span></span><br><span class="line">			newItem = budgetCtrl.addItem(input.type, input.description, input.value);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 3. Add the item to the UI</span></span><br><span class="line">			UICtrl.addListItem(newItem, input.type);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 4. Clear the fields</span></span><br><span class="line">			UICtrl.clearFields();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 5. Calculate and update budget</span></span><br><span class="line">			updateBudget();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">//Our public init method</span></span><br><span class="line">			<span class="built_in">console</span>.log(<span class="string">'Application has started.'</span>);</span><br><span class="line">			UICtrl.displayBudget(&#123;</span><br><span class="line">				budget: <span class="number">0</span>,</span><br><span class="line">				totalInc: <span class="number">0</span>,</span><br><span class="line">				totalExp: <span class="number">0</span>,</span><br><span class="line">				percentage: <span class="number">-1</span></span><br><span class="line">			&#125;);</span><br><span class="line">			setupEventListeners();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;)(budgetController, UIController);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/05/22/2017-weekly-6-new-mexico/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/22/2017-weekly-6-new-mexico/" class="post-title-link" itemprop="url">新墨西哥州之旅</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2017-05-22 18:28:08" itemprop="dateCreated datePublished" datetime="2017-05-22T18:28:08-07:00">2017-05-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2017-05-30 22:27:44" itemprop="dateModified" datetime="2017-05-30T22:27:44-07:00">2017-05-30</time>
              </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/05/22/2017-weekly-6-new-mexico/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/05/22/2017-weekly-6-new-mexico/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>“过去没有开始，未来没有终点。这是希望的旅程，是谁在风中奔跑，自由穿行梦想，向着幸福的远方。”</p>
<hr>
<p>周六(5月20日)凌晨四点，跟Link打Uber前往SFO, 开启了新墨西哥周末之行。</p>
<p>航班途径亚利桑那凤凰城(Phoenix), 最终抵达德州的El Paso，其距离我们此行的目的地白沙国家纪念地(White Sands National Monument)和卡尔斯巴德洞窟国家公园(Carlsbad Caverns National Park)都还算比较近。</p>
<h2 id="1-El-Paso"><a href="#1-El-Paso" class="headerlink" title="1. El Paso"></a>1. El Paso</h2><p>El Paso位于美国和墨西哥交界，和墨西哥城市Ciudad Juarez仅一线之隔，也正是因此，这里的街道和城市的风格具有浓厚的西班牙文化色彩。从Downtown往南沿着El Paso St走不远就是一个出入境的关卡，沿街有不少的小摊小贩，这样的场景其实在美国城市里并不多见，不少商铺的标价牌甚至叫卖声都已经是西班牙语，来来往往的行人也大都是墨西哥人的面孔，除了我们之外几乎就没看见其他中国人。</p>
<p><img src="https://lh3.googleusercontent.com/LJB51yA5JjvuerdK3wSOA4JZdgT3K6T-1Sv6ZJof7zluqLDtWcTz6fO4XGejuI1aUsUoe6dSODPVahBSC3PyZnVeEZmZ5VlTrAqkYWDZqbYLEY2P9mQGpyeJvxxlYxMG6bCl3DXqlwus2NXbSuL8stLLo51igl4bb84533fiI-JU5JidaQYWWAXSFXw5B17as0JhHtJggqfZXcBeK7dIIKIQ117PABSRN3-Eh6OtYVDhrKrqmqVup_o60AC1wKPp5Tf9hx7rRFPolx3UmSGFhOPvRTjROIOy6VTX66awEds9zgjDqbOJDvD-UxbJ1h3KrhjOEdEe49jBbTyCQ2p3QIYzwt_v6a99QuZFuOVPkdMaSFo21Jyx3xbL24gGPfO0yCPubvC3gmy2VYhQgc1pTfoEoteCACC98TtC178ngcY4K9B6uahUm01v-AyyvBFX97xkIktxXF5sqhYbs2ItHPr2IOIevKywOASuzgHbcHqjHBExaFfts0LgUJtrFOxua3W0i9ZZRkPJ_pCidrEmPaw_pTRzGptqcjhuBeGbNrQa2TJPaCcTdvnOXvC_S9RH8ppm4THap5XEZzaTmaUvSrdgJXlFZ-uM1fGx7v1PhKv4euH_tmRBch5KOLsgEFP0-hepYB7toy4HlTcAdoR0UBpuQBLWX2ZgxJ8lM6eiQA=w1791-h1343-no" alt="El Paso Street View 1"></p>
<p><img src="https://lh3.googleusercontent.com/achXyvvuFZmmDfnNSIsbQbQQEWFnRUn9OpDA-SIFw4jgze8xzmESkl31MKA26mcV_a53wQNcU06N78Q-SlJTA_mPfpd2lQdbDHClKiERkIyjvFZr-SJf6qTkInPthduxSggIQ2f7ze-69m9n7E5OlghHaePOsKmh9P1xu1aviOCy_xeow6-VAk0Kcm3wyxFod62Ms-pzwhwAAER78adchWaCzaJUAbd08CCMkAt9e8KJkKL7sxQl__SwQjoty9RPvFNoC2vqEDYOzivCWKkxOxezpUWUESCQP7nI1sQPVS3BKesx3Bw9MxWwWyq7HVdY__6TNyNvPyCtba1MGvH8OSbj35H9OG4U3d1GVBh5ZEsWVPCxg4wfkdeQ2KiEfj43sbbFmKHU_Byk5Hr1v-U7-PpwHillW0Jazznu7YiWrLHcw0S9_z1l9HDTe1bEHTfhI_QAeNOvdl7Aj0GGXed4dpekdVkiJI1Aw9K2cFrK4ERI8koc7Zeb9sfrFMTJss4cgH0tcf3mCWrOxByIcwOgDYxFKNezxHKVBBxt3S0UFpuSzAUYhkM35fK-djDoOBX7l-sim0snaqu5r8BMguVQtEIcjaL7_fxz3ZRu-3G-1tawTIp677OYCv8OwdHUI20bV1ZFonXc4a8oCGf080XNOdT7cohSnl0ze8Dsy-z3Hg=w1791-h1343-no" alt="El Paso Street View 2"></p>
<p>接着我们开车来到了El Paso著名的Scenic Drive, 这里的视野极好！可以俯瞰到整个El Paso和Ciudad Juarez两个城市，以及从中穿过的国境线。</p>
<p><img src="https://lh3.googleusercontent.com/bXeLFEyTMtigTTDYzh2xNt0SJQtL6GfXAUCKbA9tg0qG5C6rLSf18qCywfT81VKIHYsLjtBsoa4XM5SoHFH3zSHx5TIpn6WC1bKDVOVv-FraIA6f4-dj5ZTe9W8SRQS90OUCAzehgsIOZbqrEsZQfQ95qKeYednk3KChgnlBLTYa_oZ0HYLDrqYep-lbx0wokTVgNZELK68UvFeNvoL3BgbsxgvPyxIPKnG8RC_Ja8mxojhQcsRZb4ncfiU9G6HcMFoE11eGOAq8IyLV6pBH346wIkhkFeFphCvJGiI5fA_IPlan_ey9yMuFFWqqZ2JatRE5jSFztxkFuscsPUtC8mBaTlUxXk4h7H26JQPYSU2PAWc9LHshXlamZOGRXu_ScXyuvfee4KHiX18EhfrXLtzVLVgCUGKRXBJjkg9EVxYXJA5kL3fy9BH83Pj972VN3SyxMDn-FyfFQWeBaB0w_IVvcgl3jgJyG2KDBkkmj_EmViyzK89_k3T7iu3mho4tGjzth8-rTatdaqcAozMKEGi4TNxejekZnA-WtoEY7wIZVyJZnZNWW-JuhiqE-hcjf7P4aIotnKsbuLZqQufmOhf7T0VoNpdHKm2CpZFB4r2W1yVg6KUPkqmx19PMjl75J4-jyK2z4A5lmQaD8ZRR5gNC_3GUOGaH-dTC4-rklQ=w1791-h1343-no" alt="Scenic Drive View 1"></p>
<h2 id="2-White-Sands-National-Monument"><a href="#2-White-Sands-National-Monument" class="headerlink" title="2. White Sands National Monument"></a>2. White Sands National Monument</h2><p>结束了El Paso的短暂停留之后我们就驱车北上，进入新墨西哥州，前往近100 miles以外白沙国家纪念地。离白沙公园不远就是一个美国的空军和导弹基地，因此途中还遇到了例行的证件盘查。大概1个半小时之后抵达了白沙国家纪念地。</p>
<p>虽然目前只是National Monument，但白沙的名气比很多National Park还要大，方圆710平方公里的银白色沙丘构成了及其绝无仅有的自然景观，置身其中，如梦如幻。</p>
<p><img src="https://lh3.googleusercontent.com/i-k61xSA-DFQLji2LYQ9hqzdvYLITaIJx8pFcyRge1m_5oLJ9TDTVEX_sTpXZuvssH8_Kt6WsO8SXinTUS6oriC7rzBqOrmyNmoTBwKnIwLePvoK2dPOxT6xiFeH_Q67015oCGW50hviMq2S1H71pVekkgnYVwJAHUWJKD6k24tnZndG1NZ-rD2IVrRNyPq0iMGQWVJA0zk1hzrEhKnAWeV2pq4Xm3fzrDQ8koGKUfw22xYGZE479c_UdC24FJ_w_FUhLh-h-MGkiN-FozFFzkZ7DIPmA8aSZvZDHXjMaGRAd09euQnb46NVyyKnqlr2Do43dD0Dwbafz-0mQUXFj0Bvk6vQUYEqkNUf40Tbfdw0QCMfLgQns0_d8TPny-1zf3h-pl2ZoneorMBVM3O-EVgiHSFHZ9Dr8mdxqapG-uSahRLaXK77tWZSxQRX7kWGVr1NqHxyoHWpuwYO6tT9vbVqxil7HBw0ySOw3vRD-h-1hACie6mYyEYFChE9KUIrTGywWVCU2csZBEuijl1BHf8WYdrOYPG2tOLRNtyluoM0ZzhifxEpWo0XDAigvyZ5fMMQqg0fjTgKpWLXKviCVLcYKKVEYz-uqM4fkR4Hoo5soisAIzvECsvXAg5mHqnb6TPIIsdLPfZS1ZMNWKStDse7l4KBDpV2UbB3hSYn1g=w2560-h1157-no" alt="White Sands National Monument View 1"></p>
<p>在白沙公园看完了日落已经不早了，开车去附近的小镇Alamogordo觅食，本以为在这荒郊野外之地能找到些果腹的热食就不错了，没想到居然还发现了一家名字非常霸气的中式自助餐Rocket National Buffet。小店人也不多，席间老板很热情地跟我们聊天。得知他已经在这个僻静的小镇呆了十多年了，期间生儿育女，经营者自己的小生意，平平谈谈地活着。对于在城市里呆惯了的我们来说，这样的生活不免有些过于孤独。但转念一想，即使终日置身于繁华的车水马龙之中，我们是否又能真正地摆脱孤独？</p>
<p>正如马尔克斯在《百年孤独》中写的那样，“生命从来不曾离开过孤独而独立存在。无论是我们出生、我们成长、我们相爱还是我们成功失败，直到最后的最后，孤独犹如影子一样存在于生命一隅。”</p>
<h2 id="3-Carlsbad-Caverns-National-Park"><a href="#3-Carlsbad-Caverns-National-Park" class="headerlink" title="3. Carlsbad Caverns National Park"></a>3. Carlsbad Caverns National Park</h2><p>从白沙公园回到El Paso的酒店，晚上休息得还不错，第二天早上满血复活。沿着62号公路一路向东，开往Carlsbad Caverns National Park。Carlsbad Caverns在当地被称为蝙蝠洞，是西半球最大的天然巨穴之一。整个国家公园由约84个主要洞穴组成，奇特的地质形态非常罕见。</p>
<p>沿路还经过了德州的瓜达卢佩山国家公园（Guadalupe Mountains National Park）, 在车上就已经可以非常清晰地看到Guadalupe Peak(2,667 m)了，这也是德州境内最高地山峰，远远望去还是挺壮观的。</p>
<p><img src="https://lh3.googleusercontent.com/J9aU8g-FELsxKQ0gQNmUEfGJc6oy0Q8I9TDYE86upj9SE3H1UzV8tn6b9lem7aYtR-QdcT1TnUfekMcYyCzRtPijaDoP97OAkLIjYLZIajjd52eHE4MQoJZSWvzKW0ViAJIKojOlbWeeI2NccQKl5RDDJiHtlX9YjhKe_aR8qX7WkcCp1YyppmlwsL5xqFoE7rV6nOFzC50t5rhfqATg8VXzAzX2a1QRHm-VA0UV5SS21SvPNcVa3Lf2G9f151z-yoKbt5Q9pFzxWv7ZCynUbFYbVkK6y27crBQdwufUtsPXCtxg2K-9FXq0Tgof5Me9Caf0t4HwJNupvoZYwWh729k1B2ROIqTHYVMPa8zmOA3MBy6wbye8ZWgsUxGtH0SCgOLCuSOa-4mMBUN7OACYFBXpCIHUj_5x8CwjhvavXrc06uQtzvpcjqEbeR3rbKoDEQHHdAxml35tWWcCJV2gcdMCko6hxBdR0K4lU0qlRk9qgCPAIXJqPBtheF5zSDOD1ugB_yP8ktW7H05A5fRLZLb9pmLfDEe_PAyRKg9labr986X0ui-RpB-mI8s6bfXH4r5uFHI3t3YnXsXq-KDNfGiFoBgU5MCJV5BFhJp54t1H3MCQTUx7xo8ZLJqsYgmhMGDv_egU7zMKwwDeBIr3fyjCJ9-ddW1bNIRlfoutFA=w1791-h1343-no" alt="Guadalupe Mountains National Park"></p>
<p>大概两个半小时后抵达了Carlsbad Caverns National Park的Visitor Center, 吃了顿简单的墨西哥式午餐，稍作休息之后就在大厅里集合，准备参加一个之前就预定好的<a href="https://www.nps.gov/cave/planyourvisit/left_hand_tunnel.htm" target="_blank" rel="noopener">Left Hand Tunnel Tour</a>。公园里除了有让游客自由游览的Self-Guided区域之外，还好几个需要由专门导游带领进行游览的tour，因为时间关系我们只参加了这个难度适中的Left Hand Tunnel Tour。</p>
<p>导游是个帅气的白人小哥，跟大家简单地介绍了tour的概况以及相关注意事项，并且组织大家互相做了自我介绍。最后在出发之前每人都领到了一个点着蜡烛的手提灯，因为接下来将要进入的洞穴是完全没有任何照明设施。尽管这并不是我第一次去地下溶洞公园，但这种只能依靠手提灯来照明的情形还真是头一回。</p>
<p>一行十几人从Visitor Center直接乘坐电梯下降到了Big Room外的大厅，在导游的带领下开启了旅程，进入了彻底的黑暗之中。十几盏看似微弱的手提灯连成一串，合力照亮着脚下的路，以及两边形态各异的奇石。相比徜徉于别处那些被灯光装点得绚丽多彩的溶洞，这样的行程显得更加具有冒险的精神与探索的乐趣。</p>
<p><img src="https://lh3.googleusercontent.com/Cz5WgUMwyTrqnZDctwtU2ewrqg7PeG_Wg2xtu3KeFWa-GVl2A11-e-FoxPsqtCybVh-yFEtQFlXVk223Z7NjHgJWVcaiqINun48bS-O9mwAr7VPl7YF6leangWU3w82dQEBQXkvlJqNGlyfIpZhhUcjyzoiUKSKapGdD5BaDLC73cq2PrCSJoeU7RpipynYLpK8Bhe6MaW5RI-0ZDom5jnegFSBkOZM93P4L72YkSEdNPW0RF2ekNO3Psi9zK0drYrhs7AkQA7RVvCuY6VfbW1fdSil0IZ2faHueyRLsYc5SB79OKM8WymLOMujD0js0YGijzdmRJ9Y-Px0IUEN9GymnmdXnhM24nAJZQgFQgl-Rl2ZVR55Etj-8kFyBBUACStQRoXNeLus9llLHgPf5LEQNoUfh0ZPsQXbdP_kfkON4SGGn-V3dWDAU2OGAgBzmdO1xI6BmjNyh-GJehcbBjRLEn73S6qcKOq8wPKwDcWIup5VQEDxdi_GVR4Q0RMqls5MExCDvwFbHLrEaJUH7hCCPvDTD9xcpaJaIpdpzBZIdDzXCz8yJCNt6xnMc3ZTYs5NY2oLeaEns1mMI6oDSy_eoK1nDR_bYcaW_XHeaYswq40RchB7M87puJZ-zLz4Yh1R2j5JnGRuUso7RZLMylf_KUGgp1vBEcUI8QvmhVQ=w1502-h1343-no" alt="Left Hand Tunnel Tour View"></p>
<p>在Tour的最尽头，导游让大家都吹灭了手中的灯，仅留下他手中唯一的一盏。微弱的灯光在无边的黑暗中显得是那么的苍白无力。仿佛又把我们带回到了当年Jim White独自一人发现和探索Carlsbad Caverns时所处的情境。</p>
<p>耗时近两小时的Tour结束后，告别导游，我们开始了Big Room的参观。这就是那个已知的西半球最大的地下洞穴，与它相比，所有其他洞穴立即相形见绌。它长达550米，最宽处可达340米，盛得下十几个足球场；而且它有着惊人的高度，在里面建造30层的楼也绰绰有余。洞内的灯光照明也并不像国内的很多洞穴那样五颜六色，而是清一色的白炽灯照明，最大程度地保持了它本来的面貌。其带来的震撼程度也远远地超出了我们的预想，不得不再次感叹大自然的神奇力量与人类的渺小。</p>
<p><img src="https://lh3.googleusercontent.com/NdRVGcBKaF7mfRg1In_-v4nGjhi3xsvJhBc-MWklgb2iM_GwsPsOgex5i-NdDjfnUn8SAYh7xnkGJA18_sB7f0_JOP1s9h3qsz-QI8Xtdr6aAZvzvoY0HQrc7d_PXY6jjci-ZtlLa5BinrjgDxAatv49VyHq1CtJ8aksw0XdYCOtiNRiY4htZd9Qzrut3SxDdw7s_I6aLGUVUjRw7jzpSWSOfhp7EYADV-6zF_48LVANydXCuL9JUh6-15uR0XDf-jqmFWQxyOvVzg2NT6RjDCLuFT5A3g97dOUaAEjy9kcWGNm8dvGUKB5r-8FgzMBAyLxbyaElDk3UP0an5H_TayxKv8y7bWBxXzjxDdgydZm4UwxE73Wdjjl3xyIW3Og8e6pkOBD7KJdsn5J9hTc6eLTakioIdT9tkjCvMVQjnV0aQ4QAC6WMCPSw4WTY-GSj2Lc00Mg15yaRatQ7dcfJYYowHCCtlNZvGYxx5lrHO0ylYlgyzgKgO6fLnVBeulphqdm_zo37DkAWUS2qc2paKv2RaNC4bCQxEzwTJQ3OROgGaBrIqjtT0E-A_YDc0JeMnD4lM7to1xSOcQGoI4CdhGQR1HfCOqxnWGb2JoiYTeJO8tbOGtXik-IJg0RUUK0dpA5UfblvW1ig92RjnUZdcZzZK0qwI45MybLpnUGoig=w1829-h1060-no" alt="Big Room View"></p>
<h2 id="4-End"><a href="#4-End" class="headerlink" title="4. End"></a>4. End</h2><p>告别了Carlsbad Caverns National Park， 再次驱车回到El Paso，夜色中踏上了返程的航班。</p>
<p>“世界像无尽的画卷，一切像美丽的诗篇。如清风自在地旅行，掠过这辽阔的原野，掠过夕阳里的远山，在无限宽广世界自在奔跑。”</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://dannyzhang.run/2017/05/17/java-Multithreading-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Danny Zhang">
      <meta itemprop="description" content="Blogger/Software Engineer/Fitness Enthusiast">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="D.Z. Notes (Beta)">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/17/java-Multithreading-1/" class="post-title-link" itemprop="url">Java Multithreading: Run Two Synchronized Methods Concurrently</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2017-05-17 09:57:05 / Modified: 10:00:21" itemprop="dateCreated datePublished" datetime="2017-05-17T09:57:05-07:00">2017-05-17</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/05/17/java-Multithreading-1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/05/17/java-Multithreading-1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="I-Question"><a href="#I-Question" class="headerlink" title="I. Question"></a>I. Question</h2><p>If i synchronized two methods on the same class, can they run simultaneously on the same object? for example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">methodA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//method A</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">methodB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// method B</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="II-Explanation"><a href="#II-Explanation" class="headerlink" title="II. Explanation"></a>II. Explanation</h2><p>Java Thread acquires an object level lock when it enters into an instance synchronized java method and acquires a class level lock when it enters into static synchronized java method.</p>
<p>In this case, the methods(instance) are of same class. So when ever a thread enters into java synchronized method or block it acquires a lock(the object on which the method is called). So other method cannot be called at the same time on the same object until the first method is completed and lock(on object) is released.</p>
<p>Putting synchronized on a method means the thread has to acquire the lock on the object instance before entering that method, so if you have two different methods marked synchronized the threads entering them will be contending for the same lock, and once one thread gets the lock all other threads are shut out of all methods that synchronize on that same lock. So in order for the two methods to run concurrently they would have to use different locks, like this:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object lockA = <span class="keyword">new</span> Object();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object lockB = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methodA</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(lockA) &#123;</span><br><span class="line">            <span class="comment">//method A</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">methodB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span>(lockB) &#123;</span><br><span class="line">            <span class="comment">//method B</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>For more reference, see <a href="https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html" target="_blank" rel="noopener">Intrinsic Locks and Synchronization</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Danny Zhang</p>
  <div class="site-description" itemprop="description">Blogger/Software Engineer/Fitness Enthusiast</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags">
          
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Danny Zhang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://dannyzhang-run.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
